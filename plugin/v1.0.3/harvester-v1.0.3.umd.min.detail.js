(("undefined"!==typeof self?self:this)["webpackJsonpharvester_v1_0_3"]=("undefined"!==typeof self?self:this)["webpackJsonpharvester_v1_0_3"]||[]).push([[5],{"04ae":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-2bd7f102]:after,.clearfix[data-v-2bd7f102]:before{content:" ";display:table}.clearfix[data-v-2bd7f102]:after{clear:both}.list-unstyled[data-v-2bd7f102]{margin:0;padding:0;list-style-type:none}.no-select[data-v-2bd7f102]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-2bd7f102]{resize:none}.hand[data-v-2bd7f102]{cursor:pointer;cursor:hand}.fixed[data-v-2bd7f102]{table-layout:fixed}.clip[data-v-2bd7f102]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-2bd7f102],.force-wrap[data-v-2bd7f102]{word-wrap:break-word}.force-wrap[data-v-2bd7f102]{white-space:normal}.bordered-section[data-v-2bd7f102]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-2bd7f102]{margin-bottom:20px;margin-top:20px}.error[data-v-2bd7f102]{color:var(--error)}',""]),e.exports=t},"13ce":function(e,t,a){var r=a("c4c9");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("ae510e52",r,!0,{sourceMap:!1,shadowMode:!1})},1828:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-metrics",class:!e.hasSummaryAndDetail&&"external-link-pull-left"},[a("div",{staticClass:"graph-options mb-10"},[a("DashboardOptions",{attrs:{"has-summary-and-detail":e.hasSummaryAndDetail},model:{value:e.graphOptions,callback:function(t){e.graphOptions=t},expression:"graphOptions"}})],1),a("div",{staticClass:"info"},[e._t("default")],2),a("div",{staticClass:"graphs",style:{height:e.graphHeight}},["detail"===e.graphOptions.type?a("GrafanaDashboard",{staticClass:"col span-12 detail",attrs:{"background-color":e.graphBackgroundColor,theme:e.theme,"refresh-rate":e.graphOptions.refreshRate,range:e.graphOptions.range,url:e.detailUrl,vars:e.vars}}):a("GrafanaDashboard",{staticClass:"col span-12 summary",attrs:{"background-color":e.graphBackgroundColor,theme:e.theme,"refresh-rate":e.graphOptions.refreshRate,range:e.graphOptions.range,url:e.summaryUrl,vars:e.vars}})],1)])},n=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"graph-options"},[e.hasSummaryAndDetail?a("div",[a("ButtonGroup",{attrs:{options:e.detailSummaryOptions},model:{value:e.value.type,callback:function(t){e.$set(e.value,"type",t)},expression:"value.type"}})],1):a("div",[a("div")]),a("div",{staticClass:"range-refresh"},[a("LabeledSelect",{attrs:{options:e.rangeOptions,label:e.t("graphOptions.range")},model:{value:e.value.range,callback:function(t){e.$set(e.value,"range",t)},expression:"value.range"}}),a("LabeledSelect",{attrs:{options:e.refreshOptions,label:e.t("graphOptions.refresh")},model:{value:e.value.refreshRate,callback:function(t){e.$set(e.value,"refreshRate",t)},expression:"value.refreshRate"}})],1)])},o=[],i=a("d7b9"),l=a("53fe"),c={components:{ButtonGroup:i["a"],LabeledSelect:l["a"]},props:{value:{type:Object,required:!0},hasSummaryAndDetail:{type:Boolean,default:!0}},data:function(){return{range:null,rangeOptions:[{label:this.t("generic.units.time.5m"),value:"5m"},{label:this.t("generic.units.time.1h"),value:"1h"},{label:this.t("generic.units.time.6h"),value:"6h"},{label:this.t("generic.units.time.1d"),value:"1d"},{label:this.t("generic.units.time.7d"),value:"7d"},{label:this.t("generic.units.time.30d"),value:"30d"}],refreshOptions:[{label:this.t("generic.units.time.5s"),value:"5s"},{label:this.t("generic.units.time.10s"),value:"10s"},{label:this.t("generic.units.time.30s"),value:"30s"},{label:this.t("generic.units.time.1m"),value:"1m"},{label:this.t("generic.units.time.5m"),value:"5m"},{label:this.t("generic.units.time.15m"),value:"15m"},{label:this.t("generic.units.time.30m"),value:"30m"},{label:this.t("generic.units.time.1h"),value:"1h"},{label:this.t("generic.units.time.2h"),value:"2h"},{label:this.t("generic.units.time.1d"),value:"1d"}],detailSummaryOptions:[{label:this.t("graphOptions.detail"),value:"detail"},{label:this.t("graphOptions.summary"),value:"summary"}]}}},u=c,d=(a("8b29"),a("d802")),v=Object(d["a"])(u,s,o,!1,null,"010d93b6",null),p=v.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"grafana-graph"},[e.error?a("Banner",{staticStyle:{"z-index":"1000"},attrs:{color:"error"}},[a("div",{staticClass:"text-center"},[e._v(" "+e._s(e.t("grafanaDashboard.failedToLoad"))+" "),a("a",{attrs:{href:"#"},on:{click:e.reload}},[e._v(e._s(e.t("grafanaDashboard.reload")))])])]):e._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.error,expression:"!error"}],ref:"frame",class:{loading:e.loading,frame:!0},attrs:{src:e.initialUrl,frameborder:"0",scrolling:"no"}}),e.loading?a("div",[a("Loading")],1):e._e(),e.loading||e.error?e._e():a("div",{staticClass:"external-link"},[a("a",{attrs:{href:e.grafanaUrl,target:"_blank",rel:"noopener noreferrer nofollow"}},[e._v(e._s(e.t("grafanaDashboard.grafana"))+" "),a("i",{staticClass:"icon icon-external-link"})])])],1)},m=[],h=a("70a6"),b=a("dffb"),g=a("4543"),y={components:{Banner:b["a"],Loading:h["a"]},props:{url:{type:String,required:!0},vars:{type:Object,default:function(){return{}}},range:{type:String,default:null},refreshRate:{type:String,default:null},backgroundColor:{type:String,default:"#1b1c21"},theme:{type:String,default:"dark"}},data:function(){return{loading:!1,error:!1,interval:null,initialUrl:this.computeUrl(),errorTimer:null}},computed:{currentUrl:function(){return this.computeUrl()},grafanaUrl:function(){return this.currentUrl.replace("&kiosk","")},graphWindow:function(){var e;return null===(e=this.$refs.frame)||void 0===e?void 0:e.contentWindow},graphHistory:function(){var e;return null===(e=this.graphWindow)||void 0===e?void 0:e.history},graphDocument:function(){var e;return null===(e=this.graphWindow)||void 0===e?void 0:e.document}},watch:{currentUrl:function(){var e;if(this.graphHistory&&null!==(e=this.graphWindow)&&void 0!==e&&e.angular){var t=this.graphWindow.angular.element(this.graphDocument.querySelector(".grafana-app")),a=t.injector();this.graphHistory.pushState({},"",this.currentUrl),a.get("$route").updateParams(this.computeParams()),a.get("$route").reload()}},error:function(e){var t=this;e?this.errorTimer=setInterval((function(){t.reload()}),45e3):(clearInterval(this.errorTimer),this.errorTimer=null)}},mounted:function(){this.$refs.frame.onload=this.inject,this.poll()},beforeDestroy:function(){this.interval&&clearInterval(this.interval),this.errorTimer&&clearInterval(this.errorTimer)},methods:{poll:function(){var e=this;this.interval&&(clearInterval(this.interval),this.interval=null),this.interval=setInterval((function(){try{var t,a=null===(t=e.$refs.frame)||void 0===t?void 0:t.contentWindow,r=a.document.getElementsByClassName("alert-error"),n=a.document.getElementsByClassName("panel-info-corner--error"),s=a.document.getElementsByClassName("panel-in-fullscreen"),o=a.document.getElementsByClassName("panel-container"),i=r.length>0||n.length>0,l=s.length>0||o.length>0,c=a.document.getElementsByTagName("pre"),u=c.length>0?c[0].innerText:"",d=u.includes('"status": "Failure"');if(i)throw new Error("An error was detected in the iframe");e.$set(e,"loading",!l),e.$set(e,"error",d)}catch(v){e.$set(e,"error",!0),e.$set(e,"loading",!1),clearInterval(e.interval),e.interval=null}}),100)},computeFromTo:function(){return{from:"now-".concat(this.range),to:"now"}},computeUrl:function(){var e=this.url,t=this.$store.getters["currentCluster"].id,a=this.computeParams();return Object(g["b"])(e,t,a)},computeParams:function(){var e={},t=this.computeFromTo();return t.from&&(e.from=t.from),t.to&&(e.to=t.to),this.refreshRate&&(e.refresh=this.refreshRate),Object.keys(this.vars).length>0&&Object.entries(this.vars).forEach((function(t){var a="var-".concat(t[0]);e[a]=t[1]})),e.theme=this.theme,e},reload:function(e){e&&e.preventDefault(),this.$refs.frame.contentWindow.location.reload(),this.poll()},injectCss:function(){var e,t=document.createElement("style");t.innerHTML="\n        body .grafana-app .dashboard-content {\n          background: ".concat(this.backgroundColor,";\n          padding: 0;\n        }\n\n        body .grafana-app .layout {\n          background: ").concat(this.backgroundColor,";\n        }\n\n\n        body .grafana-app .dashboard-content .panel-container {\n          background-color: initial;\n          border: none;\n        }\n\n        body .grafana-app .dashboard-content .panel-wrapper {\n          height: 100%;\n        }\n\n        body .grafana-app .panel-menu-container {\n          display: none;\n        }\n\n        body .grafana-app .panel-title {\n          cursor: default;\n        }\n\n        body .grafana-app .panel-title .panel-title-text div {\n          display: none;\n        }\n      ");var a=null===(e=this.$refs.frame)||void 0===e?void 0:e.contentWindow,r=null===a||void 0===a?void 0:a.document;r.head&&r.head.appendChild(t)},inject:function(){this.injectCss()}}},w=y,x=(a("d1d5"),Object(d["a"])(w,f,m,!1,null,"44fc164f",null)),O=x.exports,_=a("9ce4");function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){S(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var j={components:{DashboardOptions:p,GrafanaDashboard:O},props:{detailUrl:{type:String,required:!0},summaryUrl:{type:String,default:""},vars:{type:Object,default:function(){return{}}},graphHeight:{type:String,required:!0},hasSummaryAndDetail:{type:Boolean,default:!0}},data:function(){return{graphOptions:{range:"5m",refreshRate:"30s",type:"detail"}}},computed:C(C({},Object(_["a"])(["prefs/theme"])),{},{graphBackgroundColor:function(){return"dark"===this.theme?"#2e3035":"#f3f4f9"},theme:function(){return this["prefs/theme"]}})},P=j,N=(a("bb3a"),Object(d["a"])(P,r,n,!1,null,"5f89bc70",null));t["a"]=N.exports},"1b83":function(e,t,a){var r=a("e4b7");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("734ed762",r,!0,{sourceMap:!1,shadowMode:!1})},"220e":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ConsumptionGauge",{attrs:{capacity:e.cpuTotal,used:e.reserved,units:e.cpuUnits,"resource-name":e.resourceName},scopedSlots:e._u([{key:"title",fn:function(t){var r=t.amountTemplateValues,n=t.formattedPercentage;return[a("span",[e._v(" "+e._s(e.t("clusterIndexPage.hardwareResourceGauge.reserved"))+" ")]),a("span",[e._v(" "+e._s(e.t("node.detail.glance.consumptionGauge.amount",r))+" "),a("span",{staticClass:"ml-10 percentage"},[e._v("/ "+e._s(n)+" ")])])]}}])}),e.showUsed?a("div",{staticClass:"mt-10"},[a("ConsumptionGauge",{attrs:{capacity:e.cpuTotal,used:e.used,units:e.cpuUnits},scopedSlots:e._u([{key:"title",fn:function(t){var r=t.amountTemplateValues,n=t.formattedPercentage;return[a("span",[e._v(" "+e._s(e.t("clusterIndexPage.hardwareResourceGauge.used"))+" ")]),a("span",[e._v(" "+e._s(e.t("node.detail.glance.consumptionGauge.amount",r))+" "),a("span",{staticClass:"ml-10 percentage"},[e._v("/ "+e._s(n)+" ")])])]}}],null,!1,2886812275)})],1):e._e()],1)},n=[],s=a("3c8a"),o=a("56a4"),i=a("67ab"),l={name:"HarvesterCpuUsed",components:{ConsumptionGauge:s["a"]},props:{value:{type:String,default:""},row:{type:Object,required:!0},resourceName:{type:String,default:""},showUsed:{type:Boolean,default:!1}},data:function(){return{}},computed:{metrics:function(){return this.$store.getters["harvester/byId"](o["r"].NODE,this.row.id)},cpuTotal:function(){var e=0;return this.metrics&&(e=this.metrics.cpuCapacity),e},cpuUnits:function(){return"C"},node:function(){var e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters["".concat(e,"/byId")](o["w"],this.row.id);return t},reserved:function(){return this.metrics?this.node.cpuReserved:0},used:function(){var e,t;return this.metrics?Object(i["f"])((null===(e=this.metrics)||void 0===e||null===(t=e.usage)||void 0===t?void 0:t.cpu)||"0m"):0}}},c=l,u=a("d802"),d=Object(u["a"])(c,r,n,!1,null,null,null);t["default"]=d.exports},"278d":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-37f968f4]:after,.clearfix[data-v-37f968f4]:before{content:" ";display:table}.clearfix[data-v-37f968f4]:after{clear:both}.list-unstyled[data-v-37f968f4]{margin:0;padding:0;list-style-type:none}.no-select[data-v-37f968f4]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-37f968f4]{resize:none}.hand[data-v-37f968f4]{cursor:pointer;cursor:hand}.fixed[data-v-37f968f4]{table-layout:fixed}.clip[data-v-37f968f4]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-37f968f4],.force-wrap[data-v-37f968f4]{word-wrap:break-word}.force-wrap[data-v-37f968f4]{white-space:normal}.bordered-section[data-v-37f968f4]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-37f968f4]{margin-bottom:20px;margin-top:20px}.overview-sshKeys[data-v-37f968f4]{text-align:left;max-height:700px;overflow:auto}.overview-sshKeys__item[data-v-37f968f4]{margin-bottom:15px}.overview-sshKeys__item[data-v-37f968f4]:last-child{margin-bottom:0}.overview-sshKeys .key-display[data-v-37f968f4]{position:relative;padding-right:30px;word-break:break-word}.overview-sshKeys .key-display .hide-bar[data-v-37f968f4]{position:absolute;top:-10px;right:10px}',""]),e.exports=t},"29ac":function(e,t,a){"use strict";a("84ab")},"2c7c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("HarvesterMigrationState",{directives:[{name:"show",rawName:"v-show",value:e.isMigrating,expression:"isMigrating"}],attrs:{"vm-resource":e.row},on:{"state-changed":e.migrationStateChanged}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isMigrating,expression:"!isMigrating"}],staticClass:"state"},[a("VMState",{attrs:{row:e.row}}),e.warningMessage.length?a("v-popover",{attrs:{trigger:"hover",offset:"16"}},[a("span",{staticClass:"tooltip-target"},[a("i",{staticClass:"icon icon-warning icon-lg text-warning"})]),a("template",{slot:"popover"},e._l(e.warningMessage,(function(t,r){return a("p",{key:t},[e._v(" "+e._s(r+1)+". "+e._s(t)+" ")])})),0)],2):e._e()],1)],1)},n=[],s=a("2c0b"),o=a("986d"),i={components:{VMState:s["default"],HarvesterMigrationState:o["default"]},props:{value:{type:String,default:""},row:{type:Object,required:!0},allNodeNetwork:{type:Array,default:function(){return[]}},allClusterNetwork:{type:Array,default:function(){return[]}}},data:function(){return{isMigrating:!1}},computed:{networkImpassability:function(){var e,t,a,r=null===(e=this.row)||void 0===e?void 0:e.nodeName,n=this.allNodeNetwork.find((function(e){return e.attachNodeName===r}));return(!(null===n||void 0===n||!n.message)||!this.enableClusterNetwork)&&(null===(t=this.row)||void 0===t?void 0:t.attachNetwork)&&"Running"===(null===this||void 0===this||null===(a=this.row)||void 0===a?void 0:a.actualState)},enableClusterNetwork:function(){var e,t=(null===(e=this.allClusterNetwork)||void 0===e?void 0:e[0])||{};return null===t||void 0===t?void 0:t.enable},warningMessage:function(){var e,t,a,r,n,s,o=[];if(this.networkImpassability&&this.allClusterNetwork.length&&o.push(this.t("harvester.network.message.vlanInactive",{name:this.row.realAttachNodeName})),null!==(e=this.row.warningMessage)&&void 0!==e&&e.pod){var i,l,c,u,d,v,p=this.row.warningMessage.pod;if(null!==(i=p.metadata)&&void 0!==i&&null!==(l=i.state)&&void 0!==l&&l.error&&!/pod has unbound immediate PersistentVolumeClaims/.test(null===(c=p.metadata)||void 0===c||null===(u=c.state)||void 0===u?void 0:u.message))o.push(null===(d=p.metadata)||void 0===d||null===(v=d.state)||void 0===v?void 0:v.message)}"VM error"===(null===(t=this.row)||void 0===t?void 0:t.actualState)&&null!==(a=this.row.warningMessage)&&void 0!==a&&a.message&&o.push(null===(n=this.row.warningMessage)||void 0===n?void 0:n.message);null!==(r=this.row)&&void 0!==r&&r.migrationMessage&&o.push(null===(s=this.row)||void 0===s?void 0:s.migrationMessage.message);return o}},methods:{migrationStateChanged:function(e){this.isMigrating="Failed"!==e&&!!e}}},l=i,c=(a("603f"),a("d802")),u=Object(c["a"])(l,r,n,!1,null,"d02944de",null);t["default"]=u.exports},"327f":function(e,t,a){var r=a("38fa");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("d0a9d47e",r,!0,{sourceMap:!1,shadowMode:!1})},"38fa":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-010d93b6]:after,.clearfix[data-v-010d93b6]:before{content:" ";display:table}.clearfix[data-v-010d93b6]:after{clear:both}.list-unstyled[data-v-010d93b6]{margin:0;padding:0;list-style-type:none}.no-select[data-v-010d93b6]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-010d93b6]{resize:none}.hand[data-v-010d93b6]{cursor:pointer;cursor:hand}.fixed[data-v-010d93b6]{table-layout:fixed}.clip[data-v-010d93b6]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-010d93b6],.force-wrap[data-v-010d93b6]{word-wrap:break-word}.force-wrap[data-v-010d93b6]{white-space:normal}.bordered-section[data-v-010d93b6]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-010d93b6]{margin-bottom:20px;margin-top:20px}.graph-options[data-v-010d93b6],.graph-options .range-refresh[data-v-010d93b6]{display:flex;flex-direction:row;justify-content:flex-end}.graph-options[data-v-010d93b6]{justify-content:space-between;align-items:center}.graph-options .labeled-select[data-v-010d93b6]{width:100px;margin-left:10px}',""]),e.exports=t},"3c8a":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"consumption-gauge"},[e.resourceName&&!e.usedAsResourceName?a("h3",[e._v(" "+e._s(e.resourceName)+" ")]):e._e(),a("div",{staticClass:"numbers"},[e._t("title",(function(){return[e.usedAsResourceName?a("h4",[e._v(" "+e._s(e.resourceName)+" ")]):a("span",[e._v(e._s(e.t("node.detail.glance.consumptionGauge.used")))]),a("span",[e._v(e._s(e.t("node.detail.glance.consumptionGauge.amount",e.amountTemplateValues))+" "),a("span",{staticClass:"ml-10 percentage"},[e._v("/ "+e._s(e.formattedPercentage))])])]}),{amountTemplateValues:e.amountTemplateValues,formattedPercentage:e.formattedPercentage})],2),a("div",{staticClass:"mt-10"},[a("PercentageBar",{attrs:{value:e.percentageBarValue,"color-stops":e.colorStops}})],1)])},n=[],s=a("7dc6"),o=a("06f6"),i={components:{PercentageBar:s["a"]},props:{resourceName:{type:String,default:""},capacity:{type:Number,required:!0},used:{type:Number,required:!0},units:{type:String,default:""},numberFormatter:{type:Function,default:function(e){return Number.isInteger(e)?e:e.toFixed(2)}},colorStops:{type:Object,default:null},usedAsResourceName:{type:Boolean,defaut:!1}},computed:{displayUnits:function(){return this.units?" ".concat(this.units):""},percentageBarValue:function(){return this.used&&this.capacity?100*this.used/this.capacity:0},amountTemplateValues:function(){return{used:this.numberFormatter(this.used||0),total:this.numberFormatter(this.capacity||0),unit:this.displayUnits}},formattedPercentage:function(){return this.capacity?Object(o["i"])(this.percentageBarValue):"-%"}}},l=i,c=(a("46af"),a("d802")),u=Object(c["a"])(l,r,n,!1,null,null,null);t["a"]=u.exports},"42c6":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showReserved?a("div",[a("ConsumptionGauge",{attrs:{capacity:e.total,used:e.reserved,units:e.units,"number-formatter":e.formatter,"resource-name":e.resourceName},scopedSlots:e._u([{key:"title",fn:function(t){var r=t.formattedPercentage;return[a("span",[e._v(" "+e._s(e.t("clusterIndexPage.hardwareResourceGauge.reserved"))+" ")]),a("span",[e._v(" "+e._s(e.t("node.detail.glance.consumptionGauge.amount",e.reservedAmountTemplateValues))+" "),a("span",{staticClass:"ml-10 percentage"},[e._v(" / "+e._s(r)+" ")])])]}}],null,!1,2894972764)})],1):e._e(),a("ConsumptionGauge",{class:{"mt-10":e.showReserved},attrs:{capacity:e.total,used:e.usage,units:e.units,"number-formatter":e.formatter,"resource-name":e.showReserved?"":e.resourceName},scopedSlots:e._u([{key:"title",fn:function(t){var r=t.formattedPercentage;return[a("span",[e._v(" "+e._s(e.t("node.detail.glance.consumptionGauge.used"))+" ")]),a("span",[e._v(" "+e._s(e.t("node.detail.glance.consumptionGauge.amount",e.usedAmountTemplateValues))+" "),a("span",{staticClass:"ml-10 percentage"},[e._v(" / "+e._s(r)+" ")])])]}}])})],1)},n=[],s=a("3c8a"),o=a("56a4"),i=a("67ab");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var d={name:"HarvesterStorageUsed",components:{ConsumptionGauge:s["a"]},props:{value:{type:String,default:""},row:{type:Object,required:!0},resourceName:{type:String,default:""},showReserved:{type:Boolean,default:!1}},data:function(){return{}},computed:{usage:function(){var e,t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters["".concat(t,"/byId")](o["p"].NODES,"longhorn-system/".concat(this.row.id)),r=0,n=(null===a||void 0===a||null===(e=a.status)||void 0===e?void 0:e.diskStatus)||{};return Object.values(n).map((function(e){null!==e&&void 0!==e&&e.storageAvailable&&null!==e&&void 0!==e&&e.storageMaximum&&(r+=e.storageMaximum-e.storageAvailable)})),Number(r)},reserved:function(){var e,t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters["".concat(t,"/byId")](o["p"].NODES,"longhorn-system/".concat(this.row.id)),r=0,n=(null===a||void 0===a||null===(e=a.spec)||void 0===e?void 0:e.disks)||{};return Object.values(n).map((function(e){e.allowScheduling&&(r+=e.storageReserved)})),r},total:function(){var e,t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters["".concat(t,"/byId")](o["p"].NODES,"longhorn-system/".concat(this.row.id)),r=0,n=(null===a||void 0===a||null===(e=a.status)||void 0===e?void 0:e.diskStatus)||{};return Object.values(n).map((function(e){null!==e&&void 0!==e&&e.storageMaximum&&(r+=e.storageMaximum)})),r},units:function(){var e=Object(i["d"])(this.total,1024);return"".concat(i["b"][e],"iB")},used:function(){var e=this.formatter(this.usage||0);return!Number.parseFloat(e)>0&&(e=this.formatter(this.usage||0,{canRoundToZero:!1})),e},formatReserved:function(){var e=this.formatter(this.reserved||0);return!Number.parseFloat(e)>0&&(e=this.formatter(this.reserved||0,{canRoundToZero:!1})),e},usedAmountTemplateValues:function(){return{used:this.used,total:this.formatter(this.total||0),unit:this.units}},reservedAmountTemplateValues:function(){return{used:this.formatReserved,total:this.formatter(this.total||0),unit:this.units}}},methods:{formatter:function(e,t){var a=Object(i["d"])(this.total,1024),r={addSuffix:!1,increment:1024,minExponent:a};return Object(i["e"])(e,c(c({},r),t))}}},v=d,p=a("d802"),f=Object(p["a"])(v,r,n,!1,null,null,null);t["default"]=f.exports},4543:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return v}));var r=a("56d4"),n=a.n(r),s=a("b2d6"),o=a("56a4");function i(e,t,a,r,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void a(c)}i.done?t(l):Promise.resolve(l).then(r,n)}function l(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var s=e.apply(t,a);function o(e){i(s,r,n,o,l,"next",e)}function l(e){i(s,r,n,o,l,"throw",e)}o(void 0)}))}}function c(e,t,a){var r=Object(s["d"])(e),n="local"===t?"":"/k8s/clusters/".concat(t),o="".concat(n).concat(r.path);return r.query.viewPanel&&(o=Object(s["a"])(o,"viewPanel",r.query.viewPanel)),o=Object(s["a"])(o,"orgId",r.query.orgId),o=Object(s["a"])(o,"kiosk",null),Object.entries(a).forEach((function(e){o=Object(s["a"])(o,e[0],e[1])})),o}function u(e,t,a){return d.apply(this,arguments)}function d(){return d=l(n.a.mark((function e(t,a,r){var o,i,l,c,u,d,v,p,m=arguments;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=m.length>3&&void 0!==m[3]?m[3]:"cluster",f(t.getters,o)){e.next=3;break}return e.abrupt("return",!1);case 3:return i=Object(s["d"])(r),l="local"===a?"":"/k8s/clusters/".concat(a),c="".concat(l,"/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/"),u="http:rancher-monitoring-grafana:80/proxy/",d=i.path.split(u)[1],v=d.split("/")[1],p="".concat(c,"api/dashboards/uid/").concat(v),e.prev=10,e.next=13,t.dispatch("".concat(o,"/request"),{url:p,redirectUnauthorized:!1});case 13:return e.abrupt("return",!0);case 16:return e.prev=16,e.t0=e["catch"](10),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[10,16]])}))),d.apply(this,arguments)}function v(e,t,a){return p.apply(this,arguments)}function p(){return p=l(n.a.mark((function e(t,a,r){var s,o,i=arguments;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=i.length>3&&void 0!==i[3]?i[3]:"cluster",o=r.map((function(e){return u(t,a,e,s)})),e.next=4,Promise.all(o);case 4:return e.abrupt("return",e.sent.every((function(e){return e})));case 5:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cluster";return!!e["".concat(t,"/schemaFor")](o["s"].SERVICEMONITOR)}},"46af":function(e,t,a){"use strict";a("6a06")},"46b0":function(e,t,a){var r=a("db10");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("137d984a",r,!0,{sourceMap:!1,shadowMode:!1})},"4fbb":function(e,t,a){var r=a("5e62");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("a3773f5a",r,!0,{sourceMap:!1,shadowMode:!1})},"500e":function(e,t,a){"use strict";var r=a("56d4"),n=a.n(r);function s(e,t,a,r,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void a(c)}i.done?t(l):Promise.resolve(l).then(r,n)}function o(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var o=e.apply(t,a);function i(e){s(o,r,n,i,l,"next",e)}function l(e){s(o,r,n,i,l,"throw",e)}i(void 0)}))}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,a){return t&&l(e.prototype,t),a&&l(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var d=function(){function e(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;i(this,e),u(this,"fn",void 0),u(this,"pollRateMs",void 0),u(this,"maxRetries",void 0),u(this,"intervalId",void 0),u(this,"tryCount",0),this.fn=t||function(){},this.pollRateMs=a,this.maxRetries=r}return c(e,[{key:"start",value:function(){var e=this;this.stop(),this._intervalMethod(),this.intervalId=setInterval((function(){return e._intervalMethod()}),this.pollRateMs)}},{key:"stop",value:function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0)}},{key:"_intervalMethod",value:function(){var e=o(n.a.mark((function e(){return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fn();case 3:this.tryCount=0,e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](0),console.error("Error encountered while polling",e.t0),++this.tryCount>=this.maxRetries&&this.stop();case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),v=3e4,p=2;t["a"]={data:function(){return{metricPoller:null}},mounted:function(){this.metricPoller=new d(this.loadMetrics,v,p),this.metricPoller.start()},beforeDestroy:function(){this.metricPoller.stop()}}},5138:function(e,t,a){var r=a("ba33");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("1b5443b4",r,!0,{sourceMap:!1,shadowMode:!1})},"5a59":function(e,t,a){var r=a("d8ae");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("68aecf7c",r,!0,{sourceMap:!1,shadowMode:!1})},"5b19":function(e,t,a){"use strict";a("e1c3")},"5e62":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-34cca86d]:after,.clearfix[data-v-34cca86d]:before{content:" ";display:table}.clearfix[data-v-34cca86d]:after{clear:both}.list-unstyled[data-v-34cca86d]{margin:0;padding:0;list-style-type:none}.no-select[data-v-34cca86d]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-34cca86d]{resize:none}.hand[data-v-34cca86d]{cursor:pointer;cursor:hand}.fixed[data-v-34cca86d]{table-layout:fixed}.clip[data-v-34cca86d]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-34cca86d],.force-wrap[data-v-34cca86d]{word-wrap:break-word}.force-wrap[data-v-34cca86d]{white-space:normal}.bordered-section[data-v-34cca86d]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-34cca86d]{margin-bottom:20px;margin-top:20px}#host-instances[data-v-34cca86d]  thead th{vertical-align:middle}#host-instances[data-v-34cca86d]  .state{display:flex}#host-instances[data-v-34cca86d]  .state .vmstate{margin-right:6px}',""]),e.exports=t},"603f":function(e,t,a){"use strict";a("6a8b")},"626e":function(e,t,a){"use strict";a("5138")},6480:function(e,t,a){var r=a("278d");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("49bc24ec",r,!0,{sourceMap:!1,shadowMode:!1})},"6a06":function(e,t,a){var r=a("95c3");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("84f54306",r,!0,{sourceMap:!1,shadowMode:!1})},"6a2c":function(e,t,a){"use strict";a("af5f")},"6a8b":function(e,t,a){var r=a("ba1d");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("663d55b6",r,!0,{sourceMap:!1,shadowMode:!1})},"6af9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Tabbed",e._b({staticClass:"mt-15",attrs:{"side-tabs":!0}},"Tabbed",e.$attrs,!1),[a("Tab",{staticClass:"bordered-table",attrs:{name:"detail",label:e.t("harvester.virtualMachine.detail.tabs.basics")}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-12"},[e.isUpload?a("LabelValue",{staticClass:"mb-20",attrs:{name:e.t("harvester.image.fileName"),value:e.imageName}}):a("LabelValue",{staticClass:"mb-20",attrs:{name:e.t("harvester.image.url"),value:e.url},scopedSlots:e._u([{key:"value",fn:function(){return["-"!==e.url?a("div",[a("CopyToClipboardText",{attrs:{text:e.url}})],1):a("div",[e._v(" "+e._s(e.url)+" ")])]},proxy:!0}])})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-12"},[a("LabelValue",{staticClass:"mb-20",attrs:{name:e.t("harvester.image.size"),value:e.formattedValue}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-12"},[a("LabelValue",{staticClass:"mb-20",attrs:{name:e.t("nameNsDescription.description.label"),value:e.description}})],1)]),"-"!==e.errorMessage?a("div",{staticClass:"row"},[a("div",{staticClass:"col span-12"},[a("div",[e._v(" "+e._s(e.t("tableHeaders.message"))+" ")]),a("div",{class:{error:"-"!==e.errorMessage}},[e._v(" "+e._s(e.errorMessage)+" ")])])]):e._e()])],1)},n=[],s=a("9651"),o=a("eb32"),i=a("b0bd"),l=a("ad61"),c=a("5ef9"),u=a("e411"),d=a("1832"),v={components:{CopyToClipboardText:s["a"],Tab:c["a"],Tabbed:l["a"],LabelValue:o["a"]},props:{value:{type:Object,required:!0}},data:function(){return{}},computed:{formattedValue:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.downSize},url:function(){var e,t;return(null===(e=this.value)||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.url)||"-"},description:function(){var e,t,a;return(null===(e=this.value)||void 0===e||null===(t=e.metadata)||void 0===t||null===(a=t.annotations)||void 0===a?void 0:a[i["j"]])||"-"},errorMessage:function(){var e,t=Object(d["get"])(this.value,"status.conditions");return(null===(e=Object(u["e"])(t,"type","Imported"))||void 0===e?void 0:e.message)||"-"},isUpload:function(){var e,t;return"upload"===(null===(e=this.value)||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.sourceType)},imageName:function(){var e,t,a;return(null===(e=this.value)||void 0===e||null===(t=e.metadata)||void 0===t||null===(a=t.annotations)||void 0===a?void 0:a[i["l"].IMAGE_NAME])||"-"}}},p=v,f=(a("29ac"),a("d802")),m=Object(f["a"])(p,r,n,!1,null,"2bd7f102",null);t["default"]=m.exports},"6d63":function(e,t,a){"use strict";a("6480")},"73e2":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overview-web-console"},[a("ButtonDropdown",{attrs:{disabled:e.isOff,"no-drop":e.isOff,"button-label":"Console","dropdown-options":e.options,size:"sm"},on:{"click-action":e.handleDropdown}})],1)},n=[],s=a("98f3"),o=a("9ce4"),i=a("44f6"),l=a("4aac");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v={name:"VMConsoleBar",components:{ButtonDropdown:s["a"]},props:{resource:{type:Object,required:!0,default:function(){return{}}}},computed:u(u({},Object(o["a"])({t:"i18n/t"})),{},{isOff:function(){return this.resource.stateDisplay===i["OFF"]},options:function(){return[{label:this.t("harvester.virtualMachine.console.novnc"),value:"vnc"},{label:this.t("harvester.virtualMachine.console.serial"),value:"serial"}]}}),methods:{handleDropdown:function(e){this.show(e.value)},show:function(e){var t,a,r,n,s=null===(t=this.resource.metadata)||void 0===t||null===(a=t.ownerReferences)||void 0===a||null===(r=a[0])||void 0===r?void 0:r.uid;void 0===s&&(s=this.resource.metadata.uid);var o=window.location.host,i=window.location.pathname.replace(this.$route.path,""),c=null===(n=this.$route)||void 0===n?void 0:n.params,u="https://".concat(o).concat(i,"/").concat(l["PRODUCT_NAME"],"/c/").concat(c.cluster,"/console/").concat(s,"/").concat(e);window.open(u,"_blank","toolbars=0,width=900,height=700,left=0,top=0,noreferrer")},isEmpty:function(e){return void 0!==e&&0===Object.keys(e).length}}},p=v,f=(a("c945"),a("d802")),m=Object(f["a"])(p,r,n,!1,null,null,null);t["a"]=m.exports},8150:function(e,t,a){"use strict";a("13ce")},"84ab":function(e,t,a){var r=a("04ae");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("e223e8ae",r,!0,{sourceMap:!1,shadowMode:!1})},"852d":function(e,t,a){"use strict";a("4fbb")},"8b29":function(e,t,a){"use strict";a("327f")},9237:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Tabbed",e._b({staticClass:"mt-15",attrs:{"side-tabs":!0},on:{changed:e.onTabChanged}},"Tabbed",e.$attrs,!1),[a("Tab",{staticClass:"bordered-table",attrs:{name:"basics",label:e.t("harvester.virtualMachine.detail.tabs.basics"),weight:7}},[a("OverviewBasics",{attrs:{resource:e.vmi,mode:"view"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),a("Tab",{staticClass:"bordered-table",attrs:{name:"disks",label:e.t("harvester.tab.volume"),weight:6}},[a("Volume",{attrs:{mode:"view",namespace:e.value.metadata.namespace,vm:e.value,"resource-type":e.value.type},model:{value:e.diskRows,callback:function(t){e.diskRows=t},expression:"diskRows"}})],1),a("Tab",{staticClass:"bordered-table",attrs:{name:"networks",label:e.t("harvester.virtualMachine.detail.tabs.networks"),weight:5}},[a("Network",{attrs:{mode:"view"},model:{value:e.networkRows,callback:function(t){e.networkRows=t},expression:"networkRows"}})],1),a("Tab",{staticClass:"bordered-table",attrs:{name:"keypairs",label:e.t("harvester.virtualMachine.detail.tabs.keypairs"),weight:3}},[a("OverviewKeypairs",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),e.showVmMetrics?a("Tab",{attrs:{name:"vm-metrics",label:e.t("harvester.virtualMachine.detail.tabs.metrics"),weight:2.5},scopedSlots:e._u([{key:"default",fn:function(t){return[t.active?a("DashboardMetrics",{attrs:{"detail-url":e.VM_METRICS_DETAIL_URL,"graph-height":"550px","has-summary-and-detail":!1,vars:e.graphVars}}):e._e()]}}],null,!1,4264103987)}):e._e(),a("Tab",{staticClass:"bordered-table",attrs:{label:e.t("harvester.tab.accessCredentials"),name:"accessCredentials",weight:2.2}},[a("AccessCredentials",{attrs:{mode:"view",value:e.accessCredentials,resource:e.value}})],1),a("Tab",{staticClass:"bordered-table",attrs:{name:"cloudConfig",label:e.t("harvester.virtualMachine.detail.tabs.cloudConfig"),weight:2}},[a("CloudConfig",{ref:"yamlEditor",attrs:{mode:"view","user-script":e.userScript,"network-script":e.networkScript}})],1),a("Tab",{attrs:{name:"event",label:e.t("harvester.virtualMachine.detail.tabs.events"),weight:1}},[a("Events",{attrs:{resource:e.vmi,events:e.events}})],1),a("Tab",{attrs:{name:"migration",label:e.t("harvester.virtualMachine.detail.tabs.migration")}},[a("Migration",{attrs:{"vmi-resource":e.vmi},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)],1)},n=[],s=a("56d4"),o=a.n(s),i=a("9ce4"),l=a("ad61"),c=a("5ef9"),u=a("56a4"),d=a("90cd"),v=a("c78c"),p=a("6834"),f=a("1828"),m=a("b837"),h=a("4543"),b=a("5c0d"),g=a("9216"),y=a("fea5"),w=a("8287"),x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("SortableTable",{attrs:{rows:e.events,headers:e.eventHeaders,"key-field":"id",search:!1,"table-actions":!1,"row-actions":!1,paging:!0,"rows-per-page":10,"default-sort-by":"date"},scopedSlots:e._u([{key:"cell:resource",fn:function(t){var r=t.row,n=t.value;return[a("div",{staticClass:"text-info"},[e._v(" "+e._s(n)+" ")]),r.message?a("div",[e._v(" "+e._s(r.displayMessage)+" ")]):e._e()]}}])})},O=[],_=a("d6d1"),k=a("fc28");function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){j(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function j(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var P={name:"VirtualMachineEvents",components:{SortableTable:k["b"]},props:{events:{type:Array,required:!0}},data:function(){var e=S(S({},_["z"]),{},{canBeVariable:!0,width:180}),t=[e,{name:"resource",label:"Resource",labelKey:"clusterIndexPage.sections.events.resource.label",value:"displayInvolvedObject",sort:["involvedObject.kind","involvedObject.name"],canBeVariable:!0},{align:"right",name:"date",label:"Date",labelKey:"clusterIndexPage.sections.events.date.label",value:"lastTimestamp",sort:"lastTimestamp:desc",formatter:"LiveDate",formatterOpts:{addSuffix:!0},width:125,defaultSort:!0}];return{eventHeaders:t}}},N=P,M=a("d802"),T=Object(M["a"])(N,x,O,!1,null,null,null),E=T.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.sourceNode"),value:e.sourceNode}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.targetNode"),value:e.targetNode}})],1)]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.started"),value:e.started}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.ended"),value:e.ended}})],1)])])},A=[],R=a("eb32"),$={name:"VirtualMachineMigration",components:{LabelValue:R["a"]},props:{value:{type:Object,required:!0},vmiResource:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{localResource:this.vmiResource}},computed:{migrationState:function(){var e,t;return null===(e=this.localResource)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.migrationState},sourceNode:function(){var e;return(null===(e=this.migrationState)||void 0===e?void 0:e.sourceNode)||"N/A"},targetNode:function(){var e;return(null===(e=this.migrationState)||void 0===e?void 0:e.targetNode)||"N/A"},started:function(){var e;return(null===(e=this.migrationState)||void 0===e?void 0:e.startTimestamp)||"N/A"},ended:function(){var e;return(null===(e=this.migrationState)||void 0===e?void 0:e.endTimestamp)||"N/A"},message:function(){return"N/A"}},watch:{vmiResource:{handler:function(e){this.localResource=e},deep:!0}}},I=$,V=Object(M["a"])(I,D,A,!1,null,null,null),L=V.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overview-basics"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.name"),value:e.value.nameDisplay},scopedSlots:e._u([{key:"value",fn:function(){return[a("div",{staticClass:"smart-row"},[a("div",{staticClass:"console"},[e._v(" "+e._s(e.value.nameDisplay)+" "),a("VMConsoleBar",{staticClass:"consoleBut",attrs:{resource:e.value}})],1)])]},proxy:!0}])})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.fields.image"),value:e.imageName}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.hostname"),value:e.hostname},scopedSlots:e._u([{key:"value",fn:function(){return[e.isDown?a("div",[e._v(" "+e._s(e.t("harvester.virtualMachine.detail.details.down"))+" ")]):a("div",[e._v(" "+e._s(e.hostname||e.t("harvester.virtualMachine.detail.GuestAgentNotInstalled"))+" ")])]},proxy:!0}])})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.node"),value:e.node},scopedSlots:e._u([{key:"value",fn:function(){return[e.isDown?a("div",[e._v(" "+e._s(e.t("harvester.virtualMachine.detail.details.down"))+" ")]):a("div",[e._v(" "+e._s(e.node)+" ")])]},proxy:!0}])})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.ipAddress")},scopedSlots:e._u([{key:"value",fn:function(){return[a("HarvesterIpAddress",{attrs:{row:e.value},model:{value:e.value.id,callback:function(t){e.$set(e.value,"id",t)},expression:"value.id"}})]},proxy:!0}])})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.created"),value:e.creationTimestamp}})],1)]),a("hr",{staticClass:"section-divider"}),a("h2",[e._v(e._s(e.t("harvester.virtualMachine.detail.tabs.configurations")))]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("InputOrDisplay",{attrs:{name:e.t("harvester.virtualMachine.detail.details.bootOrder"),value:e.disks,mode:e.mode},scopedSlots:e._u([{key:"value",fn:function(){return[a("ul",e._l(e.disks,(function(t){return a("li",{key:t.bootOrder},[e._v(" "+e._s(t.bootOrder)+". "+e._s(t.name)+" ("+e._s(e.getDeviceType(t))+") ")])})),0)]},proxy:!0}])})],1),a("div",{staticClass:"col span-6"},[a("InputOrDisplay",{attrs:{name:e.t("harvester.virtualMachine.detail.details.CDROMs"),value:e.cdroms,mode:e.mode},scopedSlots:e._u([{key:"value",fn:function(){return[a("div",[e.cdroms.length>0?a("ul",e._l(e.cdroms,(function(t){return a("li",{key:t.name},[e._v(" "+e._s(t.name)+" ")])})),0):a("span",[e._v(" "+e._s(e.t("harvester.virtualMachine.detail.notAvailable"))+" ")])])]},proxy:!0}])})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.operatingSystem"),value:e.operatingSystem||e.t("harvester.virtualMachine.detail.GuestAgentNotInstalled")}})],1),a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.flavor"),value:e.flavor}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.kernelRelease"),value:e.kernelRelease||e.t("harvester.virtualMachine.detail.GuestAgentNotInstalled")}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.input.MachineType"),value:e.machineType}})],1)])])},B=[],G=a("a858"),H=a("73e2"),z=a("2aaa"),K="n/a",F={name:"Details",components:{VMConsoleBar:H["a"],HarvesterIpAddress:G["default"],LabelValue:R["a"],InputOrDisplay:z["a"]},mixins:[v["a"]],props:{value:{type:Object,required:!0},resource:{type:Object,required:!0,default:function(){return{}}},mode:{type:String,required:!0}},computed:{creationTimestamp:function(){var e,t,a=new Date(null===(e=this.value)||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.creationTimestamp);return a.getMonth?"".concat(a.getMonth()+1,"/").concat(a.getDate(),"/").concat(a.getUTCFullYear()):K},node:function(){var e,t;return(null===(e=this.resource)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.nodeName)||K},hostname:function(){var e,t,a,r,n;return(null===(e=this.resource)||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.hostname)||(null===(a=this.resource)||void 0===a||null===(r=a.status)||void 0===r||null===(n=r.guestOSInfo)||void 0===n?void 0:n.hostname)},imageName:function(){var e,t=this,a=this.$store.getters["harvester/all"](d["a"].IMAGE)||[],r=a.find((function(e){return t.value.rootImageId===e.id}));return(null===r||void 0===r||null===(e=r.spec)||void 0===e?void 0:e.displayName)||"N/A"},disks:function(){var e,t,a,r,n,s,o=(null===(e=this.value)||void 0===e||null===(t=e.spec)||void 0===t||null===(a=t.template)||void 0===a||null===(r=a.spec)||void 0===r||null===(n=r.domain)||void 0===n||null===(s=n.devices)||void 0===s?void 0:s.disks)||[];return o.filter((function(e){return!!e.bootOrder})).sort((function(e,t){return e.bootOrder<t.bootOrder?-1:1}))},cdroms:function(){var e,t,a,r,n,s,o=(null===(e=this.value)||void 0===e||null===(t=e.spec)||void 0===t||null===(a=t.template)||void 0===a||null===(r=a.spec)||void 0===r||null===(n=r.domain)||void 0===n||null===(s=n.devices)||void 0===s?void 0:s.disks)||[];return o.filter((function(e){return!!e.cdrom}))},flavor:function(){var e,t,a,r,n,s,o,i,l,c=null===(e=this.value)||void 0===e||null===(t=e.spec)||void 0===t||null===(a=t.template)||void 0===a||null===(r=a.spec)||void 0===r?void 0:r.domain,u=0,d=0;null===(n=c.devices)||void 0===n||null===(s=n.hostDevices)||void 0===s||s.forEach((function(e){"intel/pac_a10"===e.deviceName&&u++,"intel/pac_s10"===e.deviceName&&d++}));var v="";return u>0&&(v+=", ".concat(u," ").concat(this.t("harvester.dashboard.hardwareResourceGauge.intelPacA10")," ")),d>0&&(v+=", ".concat(d," ").concat(this.t("harvester.dashboard.hardwareResourceGauge.intelPacS10")," ")),"".concat(null===(o=c.cpu)||void 0===o?void 0:o.cores," vCPU ").concat(v,", ").concat(null===(i=c.resources)||void 0===i||null===(l=i.limits)||void 0===l?void 0:l.memory," ").concat(this.t("harvester.virtualMachine.input.memory"))},kernelRelease:function(){var e,t,a;return null===(e=this.resource)||void 0===e||null===(t=e.status)||void 0===t||null===(a=t.guestOSInfo)||void 0===a?void 0:a.kernelRelease},operatingSystem:function(){var e,t,a;return null===(e=this.resource)||void 0===e||null===(t=e.status)||void 0===t||null===(a=t.guestOSInfo)||void 0===a?void 0:a.prettyName},isDown:function(){return this.isEmpty(this.resource)},machineType:function(){var e,t,a,r,n,s;return(null===(e=this.value)||void 0===e||null===(t=e.spec)||void 0===t||null===(a=t.template)||void 0===a||null===(r=a.spec)||void 0===r||null===(n=r.domain)||void 0===n||null===(s=n.machine)||void 0===s?void 0:s.type)||void 0}},methods:{getDeviceType:function(e){return e.disk?"Disk":"CD-ROM"},isEmpty:function(e){return void 0!==e&&0===Object.keys(e).length}}},q=F,W=(a("6a2c"),Object(M["a"])(q,U,B,!1,null,"7087607d",null)),J=W.exports,Y=a("bf80");function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(a),!0).forEach((function(t){X(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function X(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ee(e,t,a,r,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void a(c)}i.done?t(l):Promise.resolve(l).then(r,n)}function te(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var s=e.apply(t,a);function o(e){ee(s,r,n,o,i,"next",e)}function i(e){ee(s,r,n,o,i,"throw",e)}o(void 0)}))}}var ae="/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/harvester-vm-detail-1/vm-info-detail?orgId=1",re={name:"VMIDetailsPage",components:{Tab:c["a"],Tabbed:l["a"],Events:E,OverviewBasics:J,Volume:g["default"],Network:y["default"],OverviewKeypairs:Y["a"],CloudConfig:b["default"],Migration:L,DashboardMetrics:f["a"],AccessCredentials:w["default"]},mixins:[v["a"],p["c"]],props:{value:{type:Object,required:!0}},data:function(){return{switchToCloud:!1,VM_METRICS_DETAIL_URL:ae,showVmMetrics:!1}},created:function(){var e=this;return te(o.a.mark((function t(){var a,r;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$store.getters["currentProduct"].inStore,r={pods:e.$store.dispatch("".concat(a,"/findAll"),{type:u["y"]}),services:e.$store.dispatch("".concat(a,"/findAll"),{type:u["F"]}),events:e.$store.dispatch("".concat(a,"/findAll"),{type:u["h"]}),allSSHs:e.$store.dispatch("".concat(a,"/findAll"),{type:d["a"].SSH}),vmis:e.$store.dispatch("".concat(a,"/findAll"),{type:d["a"].VMI}),restore:e.$store.dispatch("".concat(a,"/findAll"),{type:d["a"].RESTORE})},t.next=4,Object(m["a"])(r);case 4:return t.next=6,Object(h["a"])(e.$store,e.currentCluster.id,[ae],"harvester");case 6:e.showVmMetrics=t.sent;case 7:case"end":return t.stop()}}),t)})))()},computed:Q(Q({},Object(i["a"])(["currentCluster"])),{},{vmi:function(){var e=this,t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters["".concat(t,"/all")](d["a"].VMI)||[],r=a.find((function(t){var a,r,n,s,o;return(null===t||void 0===t||null===(a=t.metadata)||void 0===a||null===(r=a.ownerReferences)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.uid)===(null===(s=e.value)||void 0===s||null===(o=s.metadata)||void 0===o?void 0:o.uid)}));return r},allEvents:function(){var e=this.$store.getters["currentProduct"].inStore;return this.$store.getters["".concat(e,"/all")](u["h"])},events:function(){var e=this;return this.allEvents.filter((function(t){var a,r,n,s,o=(null===(a=e.value)||void 0===a?void 0:a.metadata)||{},i=o.name,l=o.creationTimestamp,c=null===(r=e.value.podResource)||void 0===r||null===(n=r.metadata)||void 0===n?void 0:n.name,u=e.value.persistentVolumeClaimName||[],d=null===t||void 0===t||null===(s=t.involvedObject)||void 0===s?void 0:s.name,v=u.find((function(e){return e===d}));return(d===i||d===c||v)&&t.firstTimestamp>=l})).sort((function(e,t){return e.lastTimestamp>t.lastTimestamp?-1:1}))},graphVars:function(){return{namespace:this.value.namespace,vm:this.value.name}},hasMetrics:function(){var e=this.$store.getters["currentProduct"].inStore;return!!this.$store.getters["".concat(e,"/byId")]("service","cattle-monitoring-system/rancher-monitoring-grafana")}}),methods:{onTabChanged:function(e){var t,a=e.tab;"cloudConfig"===a.name&&(null===(t=this.$refs.yamlEditor)||void 0===t||t.refresh())}},watch:{value:{handler:function(e){var t=this.getDiskRows(e);this.$set(this,"diskRows",t)},deep:!0}}},ne=re,se=Object(M["a"])(ne,r,n,!1,null,null,null);t["default"]=se.exports},"95c3":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.consumption-gauge .numbers{display:flex;flex-direction:row;justify-content:space-between}.consumption-gauge .numbers .percentage{font-weight:700}',""]),e.exports=t},"986d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.state?a("div",[e.showSuccess?e._e():a("span",[e._v("/")]),a("BadgeState",{attrs:{label:e.vmiResource.migrationState.status,color:e.vmiResource.migrationStateBackground}})],1):e._e()},n=[],s=a("90cd"),o=a("57ab"),i={components:{BadgeState:o["a"]},props:{vmResource:{type:Object,required:!0},showSuccess:{type:Boolean,default:!0}},computed:{vmiResource:function(){var e=this,t=this.$store.getters["harvester/all"](s["a"].VMI)||[],a=t.find((function(t){var a,r,n,s,o;return(null===t||void 0===t||null===(a=t.metadata)||void 0===a||null===(r=a.ownerReferences)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.uid)===(null===(s=e.vmResource)||void 0===s||null===(o=s.metadata)||void 0===o?void 0:o.uid)}));return a},state:function(){var e,t;return(null===(e=this.vmiResource)||void 0===e||null===(t=e.migrationState)||void 0===t?void 0:t.status)||""}},watch:{state:function(e){this.$emit("state-changed",e)}}},l=i,c=(a("8150"),a("d802")),u=Object(c["a"])(l,r,n,!1,null,"f438ff2e",null);t["default"]=u.exports},a858:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.showIP?a("div",e._l(e.ips,(function(t){var r=t.ip,n=t.name;return a("span",{key:r},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:n,expression:"name"}]},[e._v(e._s(r))]),a("CopyToClipboard",{staticClass:"icon-btn",attrs:{text:r,"label-as":"tooltip","action-color":"bg-transparent"}})],1)})),0):e._e()},n=[],s=a("44f6"),o=a("1832"),i=a("06f6"),l=a("b0bd"),c=a("90cd"),u=a("6834"),d=a("cd86");function v(e){return h(e)||m(e)||f(e)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"===typeof e)return b(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?b(e,t):void 0}}function m(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){if(Array.isArray(e))return b(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var g={components:{CopyToClipboard:d["a"]},props:{value:{type:String,default:""},row:{type:Object,required:!0},col:{type:Object,default:function(){}}},computed:{ips:function(){return[].concat(v(this.vmiIp),v(this.networkAnnotationIP)).filter(Boolean).sort((function(e,t){return e.ip<t.ip?-1:1}))},networkAnnotationIP:function(){if("Running"!==this.row.actualState)return[];var e=Object(o["get"])(this.row,'metadata.annotations."'.concat(l["l"].NETWORK_IPS,'"'))||"[]";try{var t=JSON.parse(e);return t.map((function(e){return{ip:e.replace(/\/[\d\D]*/,""),name:""}}))}catch(a){return[]}},vmiIp:function(){var e,t,a=this,r=this.$store.getters["harvester/all"](c["a"].VMI),n=r.find((function(e){return e.id===a.value}))||null,s=this.row.networksName||[],o=(null===n||void 0===n||null===(e=n.spec)||void 0===e?void 0:e.networks)||[];return((null===n||void 0===n||null===(t=n.status)||void 0===t?void 0:t.interfaces)||[]).filter((function(e){return Object(i["k"])(e.ipAddress)&&s.includes(e.name)})).map((function(e){var t,a=o.find((function(t){return t.name===e.name}));return a&&a.multus?t=a.multus.networkName:a&&a.pod&&(t=u["a"]),{ip:e.ipAddress,name:t}}))},showIP:function(){return this.row.stateDisplay!==s["OFF"]}}},y=g,w=a("d802"),x=Object(w["a"])(y,r,n,!1,null,null,null);t["default"]=x.exports},af5f:function(e,t,a){var r=a("cbd2");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("3f16662c",r,!0,{sourceMap:!1,shadowMode:!1})},ba1d:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-d02944de]:after,.clearfix[data-v-d02944de]:before{content:" ";display:table}.clearfix[data-v-d02944de]:after{clear:both}.list-unstyled[data-v-d02944de]{margin:0;padding:0;list-style-type:none}.no-select[data-v-d02944de]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-d02944de]{resize:none}.hand[data-v-d02944de]{cursor:pointer;cursor:hand}.fixed[data-v-d02944de]{table-layout:fixed}.clip[data-v-d02944de]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-d02944de],.force-wrap[data-v-d02944de]{word-wrap:break-word}.force-wrap[data-v-d02944de]{white-space:normal}.bordered-section[data-v-d02944de]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-d02944de]{margin-bottom:20px;margin-top:20px}.state[data-v-d02944de]{display:flex;justify-content:space-between}.state .icon-warning[data-v-d02944de]{margin-top:2px}',""]),e.exports=t},ba33:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-87440202]:after,.clearfix[data-v-87440202]:before{content:" ";display:table}.clearfix[data-v-87440202]:after{clear:both}.list-unstyled[data-v-87440202]{margin:0;padding:0;list-style-type:none}.no-select[data-v-87440202]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-87440202]{resize:none}.hand[data-v-87440202]{cursor:pointer;cursor:hand}.fixed[data-v-87440202]{table-layout:fixed}.clip[data-v-87440202]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-87440202],.force-wrap[data-v-87440202]{word-wrap:break-word}.force-wrap[data-v-87440202]{white-space:normal}.bordered-section[data-v-87440202]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-87440202]{margin-bottom:20px;margin-top:20px}.close[data-v-87440202]{top:10px;right:10px;padding:0;position:absolute}.disk[data-v-87440202]{position:relative}.disk .secret-name[data-v-87440202]{height:61px}.disk[data-v-87440202]:not(:last-of-type){padding-bottom:10px;margin-bottom:30px}.flex[data-v-87440202]{display:flex;justify-content:space-between}.badge-state[data-v-87440202]{padding:2px 5px}',""]),e.exports=t},bb3a:function(e,t,a){"use strict";a("1b83")},bf80:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overview-sshKeys"},e._l(e.sshKeys,(function(t,r){return a("div",{key:r,staticClass:"row overview-sshKeys__item"},[a("div",{staticClass:"col span-4"},[e._v(" "+e._s(t.id)+" ")]),a("div",{staticClass:"col span-7 offset-1"},[t.showKey?a("div",{staticClass:"key-display"},[e._v(" "+e._s(t.publicKey)+" "),a("button",{staticClass:"btn btn-sm role-link hide-bar",on:{click:function(t){return e.toggleShow(r)}}},[a("i",{staticClass:"icon icon-x"})])]):a("button",{staticClass:"btn btn-sm role-link",on:{click:function(t){return e.toggleShow(r)}}},[e._v(" *******"),a("i",{staticClass:"icons icon-show"})])])])})),0)},n=[],s=a("56d4"),o=a.n(s),i=a("9c38"),l=a.n(i),c=a("90cd"),u=a("b837"),d=a("4b06");function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){f(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(e,t,a,r,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void a(c)}i.done?t(l):Promise.resolve(l).then(r,n)}function h(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var s=e.apply(t,a);function o(e){m(s,r,n,o,i,"next",e)}function i(e){m(s,r,n,o,i,"throw",e)}o(void 0)}))}}var b={mixins:[d["c"]],props:{value:{type:Object,required:!0}},fetch:function(){var e=this;return h(o.a.mark((function t(){var a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["a"])({allSSHs:e.$store.dispatch("harvester/findAll",{type:c["a"].SSH})});case 2:a=t.sent,e.allSSHs=a.allSSHs;case 4:case"end":return t.stop()}}),t)})))()},data:function(){return{allSSHs:[],sshKeys:[]}},methods:{toggleShow:function(e){var t=this.sshKeys[e];this.$set(this.sshKeys,e,p(p({},t),{},{showKey:!t.showKey}))},getKeys:function(){var e;return this.mergeAllSSHs(null===(e=this.value)||void 0===e?void 0:e.spec)},isShow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.sshKeys.find((function(t){var a;return(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.id)===e}))||{};return t.showKey||!1}},watch:{allSSHs:function(e){var t=this,a=this.getKeys().map((function(e){var a,r;return{id:e.id,publicKey:l()(e.data)?e.data:null===(a=e.data)||void 0===a||null===(r=a.spec)||void 0===r?void 0:r.publicKey,showKey:t.isShow(e.id)}}));this.$set(this,"sshKeys",a)}}},g=b,y=(a("6d63"),a("d802")),w=Object(y["a"])(g,r,n,!1,null,"37f968f4",null);t["a"]=w.exports},c2a71:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-635cbdce]:after,.clearfix[data-v-635cbdce]:before{content:" ";display:table}.clearfix[data-v-635cbdce]:after{clear:both}.list-unstyled[data-v-635cbdce]{margin:0;padding:0;list-style-type:none}.no-select[data-v-635cbdce]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-635cbdce]{resize:none}.hand[data-v-635cbdce]{cursor:pointer;cursor:hand}.fixed[data-v-635cbdce]{table-layout:fixed}.clip[data-v-635cbdce]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-635cbdce],.force-wrap[data-v-635cbdce]{word-wrap:break-word}.force-wrap[data-v-635cbdce]{white-space:normal}.bordered-section[data-v-635cbdce]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-635cbdce]{margin-bottom:20px;margin-top:20px}.role[data-v-635cbdce]{display:flex}',""]),e.exports=t},c4c9:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-f438ff2e]:after,.clearfix[data-v-f438ff2e]:before{content:" ";display:table}.clearfix[data-v-f438ff2e]:after{clear:both}.list-unstyled[data-v-f438ff2e]{margin:0;padding:0;list-style-type:none}.no-select[data-v-f438ff2e]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-f438ff2e]{resize:none}.hand[data-v-f438ff2e]{cursor:pointer;cursor:hand}.fixed[data-v-f438ff2e]{table-layout:fixed}.clip[data-v-f438ff2e]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-f438ff2e],.force-wrap[data-v-f438ff2e]{word-wrap:break-word}.force-wrap[data-v-f438ff2e]{white-space:normal}.bordered-section[data-v-f438ff2e]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-f438ff2e]{margin-bottom:20px;margin-top:20px}.badge-state[data-v-f438ff2e]{padding:5px 10px;border:1px solid transparent;border-radius:20px}.badge-state.bg-info[data-v-f438ff2e]{border-color:var(--primary)}.badge-state.bg-error[data-v-f438ff2e]{border-color:var(--error)}.badge-state.bg-warning[data-v-f438ff2e]{border-color:var(--warning)}.badge-state.bg-success[data-v-f438ff2e]{color:var(--success);border-color:var(--success);background:transparent}.sortable-table TD .badge-state[data-v-f438ff2e]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;word-wrap:break-word;display:inline-block;max-width:100%;position:relative;padding:2px 10px 1px 10px;font-size:1em;max-width:200px;font-size:.85em;vertical-align:middle}',""]),e.exports=t},c945:function(e,t,a){"use strict";a("46b0")},cbd2:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-7087607d]:after,.clearfix[data-v-7087607d]:before{content:" ";display:table}.clearfix[data-v-7087607d]:after{clear:both}.list-unstyled[data-v-7087607d]{margin:0;padding:0;list-style-type:none}.no-select[data-v-7087607d]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-7087607d]{resize:none}.hand[data-v-7087607d]{cursor:pointer;cursor:hand}.fixed[data-v-7087607d]{table-layout:fixed}.clip[data-v-7087607d]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-7087607d],.force-wrap[data-v-7087607d]{word-wrap:break-word}.force-wrap[data-v-7087607d]{white-space:normal}.bordered-section[data-v-7087607d]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-7087607d]{margin-bottom:20px;margin-top:20px}.consoleBut[data-v-7087607d]{position:relative;top:-20px;left:38px}.overview-basics[data-v-7087607d]{display:grid;grid-template-columns:100%;grid-template-rows:auto;grid-row-gap:15px}.overview-basics .badge-state[data-v-7087607d]{padding:2px 5px;font-size:12px;margin-right:3px}.overview-basics .smart-row[data-v-7087607d]{display:flex;flex-direction:row}.overview-basics .smart-row .console[data-v-7087607d]{display:flex}.overview-basics__name[data-v-7087607d]{flex:1}.overview-basics__ssh-key[data-v-7087607d]{min-width:150px}',""]),e.exports=t},cf64:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$fetchState.pending?a("Loading"):a("CruResource",{attrs:{"done-route":e.doneRoute,resource:e.value,mode:e.mode,"apply-hooks":e.applyHooks}},[e.spec?a("Tabbed",{attrs:{"side-tabs":!0},on:{changed:e.onTabChanged}},[a("Tab",{attrs:{name:"Basics",label:e.t("harvester.virtualMachine.detail.tabs.basics")}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.name"),value:e.name}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.fields.image"),value:e.imageName}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.hostname"),value:e.hostname}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.input.MachineType"),value:e.machineType}})],1)]),a("CpuMemory",{attrs:{cpu:e.cpu,mode:e.mode,memory:e.memory}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.bootOrder")},scopedSlots:e._u([{key:"value",fn:function(){return[a("div",[a("ul",e._l(e.disks,(function(t){return a("li",{key:t.bootOrder},[e._v(" "+e._s(t.bootOrder)+". "+e._s(t.name)+" ("+e._s(e.getDeviceType(t))+") ")])})),0)])]},proxy:!0}],null,!1,1805671940)})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.CDROMs")},scopedSlots:e._u([{key:"value",fn:function(){return[a("div",[e.cdroms.length>0?a("ul",e._l(e.cdroms,(function(t){return a("li",{key:t.name},[e._v(" "+e._s(t.name)+" ")])})),0):a("span",[e._v(" "+e._s(e.t("harvester.virtualMachine.detail.notAvailable"))+" ")])])]},proxy:!0}],null,!1,988662186)})],1)])],1),a("Tab",{attrs:{name:"volume",label:e.t("harvester.tab.volume"),weight:-1}},[a("Volume",{attrs:{mode:e.mode},model:{value:e.diskRows,callback:function(t){e.diskRows=t},expression:"diskRows"}})],1),a("Tab",{attrs:{name:"network",label:e.t("harvester.tab.network"),weight:-2}},[a("Network",{attrs:{mode:e.mode},model:{value:e.networkRows,callback:function(t){e.networkRows=t},expression:"networkRows"}})],1),a("Tab",{staticClass:"bordered-table",attrs:{name:"keypairs",label:e.t("harvester.virtualMachine.detail.tabs.keypairs"),weight:-3}},[e.vm?a("OverviewKeypairs",{model:{value:e.vm,callback:function(t){e.vm=t},expression:"vm"}}):e._e()],1),a("Tab",{attrs:{name:"advanced",label:e.t("harvester.tab.advanced"),weight:-4}},[a("CloudConfig",{ref:"yamlEditor",attrs:{"user-script":e.userScript,mode:e.mode,"network-script":e.networkScript}}),a("div",{staticClass:"spacer"}),a("Checkbox",{staticClass:"check",attrs:{mode:e.mode,type:"checkbox",label:e.t("harvester.virtualMachine.enableUsb")},model:{value:e.installUSBTablet,callback:function(t){e.installUSBTablet=t},expression:"installUSBTablet"}})],1)],1):e._e()],1)},n=[],s=a("56d4"),o=a.n(s),i=a("ad61"),l=a("5ef9"),c=a("70a6"),u=a("2e2b"),d=a("efb2"),v=a("eb32"),p=a("6834"),f=a("b837"),m=a("c78c"),h=a("90cd"),b=a("e1c9"),g=a("bf80"),y=a("9216"),w=a("fea5"),x=a("5c0d");function O(e,t,a,r,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void a(c)}i.done?t(l):Promise.resolve(l).then(r,n)}function _(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var s=e.apply(t,a);function o(e){O(s,r,n,o,i,"next",e)}function i(e){O(s,r,n,o,i,"throw",e)}o(void 0)}))}}var k="n/a",C={name:"BackupDetail",components:{Volume:y["default"],Network:w["default"],CruResource:u["a"],Tabbed:i["a"],Loading:c["a"],LabelValue:v["a"],Tab:l["a"],CloudConfig:x["default"],Checkbox:d["a"],CpuMemory:b["default"],OverviewKeypairs:g["a"]},mixins:[m["a"],p["c"]],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},fetch:function(){var e=this;return _(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["a"])({allImages:e.$store.dispatch("harvester/findAll",{type:h["a"].IMAGE})});case 2:case"end":return t.stop()}}),t)})))()},data:function(){return{vm:null}},computed:{name:function(){var e,t;return(null===(e=this.value)||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.name)||k},hostname:function(){var e,t,a;return null===this||void 0===this||null===(e=this.spec)||void 0===e||null===(t=e.template)||void 0===t||null===(a=t.spec)||void 0===a?void 0:a.hostname},imageName:function(){var e,t=this,a=this.$store.getters["harvester/all"](h["a"].IMAGE)||[],r=a.find((function(e){return t.imageId===e.id}));return(null===r||void 0===r||null===(e=r.spec)||void 0===e?void 0:e.displayName)||"-"},disks:function(){var e,t,a,r,n,s=(null===this||void 0===this||null===(e=this.spec)||void 0===e||null===(t=e.template)||void 0===t||null===(a=t.spec)||void 0===a||null===(r=a.domain)||void 0===r||null===(n=r.devices)||void 0===n?void 0:n.disks)||[];return s.filter((function(e){return!!e.bootOrder})).sort((function(e,t){return e.bootOrder<t.bootOrder?-1:1}))},cdroms:function(){var e,t,a,r,n,s=(null===this||void 0===this||null===(e=this.spec)||void 0===e||null===(t=e.template)||void 0===t||null===(a=t.spec)||void 0===a||null===(r=a.domain)||void 0===r||null===(n=r.devices)||void 0===n?void 0:n.disks)||[];return s.filter((function(e){return!!e.cdrom}))}},methods:{getDeviceType:function(e){return e.disk?"Disk":"CD-ROM"},isEmpty:function(e){return void 0!==e&&0===Object.keys(e).length},onTabChanged:function(e){var t,a=e.tab;"advanced"===a.name&&(null===(t=this.$refs.yamlEditor)||void 0===t||t.refresh())}}},S=C,j=a("d802"),P=Object(j["a"])(S,r,n,!1,null,null,null);t["default"]=P.exports},d1d5:function(e,t,a){"use strict";a("5a59")},d8ae:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-44fc164f]:after,.clearfix[data-v-44fc164f]:before{content:" ";display:table}.clearfix[data-v-44fc164f]:after{clear:both}.list-unstyled[data-v-44fc164f]{margin:0;padding:0;list-style-type:none}.no-select[data-v-44fc164f]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-44fc164f]{resize:none}.hand[data-v-44fc164f]{cursor:pointer;cursor:hand}.fixed[data-v-44fc164f]{table-layout:fixed}.clip[data-v-44fc164f]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-44fc164f],.force-wrap[data-v-44fc164f]{word-wrap:break-word}.force-wrap[data-v-44fc164f]{white-space:normal}.bordered-section[data-v-44fc164f]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-44fc164f]{margin-bottom:20px;margin-top:20px}.grafana-graph[data-v-44fc164f]{position:relative;min-height:100%;min-width:100%}.grafana-graph[data-v-44fc164f]  .content{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;padding:0}.grafana-graph[data-v-44fc164f]  .overlay{position:static;background-color:initial}.grafana-graph iframe[data-v-44fc164f]{position:absolute;left:0;right:0;top:20px;bottom:0;width:100%;height:100%;overflow:hidden}.grafana-graph iframe.loading[data-v-44fc164f]{visibility:hidden}',""]),e.exports=t},db10:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.overview-web-console .btn{line-height:24px;min-height:24px}',""]),e.exports=t},dc84:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ConsumptionGauge",{attrs:{capacity:e.memoryTotal,used:e.reserved,units:e.memoryUnits,"number-formatter":e.memoryFormatter,"resource-name":e.resourceName},scopedSlots:e._u([{key:"title",fn:function(t){var r=t.amountTemplateValues,n=t.formattedPercentage;return[a("span",[e._v(" "+e._s(e.t("clusterIndexPage.hardwareResourceGauge.reserved"))+" ")]),a("span",[e._v(" "+e._s(e.t("node.detail.glance.consumptionGauge.amount",r))+" "),a("span",{staticClass:"ml-10 percentage"},[e._v("/ "+e._s(n)+" ")])])]}}])}),e.showUsed?a("div",{staticClass:"mt-10"},[a("ConsumptionGauge",{attrs:{capacity:e.memoryTotal,used:e.used,units:e.memoryUnits,"number-formatter":e.memoryFormatter},scopedSlots:e._u([{key:"title",fn:function(t){var r=t.amountTemplateValues,n=t.formattedPercentage;return[a("span",[e._v(" "+e._s(e.t("clusterIndexPage.hardwareResourceGauge.used"))+" ")]),a("span",[e._v(" "+e._s(e.t("node.detail.glance.consumptionGauge.amount",r))+" "),a("span",{staticClass:"ml-10 percentage"},[e._v("/ "+e._s(n)+" ")])])]}}],null,!1,2886812275)})],1):e._e()],1)},n=[],s=a("3c8a"),o=a("56a4"),i=a("67ab"),l={name:"HarvesterMemoryUsed",components:{ConsumptionGauge:s["a"]},props:{value:{type:String,default:""},row:{type:Object,required:!0},resourceName:{type:String,default:""},showUsed:{type:Boolean,default:!1}},data:function(){return{}},computed:{metrics:function(){return this.$store.getters["harvester/byId"](o["r"].NODE,this.row.id)},memoryTotal:function(){var e=0;return this.metrics&&(e=this.metrics.memoryCapacity),e},memoryUnits:function(){var e=Object(i["d"])(this.memoryTotal,1024);return"".concat(i["b"][e],"iB")},node:function(){var e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters["".concat(e,"/byId")](o["w"],this.row.id);return t},reserved:function(){return this.metrics?this.node.memoryReserved:0},used:function(){var e,t;return this.metrics?Object(i["f"])((null===(e=this.metrics)||void 0===e||null===(t=e.usage)||void 0===t?void 0:t.memory)||"0m",{increment:1024}):0}},methods:{memoryFormatter:function(e){var t=Object(i["d"])(this.memoryTotal,1024),a={addSuffix:!1,increment:1024,minExponent:t};return Object(i["e"])(e,a)}}},c=l,u=a("d802"),d=Object(u["a"])(c,r,n,!1,null,null,null);t["default"]=d.exports},dcdf:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showReserved?a("div",[a("ConsumptionGauge",{attrs:{capacity:e.fpgaCapacity,used:e.fpgaAllocatable,"resource-name":e.resourceName},scopedSlots:e._u([{key:"title",fn:function(t){var r=t.amountTemplateValues,n=t.formattedPercentage;return[a("span",[e._v(" "+e._s(e.t("clusterIndexPage.hardwareResourceGauge.reserved"))+" ")]),a("span",[e._v(" "+e._s(e.t("node.detail.glance.consumptionGauge.amount",r))+" "),a("span",{staticClass:"ml-10 percentage"},[e._v("/ "+e._s(n)+" ")])])]}}],null,!1,1277316848)})],1):e._e(),a("ConsumptionGauge",{class:{"mt-10":e.showReserved},attrs:{capacity:e.fpgaCapacity,used:e.fpgaUsage},scopedSlots:e._u([{key:"title",fn:function(t){var r=t.amountTemplateValues,n=t.formattedPercentage;return[a("span",[e._v(" "+e._s(e.t("clusterIndexPage.hardwareResourceGauge.used"))+" ")]),a("span",[e._v(" "+e._s(e.t("node.detail.glance.consumptionGauge.amount",r))+" "),a("span",{staticClass:"ml-10 percentage"},[e._v("/ "+e._s(n)+" ")])])]}}])})],1)},n=[],s=a("3c8a"),o=a("56a4"),i={name:"HarvesterFpgaUsed",components:{ConsumptionGauge:s["a"]},props:{value:{type:String,default:""},row:{type:Object,required:!0},resourceName:{type:String,default:""},intelPacA10Only:{type:Boolean,default:!1},intelPacS10Only:{type:Boolean,default:!1},showReserved:{type:Boolean,default:!1}},data:function(){return{}},computed:{node:function(){var e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters["".concat(e,"/byId")](o["w"],this.row.id);return t},pods:function(){var e=this,t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters["".concat(t,"/all")](o["y"]);return a.filter((function(t){return t.spec.nodeName===e.node.name}))},intelPacA10Usage:function(){return this.pods.filter((function(e){return"Succeeded"!==e.status.phase&&"Failed"!==e.status.phase})).map((function(e){var t,a,r=0;return null===(t=e.spec.containers)||void 0===t||t.forEach((function(e){var t,a,n=Number.parseInt((null===(t=e.resources)||void 0===t||null===(a=t.limits)||void 0===a?void 0:a["intel/pac_a10"])||"0");r+=n})),null===(a=e.spec.initContainers)||void 0===a||a.forEach((function(e){var t,a,n=Number.parseInt((null===(t=e.resources)||void 0===t||null===(a=t.limits)||void 0===a?void 0:a["intel/pac_a10"])||"0");n>r&&(r=n)})),r})).reduce((function(e,t){return e+t}),0)},intelPacA10Allocatable:function(){return Number.parseInt(this.node.status.allocatable["intel/pac_a10"]||"0")},intelPacA10Capacity:function(){return Number.parseInt(this.node.status.capacity["intel/pac_a10"]||"0")},intelPacS10Usage:function(){return this.pods.filter((function(e){return"Succeeded"!==e.status.phase&&"Failed"!==e.status.phase})).map((function(e){var t,a,r=0;return null===(t=e.spec.containers)||void 0===t||t.forEach((function(e){var t,a,n=Number.parseInt((null===(t=e.resources)||void 0===t||null===(a=t.limits)||void 0===a?void 0:a["intel/pac_s10"])||"0");r+=n})),null===(a=e.spec.initContainers)||void 0===a||a.forEach((function(e){var t,a,n=Number.parseInt((null===(t=e.resources)||void 0===t||null===(a=t.limits)||void 0===a?void 0:a["intel/pac_s10"])||"0");n>r&&(r=n)})),r})).reduce((function(e,t){return e+t}),0)},intelPacS10Allocatable:function(){return Number.parseInt(this.node.status.capacity["intel/pac_s10"]||"0")},intelPacS10Capacity:function(){return Number.parseInt(this.node.status.capacity["intel/pac_s10"]||"0")},fpgaUsage:function(){return this.intelPacA10Only?this.intelPacA10Usage:this.intelPacS10Only?this.intelPacS10Usage:this.intelPacA10Usage+this.intelPacS10Usage},fpgaAllocatable:function(){return this.intelPacA10Only?this.intelPacA10Allocatable:this.intelPacS10Only?this.intelPacS10Allocatable:this.intelPacA10Allocatable+this.intelPacS10Allocatable},fpgaCapacity:function(){return this.intelPacA10Only?this.intelPacA10Capacity:this.intelPacS10Only?this.intelPacS10Capacity:this.intelPacA10Capacity+this.intelPacS10Capacity}}},l=i,c=a("d802"),u=Object(c["a"])(l,r,n,!1,null,null,null);t["default"]=u.exports},e1c3:function(e,t,a){var r=a("c2a71");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("5924313c",r,!0,{sourceMap:!1,shadowMode:!1})},e4b7:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-5f89bc70]:after,.clearfix[data-v-5f89bc70]:before{content:" ";display:table}.clearfix[data-v-5f89bc70]:after{clear:both}.list-unstyled[data-v-5f89bc70]{margin:0;padding:0;list-style-type:none}.no-select[data-v-5f89bc70]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-5f89bc70]{resize:none}.hand[data-v-5f89bc70]{cursor:pointer;cursor:hand}.fixed[data-v-5f89bc70]{table-layout:fixed}.clip[data-v-5f89bc70]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-5f89bc70],.force-wrap[data-v-5f89bc70]{word-wrap:break-word}.force-wrap[data-v-5f89bc70]{white-space:normal}.bordered-section[data-v-5f89bc70]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-5f89bc70]{margin-bottom:20px;margin-top:20px}.dashboard-metrics[data-v-5f89bc70]  .external-link{position:absolute;left:200px;top:-45px}.dashboard-metrics[data-v-5f89bc70]  .frame{top:0}.dashboard-metrics.external-link-pull-left[data-v-5f89bc70]  .external-link{position:absolute;left:10px;top:-45px}',""]),e.exports=t},fa3a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Tabbed",e._b({staticClass:"mt-15",attrs:{"side-tabs":!0}},"Tabbed",e.$attrs,!1),[a("Tab",{staticClass:"bordered-table",attrs:{name:"basics",label:e.t("harvester.host.tabs.basics"),weight:4}},[a("Basic",{attrs:{metrics:e.metrics,mode:e.mode,"host-network-resource":e.hostNetworkResource},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),a("Tab",{staticClass:"bordered-table",attrs:{name:"instance",label:e.t("harvester.host.tabs.instance"),weight:3}},[a("Instance",{attrs:{node:e.value}})],1),e.hasHostNetworksSchema?a("Tab",{staticClass:"bordered-table",attrs:{name:"network",label:e.t("harvester.host.tabs.network"),weight:2}},[a("ArrayListGrouped",{attrs:{mode:e.mode,"can-remove":!1},scopedSlots:e._u([{key:"default",fn:function(t){return[a("Network",{attrs:{value:t.row.value,mode:e.mode}})]}}],null,!1,2537098689),model:{value:e.networkLinks,callback:function(t){e.networkLinks=t},expression:"networkLinks"}})],1):e._e(),e.hasBlockDevicesSchema?a("Tab",{attrs:{name:"disk",weight:1,label:e.t("harvester.host.tabs.disk")}},[a("ArrayListGrouped",{attrs:{mode:e.mode,"can-remove":!1},scopedSlots:e._u([{key:"default",fn:function(t){return[a("Disk",{staticClass:"mb-20",attrs:{mode:e.mode,disks:e.disks},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"props.row.value"}})]}}],null,!1,2516310713),model:{value:e.newDisks,callback:function(t){e.newDisks=t},expression:"newDisks"}})],1):e._e()],1)],1)},n=[],s=a("56d4"),o=a.n(s),i=a("ad61"),l=a("5ef9"),c=a("500e"),u=a("56a4"),d=a("90cd"),v=a("b837"),p=a("67ab"),f=a("d003"),m=a("e411"),h=a("1832"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"host-detail"},[a("h3",[e._v(e._s(e.t("harvester.host.tabs.overview")))]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.customName"),value:e.customName}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.hostIP"),value:e.value.internalIp}})],1)]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.os"),value:e.value.status.nodeInfo.osImage}})],1),a("div",{staticClass:"col span-6"},[a("div",{staticClass:"role"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.role")},scopedSlots:e._u([{key:"value",fn:function(){return[e._v(" "+e._s(e.nodeType)+" "),a("span",{staticClass:"text-warning ml-20"},[e._v(" "+e._s(e.t("harvester.host.promote."+e.nodeRoleState))+" ")])]},proxy:!0}])})],1)])]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.create"),value:e.value.metadata.creationTimestamp}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.update"),value:e.lastUpdateTime}})],1)]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.consoleUrl"),value:e.consoleUrl.value}},[a("a",{attrs:{slot:"value",href:e.consoleUrl.value,target:"_blank"},slot:"value"},[e._v(e._s(e.consoleUrl.display))])])],1)]),e.hasHostNetworksSchema?a("div",[a("hr",{staticClass:"divider"}),a("h3",[e._v(e._s(e.t("harvester.host.detail.title.network")))]),e.networkMessage?a("Banner",{attrs:{color:"error"}},[e._v(" "+e._s(e.networkMessage)+" ")]):e._e(),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.networkType"),value:e.networkType}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.nic"),value:e.nic}})],1)])],1):e._e(),e.hasMetricNodeSchema?a("div",[a("hr",{staticClass:"divider"}),a("h3",[e._v(e._s(e.t("harvester.host.tabs.monitor")))]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col",class:{"span-4":e.hasLonghornSchema,"span-6":!e.hasLonghornSchema}},[a("HarvesterCPUUsed",{attrs:{row:e.value,"resource-name":e.t("node.detail.glance.consumptionGauge.cpu"),"show-used":!0}})],1),a("div",{staticClass:"col",class:{"span-4":e.hasLonghornSchema,"span-6":!e.hasLonghornSchema}},[a("HarvesterMemoryUsed",{attrs:{row:e.value,"resource-name":e.t("node.detail.glance.consumptionGauge.memory"),"show-used":!0}})],1),e.hasLonghornSchema?a("div",{staticClass:"col span-4"},[a("HarvesterStorageUsed",{attrs:{row:e.value,"resource-name":e.t("harvester.host.detail.storage"),"show-reserved":!0}})],1):e._e()]),e.fpgaCapacity?a("div",{staticClass:"row mb-20"},[e.intelPacA10Capacity?a("div",{staticClass:"col span-4"},[a("HarvesterFPGAUsed",{attrs:{row:e.value,"resource-name":e.t("node.detail.glance.consumptionGauge.intelPacA10"),"intel-pac-a10-only":!0,"show-reserved":!0}})],1):e._e(),e.intelPacS10Capacity?a("div",{staticClass:"col span-4"},[a("HarvesterFPGAUsed",{attrs:{row:e.value,"resource-name":e.t("node.detail.glance.consumptionGauge.intelPacS10"),"intel-pac-s10-only":!0,"show-reserved":!0}})],1):e._e()]):e._e()]):e._e(),a("hr",{staticClass:"section-divider"}),a("h3",[e._v(e._s(e.t("harvester.host.detail.more")))]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-4"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.uuid"),value:e.value.status.nodeInfo.systemUUID}})],1),a("div",{staticClass:"col span-4"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.kernel"),value:e.value.status.nodeInfo.kernelVersion}})],1),a("div",{staticClass:"col span-4"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.containerRuntime"),value:e.value.status.nodeInfo.containerRuntimeVersion}})],1)])])},g=[],y=a("eb32"),w=a("dffb"),x=a("b0bd"),O=a("220e"),_=a("dcdf"),k=a("dc84"),C=a("42c6"),S="complete",j="none",P="promoteRestart",N="promoteSucceed",M={name:"BasicNode",components:{LabelValue:y["a"],Banner:w["a"],HarvesterCPUUsed:O["default"],HarvesterFPGAUsed:_["default"],HarvesterMemoryUsed:k["default"],HarvesterStorageUsed:C["default"]},props:{value:{type:Object,required:!0},metrics:{type:Object,required:!1,default:function(){return null}},mode:{type:String,required:!1,default:"view"},hostNetworkResource:{type:Object,required:!1,default:function(){return null}}},computed:{customName:function(){var e,t;return null===(e=this.value.metadata)||void 0===e||null===(t=e.annotations)||void 0===t?void 0:t[x["l"].HOST_CUSTOM_NAME]},consoleUrl:function(){var e,t,a=null===(e=this.value.metadata)||void 0===e||null===(t=e.annotations)||void 0===t?void 0:t[x["l"].HOST_CONSOLE_URL],r=a;return a?(a.startsWith("http://")||a.startsWith("https://")||(r="http://".concat(a)),{display:a,value:r}):""},cpuTotal:function(){var e=0;return this.metrics&&(e=this.metrics.cpuCapacity),e},cpuUsage:function(){var e=0;return this.metrics&&(e=this.metrics.cpuUsage),e},memoryTotal:function(){var e=0;return this.metrics&&(e=this.metrics.memoryCapacity),e},memoryUsage:function(){var e=0;return this.metrics&&(e=this.metrics.memoryUsage),e},storageUsage:function(){var e,t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters["".concat(t,"/byId")](u["p"].NODES,"longhorn-system/".concat(this.value.id)),r=0,n=(null===a||void 0===a||null===(e=a.status)||void 0===e?void 0:e.diskStatus)||{};return Object.values(n).map((function(e){null!==e&&void 0!==e&&e.storageAvailable&&null!==e&&void 0!==e&&e.storageMaximum&&(r+=e.storageMaximum-e.storageAvailable)})),r},storageTotal:function(){var e,t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters["".concat(t,"/byId")](u["p"].NODES,"longhorn-system/".concat(this.value.id)),r=0,n=(null===a||void 0===a||null===(e=a.status)||void 0===e?void 0:e.diskStatus)||{};return Object.values(n).map((function(e){null!==e&&void 0!==e&&e.storageMaximum&&(r+=e.storageMaximum)})),r},cpuUnits:function(){return"C"},memoryUnits:function(){var e=Object(p["d"])(this.memoryTotal,1024);return"".concat(p["b"][e],"iB")},storageUnits:function(){var e=Object(p["d"])(this.storageTotal,1024);return"".concat(p["b"][e],"iB")},intelPacA10Capacity:function(){return Number.parseInt(this.value.status.capacity["intel/pac_a10"]||"0")},intelPacS10Capacity:function(){return Number.parseInt(this.value.status.capacity["intel/pac_s10"]||"0")},fpgaCapacity:function(){return this.intelPacA10Capacity+this.intelPacS10Capacity},nodeType:function(){return this.value.isMaster?this.t("harvester.host.detail.management"):this.t("harvester.host.detail.compute")},lastUpdateTime:function(){var e,t,a;return null===(e=this.value.status)||void 0===e||null===(t=e.conditions)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.lastHeartbeatTime},nodeRoleState:function(){var e,t,a,r,n,s,o=void 0!==(null===(e=this.value.metadata)||void 0===e||null===(t=e.labels)||void 0===t?void 0:t[x["l"].NODE_ROLE_MASTER])||void 0!==(null===(a=this.value.metadata)||void 0===a||null===(r=a.labels)||void 0===r?void 0:r[x["l"].NODE_ROLE_CONTROL_PLANE]),i=(null===(n=this.value.metadata)||void 0===n||null===(s=n.annotations)||void 0===s?void 0:s[x["l"].PROMOTE_STATUS])||j;return o||i!==S?o&&i===S?N:i:P},networkType:function(){var e,t;return(null===(e=this.hostNetworkResource)||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.type)||"-"},nic:function(){var e,t;return(null===(e=this.hostNetworkResource)||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.nic)||"-"},networkMessage:function(){var e;return null===(e=this.hostNetworkResource)||void 0===e?void 0:e.message},hasMetricNodeSchema:function(){var e=this.$store.getters["currentProduct"].inStore;return!!this.$store.getters["".concat(e,"/schemaFor")](u["r"].NODE)},hasHostNetworksSchema:function(){var e=this.$store.getters["currentProduct"].inStore;return!!this.$store.getters["".concat(e,"/schemaFor")](d["a"].NODE_NETWORK)},hasLonghornSchema:function(){var e=this.$store.getters["currentProduct"].inStore;return!!this.$store.getters["".concat(e,"/schemaFor")](u["p"].NODES)}},methods:{memoryFormatter:function(e){var t=Object(p["d"])(this.memoryTotal,1024),a={addSuffix:!1,increment:1024,minExponent:t};return Object(p["e"])(e,a)}}},T=M,E=(a("5b19"),a("d802")),D=Object(E["a"])(T,b,g,!1,null,"635cbdce",null),A=D.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$fetchState.pending?a("Loading"):a("div",{staticClass:"row",attrs:{id:"host-instances"}},[a("div",{staticClass:"col span-12"},[a("SortableTable",e._g(e._b({attrs:{headers:e.headers,"default-sort-by":"age",rows:e.rows,"key-field":"_key"},scopedSlots:e._u([{key:"cell:state",fn:function(t){return[a("div",{staticClass:"state"},[a("HarvesterVmState",{staticClass:"vmstate",attrs:{row:t.row,"all-node-network":e.allNodeNetwork,"all-cluster-network":e.allClusterNetwork}})],1)]}}])},"SortableTable",e.$attrs,!1),e.$listeners))],1)])},$=[],I=a("d6d1"),V=a("fc28"),L=a("70a6"),U=a("2c7c");function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){H(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function H(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function z(e,t,a,r,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void a(c)}i.done?t(l):Promise.resolve(l).then(r,n)}function K(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var s=e.apply(t,a);function o(e){z(s,r,n,o,i,"next",e)}function i(e){z(s,r,n,o,i,"throw",e)}o(void 0)}))}}var F={name:"InstanceNode",components:{SortableTable:V["b"],Loading:L["a"],HarvesterVmState:U["default"]},props:{node:{type:Object,required:!0}},fetch:function(){var e=this;return K(o.a.mark((function t(){var a,r;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(v["a"])({vms:e.$store.dispatch("harvester/findAll",{type:d["a"].VM}),vmis:e.$store.dispatch("harvester/findAll",{type:d["a"].VMI}),allNodeNetwork:e.$store.dispatch("harvester/findAll",{type:d["a"].NODE_NETWORK}),allClusterNetwork:e.$store.dispatch("harvester/findAll",{type:d["a"].CLUSTER_NETWORK})});case 2:a=t.sent,r={},(a.vmis||[]).forEach((function(e){var t,a,n,s=null===e||void 0===e||null===(t=e.metadata)||void 0===t||null===(a=t.ownerReferences)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.uid;s&&(r[s]=e)})),e.allNodeNetwork=a.allNodeNetwork,e.allClusterNetwork=a.allClusterNetwork,e.rows=a.vms.filter((function(t){var a,n,s,o,i,l;return(null===(a=r[null===(s=t.metadata)||void 0===s?void 0:s.uid])||void 0===a||null===(n=a.status)||void 0===n?void 0:n.nodeName)===(null===(o=e.node)||void 0===o||null===(i=o.metadata)||void 0===i||null===(l=i.labels)||void 0===l?void 0:l[x["m"]])}));case 8:case"end":return t.stop()}}),t)})))()},data:function(){return{rows:[],allNodeNetwork:[],allClusterNetwork:[]}},computed:{headers:function(){return[I["G"],I["p"],{name:"vmCPU",labelKey:"tableHeaders.cpu",sort:"vmCPU",search:!1,value:"spec.template.spec.domain.cpu.cores",width:120},{name:"vmFPGA",labelKey:"tableHeaders.fpga",sort:"vmFPGA",search:!1,value:"displayFpga",width:120},{name:"vmRAM",labelKey:"glance.memory",sort:"vmRAM",search:!1,value:"spec.template.spec.domain.resources.limits.memory",width:120},{name:"ip",label:"IP Address",labelKey:"harvester.tableHeaders.vm.ipAddress",value:"id",formatter:"HarvesterIpAddress"},G(G({},I["b"]),{},{sort:"metadata.creationTimestamp:desc"})]}},methods:{}},q=F,W=(a("852d"),Object(E["a"])(q,R,$,!1,null,"34cca86d",null)),J=W.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"disk",on:{input:e.update}},[a("div",{staticClass:"mt-30"}),e.mountedMessage?a("Banner",{attrs:{color:"error",label:e.mountedMessage}}):e._e(),e.value.isNew?e._e():a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-12"},[a("div",{staticClass:"pull-right"},[e._v(" Conditions: "),a("BadgeState",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.readyCondiction.message,expression:"readyCondiction.message"}],staticClass:"mr-10 ml-10 state",attrs:{color:"True"===e.readyCondiction.status?"bg-success":"bg-error",icon:"True"===e.readyCondiction.status?"icon-checkmark":"icon-warning",label:"Ready"}}),a("BadgeState",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.schedulableCondiction.message,expression:"schedulableCondiction.message"}],staticClass:"mr-10 state",attrs:{color:"True"===e.schedulableCondiction.status?"bg-success":"bg-error",icon:"True"===e.schedulableCondiction.status?"icon-checkmark":"icon-warning",label:"Schedulable"}}),e.provisionPhase.label?a("BadgeState",{staticClass:"mr-10 state",attrs:{color:e.provisionPhase.color,icon:e.provisionPhase.icon,label:e.provisionPhase.label}}):e._e()],1)])]),e.value.isNew?e._e():a("div",{staticClass:"row mt-30"},[a("div",{staticClass:"col span-4"},[a("LabelValue",{attrs:{name:"Storage Available",value:e.value.storageAvailable}})],1),a("div",{staticClass:"col span-4"},[a("LabelValue",{attrs:{name:"Storage Scheduled",value:e.value.storageScheduled}})],1),a("div",{staticClass:"col span-4"},[a("LabelValue",{attrs:{name:"Storage Max",value:e.value.storageMaximum}})],1)]),a("hr",{staticClass:"mt-10"})]),a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col span-4"},[a("LabelValue",{attrs:{name:e.t("generic.name"),value:e.value.displayName}})],1),a("div",{staticClass:"col span-4"},[a("LabelValue",{attrs:{name:e.t("harvester.host.disk.path.label"),value:e.value.path}})],1)])],1)},Z=[],Q=a("57ab"),X={components:{LabelValue:y["a"],BadgeState:Q["a"],Banner:w["a"]},props:{value:{type:Object,default:function(){return{}}},disks:{type:Array,default:function(){return[]}},mode:{type:String,default:"edit"}},data:function(){return{}},computed:{allowSchedulingOptions:function(){return[{label:this.t("generic.enabled"),value:!0},{label:this.t("generic.disabled"),value:!1}]},evictionRequestedOptions:function(){return[{label:this.t("generic.yes"),value:!0},{label:this.t("generic.no"),value:!1}]},readyCondiction:function(){var e,t;return(null===(e=this.value)||void 0===e||null===(t=e.conditions)||void 0===t?void 0:t.Ready)||{}},schedulableCondiction:function(){var e,t;return(null===(e=this.value)||void 0===e||null===(t=e.conditions)||void 0===t?void 0:t.Schedulable)||{}},provisionPhase:function(){var e,t;return(null===(e=this.value)||void 0===e||null===(t=e.blockDevice)||void 0===t?void 0:t.provisionPhase)||{}},mountedMessage:function(){var e,t,a,r=(null===(e=this.value)||void 0===e||null===(t=e.blockDevice)||void 0===t||null===(a=t.metadata)||void 0===a?void 0:a.state)||{};return null!==r&&void 0!==r&&r.error?null===r||void 0===r?void 0:r.message:""}},methods:{update:function(){this.$emit("input",this.value)},canEditPath:function(e){return!!this.mountedMessage||!(!e.isNew||!e.originPath)}}},ee=X,te=(a("626e"),Object(E["a"])(ee,Y,Z,!1,null,"87440202",null)),ae=te.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("generic.name"),value:e.value.name}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("tableHeaders.state"),value:e.value.state}})],1)]),a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("tableHeaders.type"),value:e.value.type}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.fields.macAddress"),value:e.value.mac}})],1)]),a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col span-6"},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.ipv4Address"),value:e.value.ipv4Address,mode:e.mode},scopedSlots:e._u([{key:"value",fn:function(){return[a("ul",e._l(e.value.ipv4Address,(function(t){return a("li",{key:t},[e._v(" "+e._s(t)+" ")])})),0)]},proxy:!0}])})],1),"true"===e.value.promiscuous?a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.fields.promiscuous"),value:e.value.promiscuous},scopedSlots:e._u([{key:"value",fn:function(){return[e._v(" "+e._s("true"===e.value.promiscuous?e.t("generic.yes"):e.t("generic.no"))+" ")]},proxy:!0}],null,!1,1777622139)})],1):e._e()])])},ne=[],se=a("2aaa"),oe=a("d6a6"),ie={name:"HarvesterHostNetwork",components:{LabelValue:y["a"],InputOrDisplay:se["a"]},props:{value:{type:Object,required:!0},mode:{type:String,default:oe["u"]}}},le=ie,ce=Object(E["a"])(le,re,ne,!1,null,null,null),ue=ce.exports;function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(Object(a),!0).forEach((function(t){pe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function pe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fe(e){return ge(e)||be(e)||he(e)||me()}function me(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function he(e,t){if(e){if("string"===typeof e)return ye(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ye(e,t):void 0}}function be(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ge(e){if(Array.isArray(e))return ye(e)}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function we(e,t,a,r,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void a(c)}i.done?t(l):Promise.resolve(l).then(r,n)}function xe(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var s=e.apply(t,a);function o(e){we(s,r,n,o,i,"next",e)}function i(e){we(s,r,n,o,i,"throw",e)}o(void 0)}))}}var Oe={name:"DetailHost",components:{Tabbed:i["a"],Tab:l["a"],Basic:A,Instance:J,ArrayListGrouped:f["a"],Disk:ae,Network:ue},mixins:[c["a"]],props:{value:{type:Object,required:!0}},fetch:function(){var e=this;return xe(o.a.mark((function t(){var a,r,n,s,i,l,c;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$store.getters["currentProduct"].inStore,r={nodes:e.$store.dispatch("harvester/findAll",{type:u["w"]}),pods:e.$store.dispatch("".concat(a,"/findAll"),{type:u["y"]})},e.$store.getters["harvester/schemaFor"](d["a"].NODE_NETWORK)&&(r.hostNetworks=e.$store.dispatch("harvester/findAll",{type:d["a"].NODE_NETWORK})),e.$store.getters["harvester/schemaFor"](d["a"].BLOCK_DEVICE)&&(r.blockDevices=e.$store.dispatch("harvester/findAll",{type:d["a"].BLOCK_DEVICE})),e.$store.getters["harvester/schemaFor"](u["p"].NODES)&&(r.longhornNodes=e.$store.dispatch("harvester/findAll",{type:u["p"].NODES})),t.next=7,Object(v["a"])(r);case 7:n=t.sent,s=(n.hostNetworks||[]).find((function(t){return e.value.id===t.attachNodeName})),e.loadMetrics(),s&&(e.hostNetworkResource=s),i=e.$store.getters["".concat(a,"/all")](d["a"].BLOCK_DEVICE),l=i.filter((function(t){var a,r,n,s=null===t||void 0===t||null===(a=t.spec)||void 0===a||null===(r=a.fileSystem)||void 0===r?void 0:r.provisioned,o=(null===t||void 0===t||null===(n=t.spec)||void 0===n?void 0:n.nodeName)===e.value.id,i=Object(m["e"])(e.longhornDisks,"name",t.metadata.name);return s&&o&&!i})).map((function(e){var t,a,r,n,s,o,i;return{isNew:!0,name:null===e||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.name,originPath:null===e||void 0===e||null===(a=e.spec)||void 0===a||null===(r=a.fileSystem)||void 0===r?void 0:r.mountPoint,path:null===e||void 0===e||null===(n=e.spec)||void 0===n||null===(s=n.fileSystem)||void 0===s?void 0:s.mountPoint,blockDevice:e,displayName:null===e||void 0===e?void 0:e.displayName,forceFormatted:(null===e||void 0===e||null===(o=e.spec)||void 0===o||null===(i=o.fileSystem)||void 0===i?void 0:i.forceFormatted)||!1}})),c=[].concat(fe(e.longhornDisks),fe(l)),e.disks=c,e.newDisks=Object(h["clone"])(c);case 16:case"end":return t.stop()}}),t)})))()},data:function(){return{metrics:null,mode:"view",hostNetworkResource:null,newDisks:[],disks:[]}},computed:{longhornDisks:function(){var e,t,a=this,r=this.$store.getters["currentProduct"].inStore,n=this.$store.getters["".concat(r,"/byId")](u["p"].NODES,"longhorn-system/".concat(this.value.id)),s=(null===n||void 0===n||null===(e=n.status)||void 0===e?void 0:e.diskStatus)||{},o=(null===n||void 0===n||null===(t=n.spec)||void 0===t?void 0:t.disks)||{},i={increment:1024,minExponent:3,maxExponent:3,maxPrecision:2,suffix:"iB"},l=Object.keys(s).map((function(e){var t,n,l,c,u,v,f=a.$store.getters["".concat(r,"/byId")](d["a"].BLOCK_DEVICE,"longhorn-system/".concat(e));return ve(ve(ve({},s[e]),null===o||void 0===o?void 0:o[e]),{},{name:e,isNew:!1,storageReserved:Object(p["e"])(null===(t=o[e])||void 0===t?void 0:t.storageReserved,i),storageAvailable:Object(p["e"])(null===(n=s[e])||void 0===n?void 0:n.storageAvailable,i),storageMaximum:Object(p["e"])(null===(l=s[e])||void 0===l?void 0:l.storageMaximum,i),storageScheduled:Object(p["e"])(null===(c=s[e])||void 0===c?void 0:c.storageScheduled,i),blockDevice:f,displayName:(null===f||void 0===f?void 0:f.displayName)||e,forceFormatted:(null===f||void 0===f||null===(u=f.spec)||void 0===u||null===(v=u.fileSystem)||void 0===v?void 0:v.forceFormatted)||!1})}));return l},network:function(){var e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters["".concat(e,"/all")](d["a"].NODE_NETWORK);return Object(m["e"])(t,"spec.nodeName",this.value.id)||{}},networkLinks:function(){var e,t,a=(null===(e=this.network)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.networkLinkStatus)||{},r=Object.keys(a).map((function(e){var t=a[e]||{};return ve(ve({},t),{},{name:e,promiscuous:t.promiscuous?"true":"false"})}));return r},hasBlockDevicesSchema:function(){return!!this.$store.getters["harvester/schemaFor"](d["a"].BLOCK_DEVICE)},hasHostNetworksSchema:function(){return!!this.$store.getters["harvester/schemaFor"](d["a"].NODE_NETWORK)}},methods:{loadMetrics:function(){var e=this;return xe(o.a.mark((function t(){var a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.$store.getters["harvester/schemaFor"](u["r"].NODE),!a){t.next=6;break}return t.next=4,e.$store.dispatch("harvester/find",{type:u["r"].NODE,id:e.value.id,opt:{force:!0,watch:!1}});case 4:e.metrics=t.sent,e.$forceUpdate();case 6:case"end":return t.stop()}}),t)})))()}}},_e=Oe,ke=Object(E["a"])(_e,r,n,!1,null,null,null);t["default"]=ke.exports}}]);
//# sourceMappingURL=harvester-v1.0.3.umd.min.detail.js.map