(("undefined"!==typeof self?self:this)["webpackJsonpharvester_v1_0_3"]=("undefined"!==typeof self?self:this)["webpackJsonpharvester_v1_0_3"]||[]).push([[2],{"00ab":function(e,t,a){var r=a("8de4");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("9319b61e",r,!0,{sourceMap:!1,shadowMode:!1})},"0194":function(e,t,a){"use strict";a("0aeb")},"04d2":function(e,t,a){var r=a("9cc8");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("4bbdcf0a",r,!0,{sourceMap:!1,shadowMode:!1})},"0aeb":function(e,t,a){var r=a("f3cf");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("296e2a35",r,!0,{sourceMap:!1,shadowMode:!1})},"0e4c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Loading",{attrs:{mode:"relative",loading:e.loading}}),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hev-name"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.name"),value:e.value.name,mode:e.mode}},[a("LabeledInput",{attrs:{label:e.t("harvester.fields.name"),mode:e.mode,required:""},on:{input:e.update},model:{value:e.value.name,callback:function(t){e.$set(e.value,"name",t)},expression:"value.name"}})],1)],1),a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hev-type"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.type"),value:e.value.type,mode:e.mode}},[a("LabeledSelect",{attrs:{label:e.t("harvester.fields.type"),options:e.VOLUME_TYPE,required:"",mode:e.mode},on:{input:e.update},model:{value:e.value.type,callback:function(t){e.$set(e.value,"type",t)},expression:"value.type"}})],1)],1)]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hev-size"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.size"),value:e.value.size,mode:e.mode}},[a("UnitInput",{attrs:{"output-modifier":!0,increment:1024,"input-exponent":3,mode:e.mode,required:e.validateRequired,label:e.t("harvester.fields.size"),disabled:e.isDisabled},on:{input:e.update},model:{value:e.value.size,callback:function(t){e.$set(e.value,"size",t)},expression:"value.size"}})],1)],1),a("div",{staticClass:"col span-3",attrs:{"data-testid":"input-hev-bus"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.virtualMachine.volume.bus"),value:e.value.bus,mode:e.mode}},[a("LabeledSelect",{attrs:{label:e.t("harvester.virtualMachine.volume.bus"),mode:e.mode,options:e.InterfaceOption,required:""},on:{input:e.update},model:{value:e.value.bus,callback:function(t){e.$set(e.value,"bus",t)},expression:"value.bus"}})],1)],1)])],1)},n=[],s=a("70a6"),i=a("2007"),o=a("2aaa"),l=a("d444"),u=a("53fe"),d=a("56a4"),c=a("67ab"),p=a("7c47"),v={name:"HarvesterEditVolume",components:{InputOrDisplay:o["a"],Loading:s["a"],LabeledInput:l["a"],LabeledSelect:u["a"],UnitInput:i["a"]},props:{mode:{type:String,default:"create"},isEdit:{type:Boolean,default:!1},value:{type:Object,default:function(){return{}}},validateRequired:{type:Boolean,required:!0},isVirtualType:{type:Boolean,default:!0}},data:function(){return{VOLUME_TYPE:p["e"],InterfaceOption:p["b"],loading:!1}},computed:{pvcsResource:function(){var e=this,t=this.$store.getters["harvester/all"](d["A"])||[];return t.find((function(t){return t.metadata.name===e.value.volumeName}))},isDisabled:function(){return!this.value.newCreateId&&this.isEdit&&this.isVirtualType}},watch:{"value.type":function(e){"cd-rom"===e&&(this.$set(this.value,"bus","sata"),this.update())},pvcsResource:{handler:function(e){var t,a,r;if(null!==e&&void 0!==e&&null!==(t=e.spec)&&void 0!==t&&null!==(a=t.resources)&&void 0!==a&&null!==(r=a.requests)&&void 0!==r&&r.storage){var n=Object(c["f"])(e.spec.resources.requests.storage),s=Object(c["e"])(n,{increment:1024,addSuffix:!1,maxExponent:3,minExponent:3});this.value.size="".concat(s,"Gi")}},deep:!0,immediate:!0}},methods:{update:function(){this.$emit("update")}}},f=v,m=a("d802"),h=Object(m["a"])(f,r,n,!1,null,null,null);t["default"]=h.exports},1918:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-06065687]:after,.clearfix[data-v-06065687]:before{content:" ";display:table}.clearfix[data-v-06065687]:after{clear:both}.list-unstyled[data-v-06065687]{margin:0;padding:0;list-style-type:none}.no-select[data-v-06065687]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-06065687]{resize:none}.hand[data-v-06065687]{cursor:pointer;cursor:hand}.fixed[data-v-06065687]{table-layout:fixed}.clip[data-v-06065687]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-06065687],.force-wrap[data-v-06065687]{word-wrap:break-word}.force-wrap[data-v-06065687]{white-space:normal}.bordered-section[data-v-06065687]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-06065687]{margin-bottom:20px;margin-top:20px}.box[data-v-06065687]{position:relative}.title[data-v-06065687]{display:flex}.title .state[data-v-06065687]{font-size:16px}.remove[data-v-06065687]{position:absolute;top:10px;right:10px;padding:0}.bootOrder[data-v-06065687]{display:flex;align-items:center}.buttons[data-v-06065687]{width:100%;display:flex;justify-content:flex-end}',""]),e.exports=t},"26a8":function(e,t,a){"use strict";a("db29")},2944:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-b7cb7d9a]:after,.clearfix[data-v-b7cb7d9a]:before{content:" ";display:table}.clearfix[data-v-b7cb7d9a]:after{clear:both}.list-unstyled[data-v-b7cb7d9a]{margin:0;padding:0;list-style-type:none}.no-select[data-v-b7cb7d9a]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-b7cb7d9a]{resize:none}.hand[data-v-b7cb7d9a]{cursor:pointer;cursor:hand}.fixed[data-v-b7cb7d9a]{table-layout:fixed}.clip[data-v-b7cb7d9a]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-b7cb7d9a],.force-wrap[data-v-b7cb7d9a]{word-wrap:break-word}.force-wrap[data-v-b7cb7d9a]{white-space:normal}.bordered-section[data-v-b7cb7d9a]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-b7cb7d9a]{margin-bottom:20px;margin-top:20px}.action[data-v-b7cb7d9a]{display:flex;flex-direction:row-reverse}',""]),e.exports=t},"2a79":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("LabeledSelect",{attrs:{label:e.t("harvester.virtualMachine.input.sshKey"),taggable:!0,mode:e.mode,multiple:!0,searchable:e.searchable,disabled:e.disabled,options:e.sshOption},on:{input:e.update},model:{value:e.checkedSsh,callback:function(t){e.checkedSsh=t},expression:"checkedSsh"}}),a("ModalWithCard",{ref:e.randomStr,attrs:{name:e.randomStr,width:"40%",errors:e.errors},on:{finish:e.save,close:e.cancel},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(e.t("harvester.virtualMachine.sshTitle"))+" ")]},proxy:!0},{key:"content",fn:function(){return[a("LabeledInput",{staticClass:"mb-20",attrs:{label:e.t("harvester.virtualMachine.input.name"),required:""},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),function(){}.apply(null,arguments))}},model:{value:e.sshName,callback:function(t){e.sshName=t},expression:"sshName"}}),a("LabeledInput",{staticClass:"mb-20",attrs:{label:e.t("harvester.virtualMachine.input.sshKeyValue"),"min-height":160,type:"multiline",required:""},model:{value:e.publicKey,callback:function(t){e.publicKey=t},expression:"publicKey"}})]},proxy:!0}])})],1)},n=[],s=a("56d4"),i=a.n(s),o=a("9ce4"),l=a("06f6"),u=a("d444"),d=a("53fe"),c=a("5fe4"),p=a("90cd"),v=a("1832"),f=a("d6a6");function m(e,t,a,r,n,s,i){try{var o=e[s](i),l=o.value}catch(u){return void a(u)}o.done?t(l):Promise.resolve(l).then(r,n)}function h(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var s=e.apply(t,a);function i(e){m(s,r,n,i,o,"next",e)}function o(e){m(s,r,n,i,o,"throw",e)}i(void 0)}))}}function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){w(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var g="_NEW",x={components:{LabeledInput:u["a"],ModalWithCard:c["a"],LabeledSelect:d["a"]},props:{value:{type:Array,default:function(){return[]}},mode:{type:String,default:"create"},disableCreate:{type:Boolean,default:!1},namespace:{type:String,default:""},searchable:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data:function(){return{checkedSsh:this.value,publicKey:"",sshName:"",randomStr:Object(l["p"])(5).toLowerCase(),errors:[],isAll:!1,checkAll:!1}},computed:y(y({},Object(o["a"])({t:"i18n/t"})),{},{schema:function(){return this.$store.getters["harvester/schemaFor"](p["a"].SSH)},isCreatable:function(){var e;return!(this.schema&&(null===(e=this.schema)||void 0===e||!e.collectionMethods.find((function(e){return["blocked-post","post"].includes(e.toLowerCase())}))))},sshOption:function(){var e=this.$store.getters["harvester/all"](p["a"].SSH).map((function(e){return{label:e.id,value:e.id}}));return!this.disableCreate&&this.mode!==f["C"]&&this.isCreatable&&e.unshift({label:this.t("harvester.virtualMachine.createSSHKey"),value:g}),e}}),watch:{publicKey:function(e){var t=e.split(/\s+/);3===t.length&&t[2].includes("@")&&t[2].split("@")&&(this.sshName||(this.sshName=t[2].split("@")[0]))},value:function(e){this.checkedSsh=e},checkedSsh:function(e,t){e.includes(g)&&(this.$set(this,"checkedSsh",t),this.update(),this.show())}},methods:{show:function(){this.$modal.show(this.randomStr)},hide:function(){this.$modal.hide(this.randomStr)},save:function(e){var t=this;return h(i.a.mark((function a(){var r,n,s,o,l,u,d;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.errors=[],t.sshName||(r=t.t("harvester.virtualMachine.input.name"),n=t.t("validation.required",{key:r}),t.errors.push(n)),t.publicKey||(s=t.t("harvester.virtualMachine.input.sshKeyValue"),o=t.t("validation.required",{key:s}),t.errors.push(o)),t.sshName.length>63&&(l=t.t("harvester.validation.custom.tooLongName",{max:63}),t.errors.push(l)),!(t.errors.length>0)){a.next=7;break}return e(!1),a.abrupt("return");case 7:return a.prev=7,a.next=10,t.$store.dispatch("harvester/create",{metadata:{name:t.sshName,namespace:t.namespace},spec:{publicKey:t.publicKey},type:p["a"].SSH});case 10:return u=a.sent,a.next=13,u.save();case 13:d=a.sent,d.id&&t.checkedSsh.push("".concat(t.namespace,"/").concat(t.sshName)),e(!0),t.cancel(),a.next=23;break;case 19:a.prev=19,a.t0=a["catch"](7),t.errors=[a.t0.message],e(!1);case 23:case"end":return a.stop()}}),a,null,[[7,19]])})))()},cancel:function(){this.hide(),this.resetFields()},resetFields:function(){this.sshName="",this.publicKey="",this.errors=[]},update:function(){this.$emit("update:sshKey",Object(v["clone"])(this.checkedSsh))}}},O=x,C=a("d802"),k=Object(C["a"])(O,r,n,!1,null,null,null);t["default"]=k.exports},"2aaa":function(e,t,a){"use strict";var r,n,s=a("8bbf"),i=a.n(s),o=a("d6a6"),l=i.a.component("InputOrDisplay",{render:function(e){return this.isView?e("div",{attrs:{class:"label"}},[e("div",{attrs:{class:"text-label"}},this.$slots.name?this.$slots.name:this.name),e("div",{attrs:{class:"value"}},this.$slots.value?this.$slots.value:this.displayValue)]):this.$slots.default},props:{name:{type:String,required:!0},value:{type:[Number,String,Array,void 0],default:""},mode:{type:String,default:"edit"}},computed:{isView:function(){return this.mode===o["C"]},displayValue:function(){return Array.isArray(this.value)&&0===this.value.length?"":this.value}}}),u=l,d=u,c=(a("0194"),a("d802")),p=Object(c["a"])(d,r,n,!1,null,"1eb849b8",null);t["a"]=p.exports},"2b47":function(e,t,a){var r=a("3748");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("2684a815",r,!0,{sourceMap:!1,shadowMode:!1})},3748:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-0cb3f40c]:after,.clearfix[data-v-0cb3f40c]:before{content:" ";display:table}.clearfix[data-v-0cb3f40c]:after{clear:both}.list-unstyled[data-v-0cb3f40c]{margin:0;padding:0;list-style-type:none}.no-select[data-v-0cb3f40c]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-0cb3f40c]{resize:none}.hand[data-v-0cb3f40c]{cursor:pointer;cursor:hand}.fixed[data-v-0cb3f40c]{table-layout:fixed}.clip[data-v-0cb3f40c]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-0cb3f40c],.force-wrap[data-v-0cb3f40c]{word-wrap:break-word}.force-wrap[data-v-0cb3f40c]{white-space:normal}.bordered-section[data-v-0cb3f40c]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-0cb3f40c]{margin-bottom:20px;margin-top:20px}.footer[data-v-0cb3f40c]{width:100%;display:flex;justify-content:center}.banner[data-v-0cb3f40c]{margin-bottom:0}',""]),e.exports=t},"3c9a":function(e,t,a){"use strict";a("53a3")},"411b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vm__credentials-users"},[a("LabeledSelect",{class:{hasUsers:e.selectedUser.length>0},attrs:{options:e.userOptions,label:e.t("harvester.virtualMachine.accessCredentials.injectSSH.users"),taggable:e.multiple,mode:e.mode,multiple:e.multiple,searchable:!1,tooltip:e.t("harvester.virtualMachine.accessCredentials.userTips")},on:{input:e.update},model:{value:e.selectedUser,callback:function(t){e.selectedUser=t},expression:"selectedUser"}}),a("ModalWithCard",{ref:e.randomStr,attrs:{name:e.randomStr,width:"40%",errors:e.errors},on:{finish:e.addUser,close:e.cancel},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(e.t("harvester.virtualMachine.accessCredentials.injectSSH.addUser"))+" ")]},proxy:!0},{key:"content",fn:function(){return[a("LabeledInput",{staticClass:"mb-20",attrs:{label:e.t("harvester.virtualMachine.input.username"),required:""},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),function(){}.apply(null,arguments))}},model:{value:e.newUsername,callback:function(t){e.newUsername=t},expression:"newUsername"}})]},proxy:!0}])})],1)},n=[],s=a("9ce4"),i=a("1832"),o=a("06f6"),l=a("d444"),u=a("53fe"),d=a("5fe4");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){v(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var f="_NEW",m={components:{LabeledInput:l["a"],LabeledSelect:u["a"],ModalWithCard:d["a"]},props:{value:{type:[Array,String],default:function(){return[]}},resource:{type:Object,default:function(){return{}}},userOptions:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1},mode:{type:String,default:"create"},disabled:{type:Boolean,default:!1}},data:function(){return{selectedUser:this.value,newUsername:"",randomStr:Object(o["p"])(5).toLowerCase(),errors:[]}},computed:p({},Object(s["a"])({t:"i18n/t"})),watch:{value:function(e){this.selectedUser=e},selectedUser:function(e,t){e.includes(f)&&(this.$set(this,"selectedUser",t),this.update(),this.show())}},methods:{update:function(){this.$emit("update:user",Object(i["clone"])(this.selectedUser))},addUser:function(e){var t=/^[-._0-9a-zA-Z]+$/;if(this.errors=[],!t.test(this.newUsername)){var a=this.t("harvester.virtualMachine.accessCredentials.invalidUser");return this.errors.push(a),void e(!1)}if(this.userOptions.includes(this.newUsername)){var r=this.t("harvester.virtualMachine.accessCredentials.duplicatedUser");return this.errors.push(r),void e(!1)}this.multiple?this.selectedUser.push(this.newUsername):this.selectedUser=this.newUsername,this.$emit("update:newUser",this.newUsername),this.update(),e(!0),this.cancel()},show:function(){this.$modal.show(this.randomStr)},hide:function(){this.$modal.hide(this.randomStr)},cancel:function(){this.hide(),this.newUsername=""}}},h=m,b=(a("839a"),a("d802")),y=Object(b["a"])(h,r,n,!1,null,null,null);t["default"]=y.exports},"45c4":function(e,t,a){"use strict";a("04d2")},"483e":function(e,t,a){"use strict";a("9a75")},4890:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hee-name"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.name"),value:e.value.name,mode:e.mode}},[a("LabeledInput",{attrs:{label:e.t("harvester.fields.name"),mode:e.mode,required:""},on:{input:e.update},model:{value:e.value.name,callback:function(t){e.$set(e.value,"name",t)},expression:"value.name"}})],1)],1),a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hee-type"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.type"),value:e.value.type,mode:e.mode}},[a("LabeledSelect",{attrs:{label:e.t("harvester.fields.type"),mode:e.mode,options:e.VOLUME_TYPE,required:""},on:{input:e.update},model:{value:e.value.type,callback:function(t){e.$set(e.value,"type",t)},expression:"value.type"}})],1)],1)]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hee-volumeName"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.volume"),value:e.value.volumeName,mode:e.mode}},[a("LabeledSelect",{attrs:{disabled:e.isDisabled,label:e.t("harvester.fields.volume"),mode:e.mode,options:e.volumeOption,required:""},on:{input:e.update},model:{value:e.value.volumeName,callback:function(t){e.$set(e.value,"volumeName",t)},expression:"value.volumeName"}})],1)],1),a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hee-size"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.size"),value:e.value.size,mode:e.mode}},[a("UnitInput",{attrs:{"output-modifier":!0,increment:1024,"input-exponent":3,label:e.t("harvester.fields.size"),mode:e.mode,disabled:!0},on:{input:e.update},model:{value:e.value.size,callback:function(t){e.$set(e.value,"size",t)},expression:"value.size"}})],1)],1)]),a("div",{staticClass:"row mb-20"},[e.image?a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hee-image"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.image"),value:e.image,mode:e.mode}},[a("LabeledInput",{attrs:{label:e.t("harvester.fields.image"),mode:e.mode,disabled:!0},on:{input:e.update},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}})],1)],1):e._e(),a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hee-bus"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.virtualMachine.volume.bus"),value:e.value.bus,mode:e.mode}},[a("LabeledSelect",{attrs:{label:e.t("harvester.virtualMachine.volume.bus"),mode:e.mode,options:e.InterfaceOption,disabled:!0,required:""},on:{input:e.update},model:{value:e.value.bus,callback:function(t){e.$set(e.value,"bus",t)},expression:"value.bus"}})],1)],1)])])},n=[],s=a("2007"),i=a("d444"),o=a("53fe"),l=a("2aaa"),u=a("7592"),d=a("56a4"),c=a("90cd"),p=a("d6a6"),v=a("7c47"),f=a("b0bd"),m={name:"HarvesterEditExisting",components:{UnitInput:s["a"],LabeledInput:i["a"],LabeledSelect:o["a"],InputOrDisplay:l["a"]},props:{mode:{type:String,default:p["u"]},value:{type:Object,required:!0},isEdit:{type:Boolean,default:!1},namespace:{type:String,default:null},idx:{type:Number,default:0},rows:{type:Array,required:!0}},data:function(){return this.value.realName&&(this.value.volumeName=this.value.realName),{VOLUME_TYPE:v["e"],InterfaceOption:v["b"],loading:!1}},computed:{isDisabled:function(){return!this.value.newCreateId&&this.isEdit},allPVCs:function(){var e=this,t=this.$store.getters["harvester/all"](d["A"]);return t.filter((function(t){return!e.namespace||e.namespace===t.metadata.namespace}))||[]},image:function(){var e=this,t=this.$store.getters["harvester/all"](c["a"].IMAGE).find((function(t){var a,r,n;return t.id===(null===(a=e.pvcResource)||void 0===a||null===(r=a.metadata)||void 0===r||null===(n=r.annotations)||void 0===n?void 0:n[f["l"].IMAGE_ID])}));if(t)return"".concat(t.metadata.namespace,"/").concat(t.spec.displayName)},pvcResource:function(){var e=this;return this.allPVCs.find((function(t){return t.metadata.name===e.value.volumeName}))},volumeOption:function(){var e=this;return Object(u["b"])(this.allPVCs.filter((function(t){var a,r,n,s,i=!0,o=!1;return e.rows.forEach((function(e){e.volumeName===t.metadata.name&&(i=!1)})),!!(0!==e.idx||null!==(a=t.metadata)&&void 0!==a&&null!==(r=a.annotations)&&void 0!==r&&r[f["l"].IMAGE_ID])&&(t.attachVM&&i&&(null===(n=t.attachVM)||void 0===n?void 0:n.id)===(null===(s=e.vm)||void 0===s?void 0:s.id)&&e.isEdit?o=!1:t.attachVM&&(o=!0),i&&!o&&t.isAvailable)})).map((function(e){return{label:e.metadata.name,value:e.metadata.name}})),"label")}},watch:{"value.volumeName":function(e){var t=this.allPVCs.find((function(t){return t.metadata.name===e}));t&&(this.value.accessModes=t.spec.accessModes[0],this.value.size=t.spec.resources.requests.storage,this.value.storageClassName=t.spec.storageClassName,this.value.volumeMode=t.spec.volumeMode)},"value.type":function(e){"cd-rom"===e&&(this.$set(this.value,"bus","sata"),this.update())},pvcResource:{handler:function(e){var t;!this.value.volumeName&&null!==e&&void 0!==e&&null!==(t=e.metadata)&&void 0!==t&&t.name&&(this.value.volumeName=e.metadata.name)},deep:!0,immediate:!0}},created:function(){0!==this.idx||this.image||(this.value.volumeName=null)},methods:{update:function(){this.$emit("update")}}},h=m,b=a("d802"),y=Object(b["a"])(h,r,n,!1,null,null,null);t["default"]=y.exports},"53a3":function(e,t,a){var r=a("1918");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("5dadb15c",r,!0,{sourceMap:!1,shadowMode:!1})},5993:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hec-name"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.name"),value:e.value.name,mode:e.mode}},[a("LabeledInput",{attrs:{label:e.t("harvester.fields.name"),required:"",mode:e.mode},on:{input:e.update},model:{value:e.value.name,callback:function(t){e.$set(e.value,"name",t)},expression:"value.name"}})],1)],1),a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hec-type"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.type"),value:e.value.type,mode:e.mode}},[a("LabeledSelect",{attrs:{label:e.t("harvester.fields.type"),options:e.VOLUME_TYPE,mode:e.mode,required:""},on:{input:e.update},model:{value:e.value.type,callback:function(t){e.$set(e.value,"type",t)},expression:"value.type"}})],1)],1)]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hec-container"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.virtualMachine.volume.dockerImage"),value:e.value.container,mode:e.mode}},[a("LabeledInput",{attrs:{label:e.t("harvester.virtualMachine.volume.dockerImage"),mode:e.mode,required:""},on:{input:e.update},model:{value:e.value.container,callback:function(t){e.$set(e.value,"container",t)},expression:"value.container"}})],1)],1),a("div",{staticClass:"col span-3",attrs:{"data-testid":"input-hec-bus"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.virtualMachine.volume.bus"),value:e.value.bus,mode:e.mode}},[a("LabeledSelect",{attrs:{label:e.t("harvester.virtualMachine.volume.bus"),options:e.InterfaceOption,mode:e.mode},on:{input:e.update},model:{value:e.value.bus,callback:function(t){e.$set(e.value,"bus",t)},expression:"value.bus"}})],1)],1)])])},n=[],s=a("d444"),i=a("53fe"),o=a("2aaa"),l=a("7c47"),u={name:"HarvesterEditContainer",components:{LabeledInput:s["a"],LabeledSelect:i["a"],InputOrDisplay:o["a"]},props:{mode:{type:String,default:"create"},value:{type:Object,required:!0}},data:function(){return{VOLUME_TYPE:l["e"],InterfaceOption:l["b"]}},watch:{"value.type":function(e){"cd-rom"===e&&(this.$set(this.value,"bus","sata"),this.update())}},methods:{update:function(){this.$emit("update")}}},d=u,c=a("d802"),p=Object(c["a"])(d,r,n,!1,null,null,null);t["default"]=p.exports},"5c0d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isView?e._e():a("h2",[e._v(" "+e._s(e.t("harvester.virtualMachine.cloudConfig.title"))+" ")]),a("div",{staticClass:"mb-20"},[a("DataTemplate",{ref:"userTemplate",attrs:{type:"user","view-code":e.viewCode,mode:e.mode,"config-id":e.configUserId,options:e.optionUser},on:{show:e.show,update:e.update,updateTemplateId:e.updateTemplateId},model:{value:e.userScript,callback:function(t){e.userScript=t},expression:"userScript"}})],1),a("div",{staticClass:"mb-20"},[a("DataTemplate",{ref:"networkTemplate",attrs:{type:"network","view-code":e.viewCode,mode:e.mode,"config-id":e.configNetworkId,options:e.optionNetwork},on:{show:e.show,update:e.update},model:{value:e.networkScript,callback:function(t){e.networkScript=t},expression:"networkScript"}})],1),a("ModalWithCard",{ref:"createCloudTemplate",attrs:{name:"createCloudTemplate",width:"40%",errors:e.errors},on:{finish:e.save,close:e.cancel},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(e.t("harvester.virtualMachine.cloudConfig.createTemplateTitle",{name:e.createTypeLable}))+" ")]},proxy:!0},{key:"content",fn:function(){return[a("LabeledInput",{staticClass:"mb-20",attrs:{label:e.t("harvester.virtualMachine.input.name"),required:""},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),function(){}.apply(null,arguments))}},model:{value:e.cloudTemplateName,callback:function(t){e.cloudTemplateName=t},expression:"cloudTemplateName"}}),a("div",{staticClass:"yaml"},[a("div",{staticClass:"resource-yaml"},[a("YamlEditor",{ref:"createTemplate",staticClass:"yaml-editor",attrs:{"editor-mode":e.editorMode},model:{value:e.cloudTemplate,callback:function(t){e.cloudTemplate=t},expression:"cloudTemplate"}})],1)])]},proxy:!0}])})],1)},n=[],s=a("56d4"),i=a.n(s),o=a("9ce4"),l=a("d444"),u=a("c349"),d=a("5fe4"),c=a("56a4"),p=a("b0bd"),v=a("d6a6"),f=a("6b50");function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function y(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=w(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==a.return||a.return()}finally{if(o)throw s}}}}function w(e,t){if(e){if("string"===typeof e)return g(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function x(e,t,a,r,n,s,i){try{var o=e[s](i),l=o.value}catch(u){return void a(u)}o.done?t(l):Promise.resolve(l).then(r,n)}function O(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var s=e.apply(t,a);function i(e){x(s,r,n,i,o,"next",e)}function o(e){x(s,r,n,i,o,"throw",e)}i(void 0)}))}}var C="_NEW",k="_NONE",_={components:{DataTemplate:f["default"],YamlEditor:u["b"],LabeledInput:l["a"],ModalWithCard:d["a"]},props:{mode:{type:String,default:"create"},namespace:{type:String,default:""},userScript:{type:String,default:""},networkScript:{type:String,default:""},viewCode:{type:Boolean,default:!1}},data:function(){return{errors:[],templateType:"",cloudTemplate:"",cloudTemplateName:"",configUserId:"",configNetworkId:"",optionUser:[],optionNetwork:[]}},fetch:function(){var e=this;return O(i.a.mark((function t(){var a,r,n,s,o,l,u,d,v,f;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("harvester/findAll",{type:c["e"]});case 2:a=t.sent,r=[],n=[],s=y(a);try{for(s.s();!(o=s.n()).done;)f=o.value,"user"===(null===(l=f.metadata)||void 0===l||null===(u=l.labels)||void 0===u?void 0:u[p["l"].CLOUD_INIT])&&r.push({label:null===f||void 0===f?void 0:f.id,value:null===f||void 0===f?void 0:f.id}),"network"===(null===(d=f.metadata)||void 0===d||null===(v=d.labels)||void 0===v?void 0:v[p["l"].CLOUD_INIT])&&n.push({label:null===f||void 0===f?void 0:f.id,value:null===f||void 0===f?void 0:f.id})}catch(i){s.e(i)}finally{s.f()}r.unshift({label:e.t("harvester.virtualMachine.cloudConfig.createNew"),value:C}),r.unshift({label:e.t("harvester.virtualMachine.cloudConfig.cloudInit.placeholder"),value:k}),n.unshift({label:e.t("harvester.virtualMachine.cloudConfig.createNew"),value:C}),n.unshift({label:e.t("harvester.virtualMachine.cloudConfig.cloudInit.placeholder"),value:k}),e.optionUser=r,e.optionNetwork=n;case 13:case"end":return t.stop()}}),t)})))()},computed:h(h({},Object(o["a"])({t:"i18n/t"})),{},{createTypeLable:function(){var e="harvester.virtualMachine.cloudConfig.".concat(this.templateType,".label");return this.t(e)},editorMode:function(){return this.isView?u["a"].VIEW_CODE:u["a"].EDIT_CODE},isView:function(){return this.mode===v["C"]}}),methods:{updateValue:function(){this.$refs["userTemplate"].updateValue(),this.$refs["networkTemplate"].updateValue()},update:function(e,t){"user"===t&&this.$emit("updateUserData",e),"network"===t&&this.$emit("updateNetworkData",e)},updateTemplateId:function(e,t){this.$emit("updateDataTemplateId",e,t)},show:function(e){this.templateType=e,this.$modal.show("createCloudTemplate")},save:function(e){var t=this;return O(i.a.mark((function a(){var r,n;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("harvester/create",{type:c["e"],metadata:{labels:b({},p["l"].CLOUD_INIT,t.templateType),name:t.cloudTemplateName,namespace:t.namespace},data:{cloudInit:t.cloudTemplate}});case 2:return r=a.sent,a.prev=3,a.next=6,r.save();case 6:n=a.sent,n.id&&("user"===t.templateType?t.configUserId=n.id:t.configNetworkId=n.id,t.$fetch()),e(!0),t.cancel(),a.next=16;break;case 12:a.prev=12,a.t0=a["catch"](3),t.errors=[a.t0.message],e(!1);case 16:case"end":return a.stop()}}),a,null,[[3,12]])})))()},cancel:function(){this.cloudTemplate="",this.cloudTemplateName="",this.$set(this,"errors",[]),this.$modal.hide("createCloudTemplate")},refresh:function(){this.$refs["userTemplate"].refresh(),this.$refs["networkTemplate"].refresh()}}},S=_,M=(a("bc09"),a("d802")),I=Object(M["a"])(S,r,n,!1,null,"4a317e5b",null);t["default"]=I.exports},"5fe4":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("modal",e._b({staticClass:"modal",attrs:{name:e.name,width:e.width,"click-to-close":!1,height:e.height}},"modal",e.$attrs,!1),[a("Card",{staticClass:"modal",attrs:{"show-highlight-border":!1},scopedSlots:e._u([{key:"title",fn:function(){return[a("h4",{staticClass:"text-default-text",attrs:{slot:"title"},slot:"title"},[e._t("title")],2)]},proxy:!0},{key:"body",fn:function(){return[e._t("content"),e._l(e.errors,(function(e,t){return a("div",{key:t},[a("Banner",{staticClass:"banner",attrs:{color:"error",label:e}})],1)}))]},proxy:!0},{key:"actions",fn:function(){return[e._t("footer",(function(){return[a("div",{staticClass:"footer"},[a("button",{staticClass:"btn role-secondary mr-20",on:{click:function(t){return t.preventDefault(),e.hide.apply(null,arguments)}}},[e._v(" "+e._s(e.closeText)+" ")]),a("AsyncButton",{attrs:{mode:e.saveText},on:{click:function(t){return e.$emit("finish",t)}}})],1)]}))]},proxy:!0}],null,!0)})],1)},n=[],s=a("09c6"),i=a("dffb"),o=a("a967"),l={name:"ModalWithCard",components:{Card:s["a"],Banner:i["a"],AsyncButton:o["b"]},props:{name:{type:String,required:!0},closeText:{type:String,default:"Close"},saveText:{type:String,default:"create"},width:{type:[String,Number],default:"50%"},height:{type:[String,Number],default:"auto"},errors:{type:Array,default:function(){return[]}}},methods:{hide:function(){this.$modal.hide(this.name),this.$emit("close")},open:function(){this.$modal.show(this.name)}}},u=l,d=(a("a4ca"),a("483e"),a("d802")),c=Object(d["a"])(u,r,n,!1,null,"0cb3f40c",null);t["a"]=c.exports},6255:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.modal{border-radius:var(--border-radius);max-height:100vh}.modal.card-container{box-shadow:none}',""]),e.exports=t},"6a17":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.vm__credentials-users .hasUsers.labeled-select.edit.taggable .labeled-tooltip .icon.status-icon{top:30px}',""]),e.exports=t},"6b50":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb-20"},[a("h3",[e._v(e._s(e.t("harvester.virtualMachine.cloudConfig."+e.type+".title")))]),a("p",{staticClass:"text-muted mb-20"},[a("t",{attrs:{k:"harvester.virtualMachine.cloudConfig."+e.type+".tip",raw:!0}})],1),e.isView?e._e():a("LabeledSelect",{staticClass:"mb-20",attrs:{options:e.options,disabled:e.viewCode,"label-key":"harvester.virtualMachine.cloudConfig."+e.type+".label"},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}}),a("div",{staticClass:"resource-yaml"},[a("YamlEditor",{ref:"yaml",staticClass:"yaml-editor",attrs:{"editor-mode":e.editorMode},model:{value:e.yamlScript,callback:function(t){e.yamlScript=t},expression:"yamlScript"}})],1)],1)},n=[],s=a("9ce4"),i=a("53fe"),o=a("c349"),l=a("d6a6"),u=a("56a4");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){p(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v="_NEW",f="_NONE",m={components:{YamlEditor:o["b"],LabeledSelect:i["a"]},props:{mode:{type:String,default:"create"},value:{type:String,default:""},type:{type:String,default:""},options:{type:Array,default:function(){return[]}},configId:{type:String,default:""},viewCode:{type:Boolean,default:!1}},data:function(){return{id:"",yamlScript:this.value}},computed:c(c({},Object(s["a"])({t:"i18n/t"})),{},{editorMode:function(){return this.isView||this.viewCode?o["a"].VIEW_CODE:o["a"].EDIT_CODE},isView:function(){return this.mode===l["C"]}}),watch:{value:function(e){this.yamlScript=e},configId:function(e){this.id=this.configId},id:function(e,t){var a,r,n=(null===(a=this.$store.getters["harvester/byId"](u["e"],e))||void 0===a||null===(r=a.data)||void 0===r?void 0:r.cloudInit)||"";if(this.$emit("updateTemplateId",this.type,e),e===v)return this.$emit("show",this.type),void(this.id=t);this.yamlScript=e===f?"":n,this.$refs["yaml"].updateValue(n)},yamlScript:function(e){this.$emit("update",e,this.type)}},methods:{refresh:function(){this.$refs.yaml.refresh()},updateValue:function(){this.$refs["yaml"].updateValue(this.value)}}},h=m,b=(a("45c4"),a("d802")),y=Object(b["a"])(h,r,n,!1,null,"78845fc4",null);t["default"]=y.exports},"7aba":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-550f5fd9]:after,.clearfix[data-v-550f5fd9]:before{content:" ";display:table}.clearfix[data-v-550f5fd9]:after{clear:both}.list-unstyled[data-v-550f5fd9]{margin:0;padding:0;list-style-type:none}.no-select[data-v-550f5fd9]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-550f5fd9]{resize:none}.hand[data-v-550f5fd9]{cursor:pointer;cursor:hand}.fixed[data-v-550f5fd9]{table-layout:fixed}.clip[data-v-550f5fd9]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-550f5fd9],.force-wrap[data-v-550f5fd9]{word-wrap:break-word}.force-wrap[data-v-550f5fd9]{white-space:normal}.bordered-section[data-v-550f5fd9]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-550f5fd9]{margin-bottom:20px;margin-top:20px}.volume-source[data-v-550f5fd9]{position:relative}.remove-vol[data-v-550f5fd9]{position:absolute;top:10px;right:10px;padding:0}',""]),e.exports=t},"7e0a":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-2c78a67c]:after,.clearfix[data-v-2c78a67c]:before{content:" ";display:table}.clearfix[data-v-2c78a67c]:after{clear:both}.list-unstyled[data-v-2c78a67c]{margin:0;padding:0;list-style-type:none}.no-select[data-v-2c78a67c]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-2c78a67c]{resize:none}.hand[data-v-2c78a67c]{cursor:pointer;cursor:hand}.fixed[data-v-2c78a67c]{table-layout:fixed}.clip[data-v-2c78a67c]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-2c78a67c],.force-wrap[data-v-2c78a67c]{word-wrap:break-word}.force-wrap[data-v-2c78a67c]{white-space:normal}.bordered-section[data-v-2c78a67c]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-2c78a67c]{margin-bottom:20px;margin-top:20px}.infoBox[data-v-2c78a67c]{position:relative}.remove-vol[data-v-2c78a67c]{position:absolute;top:10px;right:16px;padding:0;max-height:28px;min-height:28px}',""]),e.exports=t},8287:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Banner",{staticClass:"mb-20",attrs:{color:"info",label:e.t("harvester.virtualMachine.accessCredentials.tips")}}),e._l(e.rows,(function(t,r){return a("div",{key:t.id},[a("InfoBox",{staticClass:"volume-source"},[e.isEdit?a("button",{staticClass:"role-link btn btn-sm remove-vol",attrs:{type:"button"},on:{click:function(a){return e.remove(t)}}},[a("i",{staticClass:"icon icon-2x icon-x"})]):e._e(),a("h3",[a("span",[e._v(" "+e._s(e.headerFor(t.source))+" ")])]),a("div",[a(e.componentFor(t.source),{tag:"component",attrs:{rows:e.rows,resource:e.resource,"user-options":e.userOptions,mode:e.mode,idx:r},on:{update:e.update,"update:newUser":e.updateNewUser},model:{value:e.rows[r],callback:function(t){e.$set(e.rows,r,t)},expression:"rows[i]"}})],1)])],1)})),e.isEdit&&e.isQemuInstalled?a("div",{staticClass:"mt-20"},[a("button",{staticClass:"btn btn-sm bg-primary mr-15 mb-10",attrs:{type:"button"},on:{click:function(t){return e.addCredentials(e.ACCESS_CREDENTIALS.RESET_PWD)}}},[e._v(" "+e._s(e.t("harvester.virtualMachine.accessCredentials.resetPwd.label"))+" ")]),a("button",{staticClass:"btn btn-sm bg-primary mr-15 mb-10",attrs:{type:"button"},on:{click:function(t){return e.addCredentials(e.ACCESS_CREDENTIALS.INJECT_SSH)}}},[e._v(" "+e._s(e.t("harvester.virtualMachine.accessCredentials.injectSSH.label"))+" ")])]):e._e()],2)},n=[],s=a("9ce4"),i=a("dffb"),o=a("6583"),l=a("06f6"),u=a("e411"),d=a("7c47"),c=a("d6a6"),p=a("b0bd");function v(e){return b(e)||h(e)||m(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"===typeof e)return y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?y(e,t):void 0}}function h(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function b(e){if(Array.isArray(e))return y(e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){x(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function x(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var O="_NEW",C={components:{Banner:i["a"],InfoBox:o["a"]},props:{value:{type:Array,default:function(){return[]}},resource:{type:Object,default:function(){return{}}},mode:{type:String,default:"create"},disableCreate:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},isQemuInstalled:{type:Boolean,default:!1}},data:function(){return{ACCESS_CREDENTIALS:d["a"],toRemove:[],toSave:[],rows:[],newUserOptions:[]}},computed:g(g({},Object(s["a"])({t:"i18n/t"})),{},{isEdit:function(){return this.mode===c["w"]},historyUsersOptions:function(){var e,t,a,r,n,s=JSON.parse((null===(e=this.resource)||void 0===e||null===(t=e.spec)||void 0===t||null===(a=t.template)||void 0===a||null===(r=a.metadata)||void 0===r||null===(n=r.annotations)||void 0===n?void 0:n[p["l"].DYNAMIC_SSHKEYS_USERS])||"[]");return s.unshift({label:this.t("harvester.virtualMachine.accessCredentials.injectSSH.addUser"),value:O}),s},userOptions:function(){return Array.from(new Set([].concat(v(this.historyUsersOptions),v(this.newUserOptions))))}}),watch:{value:{handler:function(e){this.rows=v(e)},deep:!0,immediate:!0}},methods:{addCredentials:function(e){var t={source:e,users:[],sshkeys:[],username:"",newPassword:"",secretName:this.generateSecretName(this.resource.metadata.name)};this.rows.push(t),this.update()},remove:function(e){Object(u["i"])(this.rows,e),this.update()},update:function(){this.$emit("input",this.rows)},updateNewUser:function(e){this.newUserOptions.push(e)},generateSecretName:function(e){return e?"".concat(e,"-").concat(Object(l["p"])(5).toLowerCase()):void 0},componentFor:function(e){switch(e){case d["a"].RESET_PWD:return a("e299").default;case d["a"].INJECT_SSH:return a("db40").default}},headerFor:function(e){return{userPassword:this.$store.getters["i18n/t"]("harvester.virtualMachine.accessCredentials.resetPwd.label"),sshPublicKey:this.$store.getters["i18n/t"]("harvester.virtualMachine.accessCredentials.injectSSH.label")}[e]}}},k=C,_=(a("ef3f"),a("d802")),S=Object(_["a"])(k,r,n,!1,null,"550f5fd9",null);t["default"]=S.exports},"839a":function(e,t,a){"use strict";a("8bc5")},"8bc5":function(e,t,a){var r=a("6a17");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("a7a7fd0e",r,!0,{sourceMap:!1,shadowMode:!1})},"8de4":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-4a317e5b]:after,.clearfix[data-v-4a317e5b]:before{content:" ";display:table}.clearfix[data-v-4a317e5b]:after{clear:both}.list-unstyled[data-v-4a317e5b]{margin:0;padding:0;list-style-type:none}.no-select[data-v-4a317e5b]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-4a317e5b]{resize:none}.hand[data-v-4a317e5b]{cursor:pointer;cursor:hand}.fixed[data-v-4a317e5b]{table-layout:fixed}.clip[data-v-4a317e5b]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-4a317e5b],.force-wrap[data-v-4a317e5b]{word-wrap:break-word}.force-wrap[data-v-4a317e5b]{white-space:normal}.bordered-section[data-v-4a317e5b]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-4a317e5b]{margin-bottom:20px;margin-top:20px}.yaml[data-v-4a317e5b]{height:350px;overflow:auto}[data-v-4a317e5b] .resource-yaml{flex:1;display:flex;flex-direction:column}[data-v-4a317e5b] .resource-yaml .yaml-editor{flex:1;min-height:350px}[data-v-4a317e5b] .resource-yaml .yaml-editor .code-mirror .CodeMirror{min-height:350px}',""]),e.exports=t},"91f6":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hen-name"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.name"),value:e.value.name,mode:e.mode}},[a("LabeledInput",{attrs:{label:e.t("harvester.fields.name"),required:"",mode:e.mode,disabled:e.isDisabled},on:{input:e.update},model:{value:e.value.name,callback:function(t){e.$set(e.value,"name",t)},expression:"value.name"}})],1)],1),a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hen-model"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.model"),value:e.value.model,mode:e.mode}},[a("LabeledSelect",{attrs:{label:e.t("harvester.fields.model"),disabled:e.isDisabled,options:e.modelOption,mode:e.mode,required:""},on:{input:e.update},model:{value:e.value.model,callback:function(t){e.$set(e.value,"model",t)},expression:"value.model"}})],1)],1)]),a("div",{staticClass:"row",class:{"mb-20":!e.isMasquerade}},[a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hen-networkName"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.network"),value:e.value.networkName,mode:e.mode}},[a("LabeledSelect",{attrs:{label:e.t("harvester.fields.network"),options:e.allNetworkOption,mode:e.mode,required:"",disabled:e.isDisabled},on:{input:e.updateNetworkName},model:{value:e.value.networkName,callback:function(t){e.$set(e.value,"networkName",t)},expression:"value.networkName"}})],1)],1),a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hen-type"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.type"),value:e.value.type,mode:e.mode}},[a("LabeledSelect",{attrs:{label:e.t("harvester.fields.type"),options:e.typeOption,mode:e.mode,required:""},on:{input:e.update},model:{value:e.value.type,callback:function(t){e.$set(e.value,"type",t)},expression:"value.type"}})],1)],1)]),e.isMasquerade?e._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hen-macAddress"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.macAddress"),value:e.value.macAddress,mode:e.mode}},[a("LabeledInput",{attrs:{"label-key":"harvester.fields.macAddress",mode:e.mode,tooltip:e.t("harvester.virtualMachine.volume.macTip")},on:{input:e.update},model:{value:e.value.macAddress,callback:function(t){e.$set(e.value,"macAddress",t)},expression:"value.macAddress"}})],1)],1)])])},n=[],s=a("2aaa"),i=a("d444"),o=a("53fe"),l=a("1832"),u=a("d6a6"),d=a("6834"),c=[{label:"virtio",value:"virtio"},{label:"e1000",value:"e1000"},{label:"e1000e",value:"e1000e"},{label:"ne2k_pci",value:"ne2k_pci"},{label:"pcnet",value:"pcnet"},{label:"rtl8139",value:"rtl8139"}],p={name:"HarvesterEditNetwork",components:{LabeledInput:i["a"],LabeledSelect:o["a"],InputOrDisplay:s["a"]},props:{value:{type:Object,default:function(){return{}}},networkOption:{type:Array,default:function(){return[]}},rows:{type:Array,default:function(){return[]}},mode:{type:String,default:"create"}},data:function(){var e=this.value.isPod;return e&&(this.value.networkName=d["a"]),{isMasquerade:e,hasManagementNetwork:!1}},computed:{isDisabled:function(){return this.isMasquerade&&!this.value.newCreateId&&!this.isCreate},isView:function(){return this.mode===u["C"]},isCreate:function(){return this.mode===u["u"]},modelOption:function(){return c},allNetworkOption:function(){var e=Object(l["clone"])(this.networkOption);return this.hasManagementNetwork||e.unshift({label:d["a"],value:d["a"]}),e},typeOption:function(){var e=[{label:"masquerade",value:"masquerade"},{label:"bridge",value:"bridge"}],t=[{label:"bridge",value:"bridge"}];return this.isMasquerade?e:t}},watch:{rows:{handler:function(e){var t=!!e.some((function(e){return e.isPod}));this.$set(this,"hasManagementNetwork",t)},immediate:!0,deep:!0}},methods:{updateNetworkName:function(e){e===d["a"]?(this.value.isPod=!0,this.value.macAddress=""):this.value.isPod=!1,this.$set(this,"isMasquerade",this.value.isPod),this.value.isPod?this.value.type="masquerade":this.value.type="bridge",this.update()},update:function(){this.$emit("update")}}},v=p,f=a("d802"),m=Object(f["a"])(v,r,n,!1,null,null,null);t["default"]=m.exports},9216:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isView?e._e():a("Banner",{attrs:{color:"info","label-key":"harvester.virtualMachine.volume.dragTip"}}),a("draggable",{attrs:{disabled:e.isView},on:{end:e.update},model:{value:e.rows,callback:function(t){e.rows=t},expression:"rows"}},[a("transition-group",e._l(e.rows,(function(t,r){return a("div",{key:t.id},[a("InfoBox",{staticClass:"box"},[e.isView?e._e():a("button",{staticClass:"role-link btn btn-sm remove",attrs:{type:"button"},on:{click:function(a){return e.removeVolume(t)}}},[a("i",{staticClass:"icon icon-2x icon-x"})]),t.hotpluggable&&e.isView?a("button",{staticClass:"role-link btn remove",attrs:{type:"button"},on:{click:function(a){return e.unplugVolume(t)}}},[e._v(" "+e._s(e.t("harvester.virtualMachine.unplug.detachVolume"))+" ")]):e._e(),a("h3",[t.to&&e.isVirtualType?a("span",{staticClass:"title"},[a("n-link",{attrs:{to:t.to}},[e._v(" "+e._s(e.t("harvester.virtualMachine.volume.edit"))+" "+e._s(e.headerFor(t.source))+" ")]),t.pvc?a("BadgeStateFormatter",{staticClass:"ml-10 state",attrs:{arbitrary:!0,row:t.pvc,value:t.pvc.state}}):e._e()],1):a("span",[e._v(" "+e._s(e.headerFor(t.source))+" ")])]),a("div",[a(e.componentFor(t.source),{tag:"component",attrs:{rows:e.rows,namespace:e.namespace,"is-create":e.isCreate,"is-edit":e.isEdit,"is-view":e.isView,"is-virtual-type":e.isVirtualType,mode:e.mode,idx:r,"validate-required":e.validateRequired},on:{update:e.update},model:{value:e.rows[r],callback:function(t){e.$set(e.rows,r,t)},expression:"rows[i]"}})],1),a("div",{staticClass:"bootOrder"},[e.isView?e._e():a("div",{staticClass:"mr-15"},[a("button",{staticClass:"btn btn-sm role-primary",attrs:{disabled:0===r},on:{click:function(t){return t.preventDefault(),e.changeSort(r,!1)}}},[a("i",{staticClass:"icon icon-lg icon-chevron-up"})]),a("button",{staticClass:"btn btn-sm role-primary",attrs:{disabled:r===e.rows.length-1},on:{click:function(t){return t.preventDefault(),e.changeSort(r,!0)}}},[a("i",{staticClass:"icon icon-lg icon-chevron-down"})])]),a("div",{staticClass:"text-muted"},[e._v(" bootOrder: "+e._s(r+1)+" ")])]),t.volumeStatus?a("Banner",{staticClass:"mt-15",attrs:{color:"warning",label:t.volumeStatus.status}}):e._e()],1)],1)})),0)],1),e.showVolumeTip?a("Banner",{attrs:{color:"warning",label:e.t("harvester.virtualMachine.volume.volumeTip")}}):e._e(),e.isView?e._e():a("div",[a("button",{staticClass:"btn btn-sm bg-primary mr-15 mb-10",attrs:{type:"button",disabled:0===e.rows.length},on:{click:function(t){return e.addVolume(e.SOURCE_TYPE.NEW)}}},[e._v(" "+e._s(e.t("harvester.virtualMachine.volume.addVolume"))+" ")]),e.existingVolumeDisabled?e._e():a("button",{staticClass:"btn btn-sm bg-primary mr-15 mb-10",attrs:{type:"button"},on:{click:function(t){return e.addVolume(e.SOURCE_TYPE.ATTACH_VOLUME)}}},[e._v(" "+e._s(e.t("harvester.virtualMachine.volume.addExistingVolume"))+" ")]),a("button",{staticClass:"btn btn-sm bg-primary mr-15 mb-10",attrs:{type:"button"},on:{click:function(t){return e.addVolume(e.SOURCE_TYPE.IMAGE)}}},[e._v(" "+e._s(e.t("harvester.virtualMachine.volume.addVmImage"))+" ")]),a("button",{staticClass:"btn btn-sm bg-primary mb-10",attrs:{type:"button"},on:{click:function(t){return e.addVolume(e.SOURCE_TYPE.CONTAINER)}}},[e._v(" "+e._s(e.t("harvester.virtualMachine.volume.addContainer"))+" ")])]),a("ModalWithCard",{ref:"deleteTip",attrs:{name:"deleteTip",width:400},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(e.t("harvester.virtualMachine.volume.unmount.title"))+" ")]},proxy:!0},{key:"content",fn:function(){return[a("span",[e._v(e._s(e.t("harvester.virtualMachine.volume.unmount.message")))])]},proxy:!0},{key:"footer",fn:function(){return[a("div",{staticClass:"buttons"},[a("button",{staticClass:"btn role-secondary mr-20",on:{click:function(t){return t.preventDefault(),e.cancel.apply(null,arguments)}}},[e._v(" "+e._s(e.t("generic.no"))+" ")]),a("button",{staticClass:"btn bg-primary mr-20",on:{click:function(t){return t.preventDefault(),e.deleteVolume.apply(null,arguments)}}},[e._v(" "+e._s(e.t("generic.yes"))+" ")])])]},proxy:!0}])})],1)},n=[],s=a("56d4"),i=a.n(s),o=a("6e12"),l=a.n(o),u=a("6583"),d=a("dffb"),c=a("2c0b"),p=a("2007"),v=a("d444"),f=a("53fe"),m=a("5fe4"),h=a("56a4"),b=a("90cd"),y=a("1832"),w=a("e411"),g=a("06f6"),x=a("7c47"),O=a("d6a6"),C=a("4aac");function k(e){return I(e)||M(e)||S(e)||_()}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){if(e){if("string"===typeof e)return E(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?E(e,t):void 0}}function M(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function I(e){if(Array.isArray(e))return E(e)}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function $(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function j(e,t,a,r,n,s,i){try{var o=e[s](i),l=o.value}catch(u){return void a(u)}o.done?t(l):Promise.resolve(l).then(r,n)}function N(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var s=e.apply(t,a);function i(e){j(s,r,n,i,o,"next",e)}function o(e){j(s,r,n,i,o,"throw",e)}i(void 0)}))}}var P={components:{Banner:d["a"],BadgeStateFormatter:c["default"],draggable:l.a,InfoBox:u["a"],LabeledInput:v["a"],UnitInput:p["a"],LabeledSelect:f["a"],ModalWithCard:m["a"]},props:{vm:{type:Object,default:function(){return{}}},mode:{type:String,default:O["u"]},value:{type:Array,default:function(){return[]}},namespace:{type:String,default:null},existingVolumeDisabled:{type:Boolean,default:!1},validateRequired:{type:Boolean,default:!1},customVolumeMode:{type:String,default:"Block"},customAccessMode:{type:String,default:"ReadWriteMany"},resourceType:{type:String,default:""}},fetch:function(){var e=this;return N(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("harvester/findAll",{type:h["A"]});case 2:case"end":return t.stop()}}),t)})))()},data:function(){return{SOURCE_TYPE:x["d"],rows:Object(y["clone"])(this.value),nameIdx:1,vol:null}},computed:{isVirtualType:function(){return this.resourceType===b["a"].VM},isView:function(){return this.mode===O["C"]},isEdit:function(){return this.mode===O["w"]},isCreate:function(){return this.mode===O["u"]},showVolumeTip:function(){var e,t=this.getImageDisplayName(null===(e=this.rows[0])||void 0===e?void 0:e.image);return!(1!==this.rows.length||"cd-rom"!==this.rows[0].type||!/.iso$/i.test(t))},pvcs:function(){return this.$store.getters["harvester/all"](h["A"])||[]}},watch:{value:{handler:function(e){var t=this,a=e.map((function(e){return t.isCreate||e.source===x["d"].CONTAINER||e.newCreateId||(e.to={name:"".concat(C["PRODUCT_NAME"],"-c-cluster-resource-namespace-id"),params:{resource:b["a"].VOLUME,namespace:t.namespace,id:e.realName},query:{mode:O["w"]}},e.pvc=t.pvcs.find((function(t){return t.metadata.name===e.realName}))),e}));this.$set(this,"rows",a)},deep:!0,immediate:!0}},methods:{addVolume:function(e){var t=this.generateName(),a={id:Object(g["p"])(5),name:t,source:e,size:"10Gi",type:"disk",accessMode:this.customAccessMode,volumeMode:this.customVolumeMode,volumeName:"",bus:"virtio",newCreateId:Object(g["p"])(10)};this.rows.push(a),this.update()},generateName:function(){var e="",t=!0;while(t)e="disk-".concat(this.nameIdx),t=this.rows.find((function(t){return t.name===e})),this.nameIdx++;return e},removeVolume:function(e){this.vol=e,!e.newCreateId&&this.isEdit&&this.isVirtualType?this.$refs.deleteTip.open():(Object(w["i"])(this.rows,e),this.update())},unplugVolume:function(e){this.vm.unplugVolume(e.name)},componentFor:function(e){switch(e){case x["d"].NEW:return a("0e4c").default;case x["d"].IMAGE:return a("df1c").default;case x["d"].ATTACH_VOLUME:return a("4890").default;case x["d"].CONTAINER:return a("5993").default}},headerFor:function(e){var t;return(t={},$(t,x["d"].NEW,this.$store.getters["i18n/t"]("harvester.virtualMachine.volume.title.volume")),$(t,x["d"].IMAGE,this.$store.getters["i18n/t"]("harvester.virtualMachine.volume.title.vmImage")),$(t,x["d"].ATTACH_VOLUME,this.$store.getters["i18n/t"]("harvester.virtualMachine.volume.title.existingVolume")),$(t,x["d"].CONTAINER,this.$store.getters["i18n/t"]("harvester.virtualMachine.volume.title.container")),t)[e]},update:function(){this.$emit("input",this.rows)},deleteVolume:function(){Object(w["i"])(this.rows,this.vol),this.update(),this.cancel()},cancel:function(){this.$refs.deleteTip.hide()},changeSort:function(e,t){var a;(a=this.rows).splice.apply(a,[t?e:e-1,1].concat(k(this.rows.splice(t?e+1:e,1,this.rows[t?e:e-1])))),this.update()},getImageDisplayName:function(e){var t,a;return null===(t=this.$store.getters["harvester/all"](b["a"].IMAGE).find((function(t){return t.id===e})))||void 0===t||null===(a=t.spec)||void 0===a?void 0:a.displayName}}},D=P,T=(a("3c9a"),a("d802")),U=Object(T["a"])(D,r,n,!1,null,"06065687",null);t["default"]=U.exports},9380:function(e,t,a){"use strict";a("e04d")},9852:function(e,t,a){"use strict";a("a30c")},"9a75":function(e,t,a){var r=a("6255");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("8c50f7c0",r,!0,{sourceMap:!1,shadowMode:!1})},"9cc8":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-78845fc4]:after,.clearfix[data-v-78845fc4]:before{content:" ";display:table}.clearfix[data-v-78845fc4]:after{clear:both}.list-unstyled[data-v-78845fc4]{margin:0;padding:0;list-style-type:none}.no-select[data-v-78845fc4]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-78845fc4]{resize:none}.hand[data-v-78845fc4]{cursor:pointer;cursor:hand}.fixed[data-v-78845fc4]{table-layout:fixed}.clip[data-v-78845fc4]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-78845fc4],.force-wrap[data-v-78845fc4]{word-wrap:break-word}.force-wrap[data-v-78845fc4]{white-space:normal}.bordered-section[data-v-78845fc4]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-78845fc4]{margin-bottom:20px;margin-top:20px}[data-v-78845fc4] .resource-yaml{flex:1;display:flex;flex-direction:column}[data-v-78845fc4] .resource-yaml .yaml-editor{flex:1;min-height:200px}[data-v-78845fc4] .resource-yaml .yaml-editor .code-mirror .CodeMirror{min-height:200px}',""]),e.exports=t},a30c:function(e,t,a){var r=a("abe1");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("0baf2ee6",r,!0,{sourceMap:!1,shadowMode:!1})},a4ca:function(e,t,a){"use strict";a("2b47")},abe1:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-536ff22d]:after,.clearfix[data-v-536ff22d]:before{content:" ";display:table}.clearfix[data-v-536ff22d]:after{clear:both}.list-unstyled[data-v-536ff22d]{margin:0;padding:0;list-style-type:none}.no-select[data-v-536ff22d]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-536ff22d]{resize:none}.hand[data-v-536ff22d]{cursor:pointer;cursor:hand}.fixed[data-v-536ff22d]{table-layout:fixed}.clip[data-v-536ff22d]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-536ff22d],.force-wrap[data-v-536ff22d]{word-wrap:break-word}.force-wrap[data-v-536ff22d]{white-space:normal}.bordered-section[data-v-536ff22d]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-536ff22d]{margin-bottom:20px;margin-top:20px}.password[data-v-536ff22d]{display:flex;flex-direction:column}.password .labeled-input .addon[data-v-536ff22d]{padding-left:12px;min-width:65px}.password .genPassword[data-v-536ff22d]{display:flex;justify-content:flex-end}',""]),e.exports=t},b4fa:function(e,t,a){"use strict";a("c7f1")},bc09:function(e,t,a){"use strict";a("00ab")},c7f1:function(e,t,a){var r=a("e15a");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("c2dd6b34",r,!0,{sourceMap:!1,shadowMode:!1})},d877:function(e,t,a){var r=a("7aba");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("7ebd013c",r,!0,{sourceMap:!1,shadowMode:!1})},db29:function(e,t,a){var r=a("2944");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("bb1a0cc2",r,!0,{sourceMap:!1,shadowMode:!1})},db40:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"columns row"},[a("div",{staticClass:"col span-6"},[a("AccessCredentialsUsers",{attrs:{resource:e.resource,"user-options":e.userOptions,mode:e.mode,multiple:!0},on:{"update:user":e.updateUser,"update:newUser":e.updateNewUser},model:{value:e.value.users,callback:function(t){e.$set(e.value,"users",t)},expression:"value.users"}})],1),a("div",{staticClass:"col span-6"},[a("SSHKey",{staticClass:"mb-20",attrs:{namespace:e.resource.metadata.namespace,mode:e.mode,searchable:!1},on:{"update:sshKey":e.updateSSH},model:{value:e.value.sshkeys,callback:function(t){e.$set(e.value,"sshkeys",t)},expression:"value.sshkeys"}})],1)])])},n=[],s=a("2a79"),i=a("411b"),o={name:"HarvesterEditVolume",components:{SSHKey:s["default"],AccessCredentialsUsers:i["default"]},props:{mode:{type:String,default:"create"},resource:{type:Object,default:function(){return{}}},userOptions:{type:Array,default:function(){return[]}},value:{type:Object,default:function(){return{}}}},methods:{update:function(){this.$emit("update")},updateUser:function(e){this.$set(this.value,"users",e),this.update()},updateSSH:function(e){this.$set(this.value,"sshkeys",e),this.update()},updateNewUser:function(e){this.$emit("update:newUser",e)}}},l=o,u=a("d802"),d=Object(u["a"])(l,r,n,!1,null,null,null);t["default"]=d.exports},df1c:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hevi-name"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.name"),value:e.value.name,mode:e.mode}},[a("LabeledInput",{attrs:{label:e.t("harvester.fields.name"),required:"",mode:e.mode},on:{input:e.update},model:{value:e.value.name,callback:function(t){e.$set(e.value,"name",t)},expression:"value.name"}})],1)],1),a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hevi-type"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.type"),value:e.value.type,mode:e.mode}},[a("LabeledSelect",{attrs:{label:e.t("harvester.fields.type"),options:e.VOLUME_TYPE,mode:e.mode},on:{input:e.update},model:{value:e.value.type,callback:function(t){e.$set(e.value,"type",t)},expression:"value.type"}})],1)],1)]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hevi-image"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.image"),value:e.imageName,mode:e.mode}},[a("LabeledSelect",{attrs:{disabled:0===e.idx&&!e.isCreate&&!e.value.newCreateId&&e.isVirtualType,label:e.t("harvester.fields.image"),options:e.imagesOption,mode:e.mode,searchable:!0,required:e.validateRequired},on:{input:e.onImageChange},model:{value:e.value.image,callback:function(t){e.$set(e.value,"image",t)},expression:"value.image"}})],1)],1),a("div",{staticClass:"col span-6",attrs:{"data-testid":"input-hevi-size"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.size"),value:e.value.size,mode:e.mode}},[a("UnitInput",{attrs:{"output-modifier":!0,increment:1024,"input-exponent":3,label:e.t("harvester.fields.size"),mode:e.mode,required:e.validateRequired,suffix:"GiB",disabled:e.isDisabled},on:{input:e.update},model:{value:e.value.size,callback:function(t){e.$set(e.value,"size",t)},expression:"value.size"}})],1)],1)]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-3",attrs:{"data-testid":"input-hevi-bus"}},[a("InputOrDisplay",{attrs:{name:e.t("harvester.virtualMachine.volume.bus"),value:e.value.bus,mode:e.mode}},[a("LabeledSelect",{attrs:{label:e.t("harvester.virtualMachine.volume.bus"),mode:e.mode,options:e.InterfaceOption},on:{input:e.update},model:{value:e.value.bus,callback:function(t){e.$set(e.value,"bus",t)},expression:"value.bus"}})],1)],1)])])},n=[],s=a("e411"),i=a("2007"),o=a("d444"),l=a("53fe"),u=a("2aaa"),d=a("56a4"),c=a("90cd"),p=a("67ab"),v=a("7c47"),f={name:"HarvesterEditVMImage",components:{UnitInput:i["a"],LabeledInput:o["a"],LabeledSelect:l["a"],InputOrDisplay:u["a"]},props:{value:{type:Object,default:function(){return{}}},namespace:{type:String,default:null},mode:{type:String,default:"create"},idx:{type:Number,required:!0},isCreate:{type:Boolean,default:!0},isEdit:{type:Boolean,default:!1},validateRequired:{type:Boolean,required:!0},isVirtualType:{type:Boolean,default:!0}},data:function(){return{VOLUME_TYPE:v["e"],InterfaceOption:v["b"],loading:!1,images:[]}},fetch:function(){this.images=this.$store.getters["harvester/all"](c["a"].IMAGE)},computed:{imagesOption:function(){return this.images.filter((function(e){return e.isReady})).sort((function(e,t){return e.creationTimestamp>t.creationTimestamp?-1:1})).map((function(e){return{label:"".concat(e.metadata.namespace,"/").concat(e.spec.displayName),value:e.id}}))},imageName:function(){var e=this,t=this.imagesOption.find((function(t){return t.value===e.value.image}));return t?t.label:"-"},pvcsResource:function(){var e=this,t=this.$store.getters["harvester/all"](d["A"])||[];return t.find((function(t){return!e.namespace||t.id==="".concat(e.namespace,"/").concat(e.value.volumeName)}))},isDisabled:function(){return!this.value.newCreateId&&this.isEdit&&this.isVirtualType}},watch:{"value.type":function(e){"cd-rom"===e&&(this.$set(this.value,"bus","sata"),this.update())},"value.image":function(e){this.checkImageExists(e)},imagesOption:function(){this.checkImageExists(this.value.image)},pvcsResource:{handler:function(e){var t,a,r;if(null!==e&&void 0!==e&&null!==(t=e.spec)&&void 0!==t&&null!==(a=t.resources)&&void 0!==a&&null!==(r=a.requests)&&void 0!==r&&r.storage&&this.isVirtualType){var n=Object(p["f"])(e.spec.resources.requests.storage),s=Object(p["e"])(n,{increment:1024,addSuffix:!1,maxExponent:3,minExponent:3});this.value.size="".concat(s,"Gi")}},deep:!0,immediate:!0}},methods:{update:function(){this.$emit("update")},onImageChange:function(){var e,t=this,a=null===(e=this.$store.getters["harvester/all"](c["a"].IMAGE))||void 0===e?void 0:e.find((function(e){return t.value.image===e.id}));0===this.idx&&(/iso$/i.test(null===a||void 0===a?void 0:a.imageSuffix)?(this.$set(this.value,"type","cd-rom"),this.$set(this.value,"bus","sata")):(this.$set(this.value,"type","disk"),this.$set(this.value,"bus","virtio"))),this.update()},onOpen:function(){this.images=this.$store.getters["harvester/all"](c["a"].IMAGE)},checkImageExists:function(e){e&&this.imagesOption.length>0&&!Object(s["e"])(this.imagesOption,"value",e)&&(this.$store.dispatch("growl/error",{title:this.$store.getters["i18n/t"]("harvester.vmTemplate.tips.notExistImage.title",{name:e}),message:this.$store.getters["i18n/t"]("harvester.vmTemplate.tips.notExistImage.message")},{root:!0}),this.$set(this.value,"image",""))}}},m=f,h=a("d802"),b=Object(h["a"])(m,r,n,!1,null,null,null);t["default"]=b.exports},e04d:function(e,t,a){var r=a("7e0a");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("0ed3").default;n("432b66bb",r,!0,{sourceMap:!1,shadowMode:!1})},e15a:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-0b580a42]:after,.clearfix[data-v-0b580a42]:before{content:" ";display:table}.clearfix[data-v-0b580a42]:after{clear:both}.list-unstyled[data-v-0b580a42]{margin:0;padding:0;list-style-type:none}.no-select[data-v-0b580a42]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-0b580a42]{resize:none}.hand[data-v-0b580a42]{cursor:pointer;cursor:hand}.fixed[data-v-0b580a42]{table-layout:fixed}.clip[data-v-0b580a42]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-0b580a42],.force-wrap[data-v-0b580a42]{word-wrap:break-word}.force-wrap[data-v-0b580a42]{white-space:normal}.bordered-section[data-v-0b580a42]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-0b580a42]{margin-bottom:20px;margin-top:20px}.label[data-v-0b580a42]{display:flex;flex-direction:column}.label .value[data-v-0b580a42]{font-size:14px;line-height:18px}',""]),e.exports=t},e1c9:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("InputOrDisplay",{staticClass:"mb-20",attrs:{name:"CPU",value:e.cupDisplay,mode:e.mode}},[a("UnitInput",{directives:[{name:"int-number",rawName:"v-int-number"}],staticClass:"mb-20",attrs:{label:"CPU",suffix:"C",delay:0,required:"",disabled:e.disabled,mode:e.mode},on:{input:e.change},model:{value:e.localCpu,callback:function(t){e.localCpu=t},expression:"localCpu"}})],1)],1),a("div",{staticClass:"col span-6"},[a("InputOrDisplay",{staticClass:"mb-20",attrs:{name:e.t("harvester.virtualMachine.input.memory"),value:e.memoryDisplay,mode:e.mode}},[a("UnitInput",{directives:[{name:"int-number",rawName:"v-int-number"}],staticClass:"mb-20",attrs:{label:e.t("harvester.virtualMachine.input.memory"),mode:e.mode,"input-exponent":3,delay:0,increment:1024,"output-modifier":!0,disabled:e.disabled,required:""},on:{input:e.change},model:{value:e.localMemory,callback:function(t){e.localMemory=t},expression:"localMemory"}})],1)],1)])},n=[],s=a("2007"),i=a("2aaa"),o={name:"HarvesterEditCpuMemory",components:{UnitInput:s["a"],InputOrDisplay:i["a"]},props:{cpu:{type:Number,default:null},memory:{type:String,default:null},mode:{type:String,default:"create"},disabled:{type:Boolean,default:!1}},data:function(){return{localCpu:this.cpu,localMemory:this.memory}},computed:{cupDisplay:function(){return"".concat(this.localCpu," C")},memoryDisplay:function(){return"".concat(this.localMemory," GiB")}},watch:{cpu:function(e){this.localCpu=e},memory:function(e){e&&!e.includes("null")&&(this.localMemory=e)}},methods:{change:function(){var e="";e=String(this.localMemory).includes("Gi")?this.localMemory:"".concat(this.localMemory,"Gi"),e.includes("null")&&(e=null),this.$emit("updateCpuMemory",this.localCpu,e)}}},l=o,u=a("d802"),d=Object(u["a"])(l,r,n,!1,null,null,null);t["default"]=d.exports},e299:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row",on:{input:e.update}},[a("div",{staticClass:"col span-6"},[a("AccessCredentialsUsers",{attrs:{resource:e.resource,"user-options":e.userOptions,multiple:!1,mode:e.mode},on:{"update:user":e.updateUser,"update:newUser":e.updateNewUser},model:{value:e.value.username,callback:function(t){e.$set(e.value,"username",t)},expression:"value.username"}})],1),a("div",{staticClass:"col span-6"},[a("Password",{ref:"password",attrs:{mode:e.mode,disabled:"edit"!==e.mode,label:e.t("harvester.virtualMachine.input.password"),required:""},model:{value:e.value.newPassword,callback:function(t){e.$set(e.value,"newPassword",t)},expression:"value.newPassword"}})],1)])},n=[],s=a("e519"),i=a("411b"),o={name:"HarvesterEditVolume",components:{Password:s["a"],AccessCredentialsUsers:i["default"]},props:{mode:{type:String,default:"create"},resource:{type:Object,default:function(){return{}}},userOptions:{type:Array,default:function(){return[]}},value:{type:Object,default:function(){return{}}}},data:function(){return{defaultPwdValue:{username:"",newPassword:""}}},methods:{update:function(){this.$emit("update")},updateUser:function(e){this.$set(this.value,"username",e),this.update()},updateNewUser:function(e){this.$emit("update:newUser",e)}}},l=o,u=(a("26a8"),a("d802")),d=Object(u["a"])(l,r,n,!1,null,"b7cb7d9a",null);t["default"]=d.exports},e519:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"password"},[a("LabeledInput",e._b({ref:"input",attrs:{type:e.isRandom||e.reveal?"text":"password",readonly:e.isRandom,label:e.label,required:e.required,disabled:e.isRandom,"ignore-password-managers":e.ignorePasswordManagers},on:{blur:function(t){return e.$emit("blur",t)}},scopedSlots:e._u([{key:"suffix",fn:function(){return[e.isRandom?a("div",{staticClass:"addon"},[a("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$copyText(e.password)}}},[e._v(e._s(e.t("action.copy")))])]):a("div",{staticClass:"addon"},[e.reveal?a("a",{attrs:{tabindex:"-1",href:"#"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.reveal=!1}}},[e._v(e._s(e.t("action.hide")))]):a("a",{attrs:{tabindex:"-1",href:"#"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.reveal=!0}}},[e._v(e._s(e.t("action.show")))])])]},proxy:!0}]),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},"LabeledInput",e.attributes,!1)),e.isRandom?a("div",{staticClass:"mt-10 genPassword"},[a("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.generatePassword.apply(null,arguments)}}},[a("i",{staticClass:"icon icon-refresh"}),e._v(" "+e._s(e.t("changePassword.newGeneratedPassword")))])]):e._e()],1)},n=[],s=a("9ce4"),i=a("d444"),o=a("06f6");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c={components:{LabeledInput:i["a"]},props:{value:{default:"",type:String},isRandom:{default:!1,type:Boolean},label:{default:"",type:String},name:{default:"",type:String},autocomplete:{type:String,default:""},required:{default:!1,type:Boolean},ignorePasswordManagers:{default:!1,type:Boolean}},data:function(){return{reveal:!1}},computed:u(u({},Object(s["a"])({t:"i18n/t"})),{},{password:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},attributes:function(){var e={};return this.name&&(e.id=this.name,e.name=this.name),this.autocomplete&&(e.autocomplete=this.autocomplete),e}}),watch:{isRandom:function(){this.isRandom&&this.generatePassword()}},created:function(){this.isRandom&&this.generatePassword()},methods:{generatePassword:function(){this.password=Object(o["p"])(16,o["a"].ALPHA_NUM)},show:function(e){this.reveal=e},focus:function(){this.$refs.input.$refs.value.focus()}}},p=c,v=(a("9852"),a("d802")),f=Object(v["a"])(p,r,n,!1,null,"536ff22d",null);t["a"]=f.exports},eb32:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"label"},[a("div",{staticClass:"text-label"},[e._t("name",(function(){return[e._v(" "+e._s(e.name)+" ")]}))],2),a("div",{staticClass:"value"},[e._t("value",(function(){return[e._v(" "+e._s(e.value)+" ")]}))],2)])},n=[],s={props:{name:{type:String,required:!0},value:{type:[Number,String,void 0],default:""}}},i=s,o=(a("b4fa"),a("d802")),l=Object(o["a"])(i,r,n,!1,null,"0b580a42",null);t["a"]=l.exports},ef3f:function(e,t,a){"use strict";a("d877")},f3cf:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-1eb849b8]:after,.clearfix[data-v-1eb849b8]:before{content:" ";display:table}.clearfix[data-v-1eb849b8]:after{clear:both}.list-unstyled[data-v-1eb849b8]{margin:0;padding:0;list-style-type:none}.no-select[data-v-1eb849b8]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-1eb849b8]{resize:none}.hand[data-v-1eb849b8]{cursor:pointer;cursor:hand}.fixed[data-v-1eb849b8]{table-layout:fixed}.clip[data-v-1eb849b8]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-1eb849b8],.force-wrap[data-v-1eb849b8]{word-wrap:break-word}.force-wrap[data-v-1eb849b8]{white-space:normal}.bordered-section[data-v-1eb849b8]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-1eb849b8]{margin-bottom:20px;margin-top:20px}.label[data-v-1eb849b8]{display:flex;flex-direction:column}.label .value[data-v-1eb849b8]{font-size:14px;line-height:18px}',""]),e.exports=t},fea5:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(e.rows,(function(t,r){return a("InfoBox",{key:r,staticClass:"infoBox"},[e.isView?e._e():a("button",{staticClass:"role-link remove-vol",attrs:{type:"button"},on:{click:function(a){return e.remove(t)}}},[a("i",{staticClass:"icon icon-2x icon-x"})]),a("h3",[e._v(" "+e._s(e.t("harvester.virtualMachine.network.title"))+" ")]),a("Base",{attrs:{rows:e.rows,mode:e.mode,"network-option":e.networkOption},on:{update:e.update},model:{value:e.rows[r],callback:function(t){e.$set(e.rows,r,t)},expression:"rows[i]"}})],1)})),e.isView?e._e():a("button",{staticClass:"btn btn-sm bg-primary",attrs:{type:"button"},on:{click:e.add}},[e._v(" "+e._s(e.t("harvester.virtualMachine.network.addNetwork"))+" ")])],2)},n=[],s=a("6583"),i=a("91f6"),o=a("56a4"),l=a("7592"),u=a("1832"),d=a("06f6"),c=a("e411"),p=a("d6a6"),v={components:{InfoBox:s["a"],Base:i["default"]},props:{mode:{type:String,default:"create"},value:{type:Array,default:function(){return[]}}},data:function(){return{rows:Object(u["clone"])(this.value),nameIdx:1}},computed:{isView:function(){return this.mode===p["C"]},networkOption:function(){var e=this.$store.getters["harvester/all"](o["u"]),t=Object(l["b"])(e.map((function(e){return{label:e.id,value:e.id}})),"label");return t}},watch:{value:function(e){this.rows=e}},methods:{add:function(e){var t=this.generateName(),a={name:t,networkName:"",model:"virtio",type:"bridge",newCreateId:Object(d["p"])(10)};this.rows.push(a),this.update()},remove:function(e){Object(c["i"])(this.rows,e),this.update()},generateName:function(){var e="",t=!0;while(t)e="nic-".concat(this.nameIdx),t=this.rows.find((function(t){return t.name===e})),this.nameIdx++;return e},update:function(){this.$emit("input",this.rows)}}},f=v,m=(a("9380"),a("d802")),h=Object(m["a"])(f,r,n,!1,null,"2c78a67c",null);t["default"]=h.exports}}]);
//# sourceMappingURL=harvester-v1.0.3.umd.min.detail~edit.js.map