(("undefined"!==typeof self?self:this)["webpackJsonpharvester_v1_0_3"]=("undefined"!==typeof self?self:this)["webpackJsonpharvester_v1_0_3"]||[]).push([[11],{"26eb":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-1ed667cf]:after,.clearfix[data-v-1ed667cf]:before{content:" ";display:table}.clearfix[data-v-1ed667cf]:after{clear:both}.list-unstyled[data-v-1ed667cf]{margin:0;padding:0;list-style-type:none}.no-select[data-v-1ed667cf]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-1ed667cf]{resize:none}.hand[data-v-1ed667cf]{cursor:pointer;cursor:hand}.fixed[data-v-1ed667cf]{table-layout:fixed}.clip[data-v-1ed667cf]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-1ed667cf],.force-wrap[data-v-1ed667cf]{word-wrap:break-word}.force-wrap[data-v-1ed667cf]{white-space:normal}.bordered-section[data-v-1ed667cf]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-1ed667cf]{margin-bottom:20px;margin-top:20px}.upgrade[data-v-1ed667cf]{height:100%;min-width:40px;display:flex;align-items:center}.upgrade .dot-icon[data-v-1ed667cf]{font-size:24px;vertical-align:middle;color:#00a483}.upgrade-info[data-v-1ed667cf]{min-width:550px}.upgrade-info .repoInfo .col span[data-v-1ed667cf]{word-break:break-all}.upgrade-info .repoInfo p.state[data-v-1ed667cf]{display:flex;align-items:center}.upgrade-info .float-r[data-v-1ed667cf]{float:right}.upgrade-info p[data-v-1ed667cf]{word-break:break-word;margin-top:5px}.successTip[data-v-1ed667cf]{display:flex;flex-direction:row-reverse}',""]),e.exports=t},"6c17":function(e,t,a){var r=a("26eb");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("35eeeb80",r,!0,{sourceMap:!1,shadowMode:!1})},"866c":function(e,t,a){"use strict";a("958f")},9137:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-0ed81dbe]:after,.clearfix[data-v-0ed81dbe]:before{content:" ";display:table}.clearfix[data-v-0ed81dbe]:after{clear:both}.list-unstyled[data-v-0ed81dbe]{margin:0;padding:0;list-style-type:none}.no-select[data-v-0ed81dbe]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-0ed81dbe]{resize:none}.hand[data-v-0ed81dbe]{cursor:pointer;cursor:hand}.fixed[data-v-0ed81dbe]{table-layout:fixed}.clip[data-v-0ed81dbe]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-0ed81dbe],.force-wrap[data-v-0ed81dbe]{word-wrap:break-word}.force-wrap[data-v-0ed81dbe]{white-space:normal}.bordered-section[data-v-0ed81dbe]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-0ed81dbe]{margin-bottom:20px;margin-top:20px}.bar-list .float-r[data-v-0ed81dbe]{float:right}.bar-list .total-bar[data-v-0ed81dbe]{display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bar-list .total-bar .bar[data-v-0ed81dbe]{width:85%}.bar-list .total-bar .on-off[data-v-0ed81dbe]{margin-left:10px;cursor:pointer}.bar-list .custom-content .item[data-v-0ed81dbe]{margin-bottom:14px}.bar-list .custom-content .item p[data-v-0ed81dbe]{margin-bottom:4px}.bar-list .custom-content .item .status[data-v-0ed81dbe]{float:right}.bar-list .custom-content .item .Pending[data-v-0ed81dbe],.bar-list .custom-content .item .Succeeded[data-v-0ed81dbe],.bar-list .custom-content .item .Upgrading[data-v-0ed81dbe]{color:var(--success)}.bar-list .custom-content .item .failed[data-v-0ed81dbe],.bar-list .custom-content .item .warning[data-v-0ed81dbe]{color:var(--error)}',""]),e.exports=t},"921f":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-53bb25f0]:after,.clearfix[data-v-53bb25f0]:before{content:" ";display:table}.clearfix[data-v-53bb25f0]:after{clear:both}.list-unstyled[data-v-53bb25f0]{margin:0;padding:0;list-style-type:none}.no-select[data-v-53bb25f0]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-53bb25f0]{resize:none}.hand[data-v-53bb25f0]{cursor:pointer;cursor:hand}.fixed[data-v-53bb25f0]{table-layout:fixed}.clip[data-v-53bb25f0]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-53bb25f0],.force-wrap[data-v-53bb25f0]{word-wrap:break-word}.force-wrap[data-v-53bb25f0]{white-space:normal}.bordered-section[data-v-53bb25f0]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-53bb25f0]{margin-bottom:20px;margin-top:20px}.advanced[data-v-53bb25f0]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 5px;cursor:pointer;line-height:40px;font-size:15px;font-weight:500}.content[data-v-53bb25f0]{background:var(--nav-active);padding:10px;margin-top:6px;border-radius:4px}',""]),e.exports=t},"958f":function(e,t,a){var r=a("9137");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("5dcc6046",r,!0,{sourceMap:!1,shadowMode:!1})},"9d98":function(e,t,a){"use strict";a("d55a")},ab59:function(e,t,a){"use strict";a("6c17")},d55a:function(e,t,a){var r=a("921f");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("320e99bf",r,!0,{sourceMap:!1,shadowMode:!1})},d9ee:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.enabled&&e.isShow?a("div",{staticClass:"upgrade"},[a("v-popover",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{placement:"bottom-left"},expression:"{\n      placement: 'bottom-left',\n    }"}],staticClass:"hand"},[e._t("button-content",(function(){return[a("i",{staticClass:"warning icon-fw icon icon-dot-open dot-icon"})]})),a("template",{slot:"popover"},[a("div",{staticClass:"upgrade-info mb-10"},[e.repoInfo?a("div",{staticClass:"repoInfo"},[e.latestResource?a("div",{staticClass:"row mb-5"},[a("div",{staticClass:"col span-12"},[a("p",{staticClass:"state"},[e._v(" "+e._s(e.t("harvester.upgradePage.repoInfo.upgradeStatus"))+": "),a("BadgeStateFormatter",{staticClass:"ml-5",attrs:{row:e.latestResource}})],1)])]):e._e(),a("p",{staticClass:"bordered-section"}),a("div",{staticClass:"row mb-5"},[a("div",{staticClass:"col span-6"},[e._v(" "+e._s(e.t("harvester.upgradePage.repoInfo.os"))+": "),a("span",{staticClass:"text-muted"},[e._v(e._s(e.repoInfo.release.os))])]),a("div",{staticClass:"col span-6"},[e._v(" "+e._s(e.t("harvester.productLabel"))+": "),a("span",{staticClass:"text-muted"},[e._v(e._s(e.repoInfo.release.harvester))])])]),a("div",{staticClass:"row mb-5"},[a("div",{staticClass:"col span-6"},[e._v(" "+e._s(e.t("harvester.upgradePage.repoInfo.harvesterChart"))+": "),a("span",{staticClass:"text-muted"},[e._v(e._s(e.repoInfo.release.harvesterChart))])]),a("div",{staticClass:"col span-6"},[e._v(" "+e._s(e.t("harvester.upgradePage.repoInfo.monitoringChart"))+": "),a("span",{staticClass:"text-muted"},[e._v(e._s(e.repoInfo.release.monitoringChart))])])]),a("div",{staticClass:"row mb-5"},[a("div",{staticClass:"col span-6"},[e._v(" "+e._s(e.t("harvester.upgradePage.repoInfo.kubernetes"))+": "),a("span",{staticClass:"text-muted"},[e._v(e._s(e.repoInfo.release.kubernetes))])]),a("div",{staticClass:"col span-6"},[e._v(" "+e._s(e.t("product.rancher"))+": "),a("span",{staticClass:"text-muted"},[e._v(e._s(e.repoInfo.release.rancher))])])]),a("p",{staticClass:"bordered-section"})]):e._e(),e.overallMessage?a("p",{staticClass:"text-warning mb-20"},[e._v(" "+e._s(e.overallMessage)+" ")]):e._e(),e.showImage?a("div",[a("h4",[e._v(e._s(e.t("harvester.upgradePage.upgradeImage"))),a("span",{staticClass:"float-r text-info"},[e._v(e._s(e.imageProgress)+"%")])]),a("PercentageBar",{attrs:{value:e.imageProgress,"preferred-direction":"MORE"}}),a("p",{staticClass:"text-warning"},[e._v(" "+e._s(e.imageMessage)+" ")]),a("p",{staticClass:"bordered-section"})],1):e._e(),a("h4",[e._v(e._s(e.t("harvester.upgradePage.createRepository"))+" "),a("span",{staticClass:"float-r text-info"},[e._v(e._s(e.repoReady.isReady?e.t("harvester.upgradePage.succeeded"):e.t("harvester.upgradePage.pending")))])]),e.repoReady.message?a("p",{staticClass:"text-warning"},[e._v(" "+e._s(e.repoReady.message)+" ")]):e._e(),a("p",{staticClass:"bordered-section"}),a("ProgressBarList",{attrs:{title:e.t("harvester.upgradePage.upgradeNode"),precent:e.nodesPercent,list:e.nodesStatus}}),a("p",{staticClass:"bordered-section"}),a("ProgressBarList",{attrs:{title:e.t("harvester.upgradePage.upgradeSysService"),precent:e.sysServiceTotal,list:e.sysServiceUpgradeMessage}})],1),e.latestResource.isUpgradeSucceeded?a("div",{staticClass:"successTip"},[a("button",{staticClass:"btn role-primary",on:{click:function(t){return e.ignoreMessage()}}},[e._v(" "+e._s(e.t("harvester.upgradePage.dismissMessage"))+" ")])]):e._e()])],2)],1):e._e()},s=[],o=a("56d4"),n=a.n(o),i=a("56a4"),d=a("90cd"),c=a("b837"),l=a("b0bd"),p=a("7dc6"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bar-list"},[a("h4",[e._v(e._s(e.title)+" "),a("span",{staticClass:"float-r text-info"},[e._v(e._s(e.precent)+"%")])]),a("div",[a("div",[a("Collapse",{attrs:{open:e.open},on:{"update:open":function(t){e.open=t}},scopedSlots:e._u([{key:"title",fn:function(){return[a("div",{staticClass:"total-bar"},[a("span",{staticClass:"bar"},[a("PercentageBar",{attrs:{value:e.precent,"preferred-direction":"MORE"}})],1),a("span",{staticClass:"on-off",on:{click:e.handleSwitch}},[e._v(" "+e._s(e.open?e.t("harvester.generic.close"):e.t("harvester.generic.open")))])])]},proxy:!0}])},[[a("div",{staticClass:"custom-content"},e._l(e.list,(function(t){var r;return a("div",{key:t.name,staticClass:"item"},[a("p",[e._v(e._s(t.name)+" "),a("span",{staticClass:"status",class:(r={},r[t.state]=!0,r)},[e._v(e._s(t.state))])]),a("PercentageBar",{attrs:{value:t.percent,"preferred-direction":"MORE"}}),a("p",{staticClass:"warning"},[e._v(" "+e._s(t.message)+" ")])],1)})),0)]],2)],1)])])},v=[],f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"collapse"},[e._t("title",(function(){return[a("div",{staticClass:"advanced text-link",on:{click:e.showAdvanced}},[e.open?a("i",{staticClass:"icon icon-chevron-down"}):a("i",{staticClass:"icon icon-chevron-right"}),e._v(" "+e._s(e.title)+" ")])]})),e.open?a("div",{staticClass:"content"},[e._t("default")],2):e._e()],2)},b=[],g={name:"Collapse",props:{open:{type:Boolean,default:!0},title:{type:String,default:""}},methods:{showAdvanced:function(){this.$emit("update:open",!this.open)}}},h=g,m=(a("9d98"),a("d802")),_=Object(m["a"])(h,f,b,!1,null,"53bb25f0",null),w=_.exports,x={name:"HarvesterUpgradeProgressList",components:{PercentageBar:p["a"],Collapse:w},props:{title:{type:String,default:""},precent:{type:Number,default:0},list:{type:Array,default:function(){return[]}}},data:function(){return{open:!0}},methods:{handleSwitch:function(){this.open=!this.open}}},y=x,C=(a("866c"),Object(m["a"])(y,u,v,!1,null,"0ed81dbe",null)),P=C.exports,M=a("2c0b"),R=a("4aac"),I=a("9ce4");function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){k(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function E(e,t,a,r,s,o,n){try{var i=e[o](n),d=i.value}catch(c){return void a(c)}i.done?t(d):Promise.resolve(d).then(r,s)}function j(e){return function(){var t=this,a=arguments;return new Promise((function(r,s){var o=e.apply(t,a);function n(e){E(o,r,s,n,i,"next",e)}function i(e){E(o,r,s,n,i,"throw",e)}n(void 0)}))}}var A={name:"HarvesterUpgradeHeader",components:{PercentageBar:p["a"],ProgressBarList:P,BadgeStateFormatter:M["default"]},fetch:function(){var e=this;return j(n.a.mark((function t(){var a;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={},e.$store.getters["harvester/schemaFor"](d["a"].IMAGE)&&(a.images=e.$store.dispatch("harvester/findAll",{type:d["a"].IMAGE})),e.$store.getters["harvester/schemaFor"](d["a"].UPGRADE)&&(a.upgrades=e.$store.dispatch("harvester/findAll",{type:d["a"].UPGRADE})),e.$store.getters["harvester/schemaFor"](i["w"])&&(a.nodes=e.$store.dispatch("harvester/findAll",{type:i["w"]})),t.next=6,Object(c["a"])(a);case 6:case"end":return t.stop()}}),t)})))()},computed:S(S({},Object(I["a"])(["currentProduct","isVirtualCluster"])),{},{enabled:function(){return this.isVirtualCluster&&this.currentProduct.name===R["PRODUCT_NAME"]},latestResource:function(){return this.$store.getters["harvester/all"](d["a"].UPGRADE).find((function(e){return e.isLatestUpgrade}))},overallMessage:function(){var e;return null===(e=this.latestResource)||void 0===e?void 0:e.overallMessage},upgradeImage:function(){var e,t=null===(e=this.latestResource)||void 0===e?void 0:e.upgradeImage;return this.$store.getters["harvester/all"](d["a"].IMAGE).find((function(e){return e.id===t}))},imageProgress:function(){var e;return(null===(e=this.upgradeImage)||void 0===e?void 0:e.progress)||0},showImage:function(){return!this.latestResource.isUpgradeSucceeded},imageMessage:function(){var e;return null===(e=this.latestResource)||void 0===e?void 0:e.upgradeImageMessage},repoReady:function(){return this.latestResource.createRepo},isShow:function(){return this.latestResource&&!this.latestResource.hasReadMessage},nodesStatus:function(){var e;return null===(e=this.latestResource)||void 0===e?void 0:e.nodeUpgradeMessage},sysServiceUpgradeMessage:function(){var e;return null===(e=this.latestResource)||void 0===e?void 0:e.sysServiceUpgradeMessage},sysServiceTotal:function(){var e;return(null===(e=this.sysServiceUpgradeMessage)||void 0===e?void 0:e[0].percent)||0},nodesPercent:function(){var e;return(null===(e=this.latestResource)||void 0===e?void 0:e.nodeTotalPercent)||0},repoInfo:function(){return this.latestResource.repoInfo}}),methods:{ignoreMessage:function(){this.latestResource.setLabel(l["l"].REAY_MESSAGE,"true"),this.latestResource.save()}}},U=A,z=(a("ab59"),Object(m["a"])(U,r,s,!1,null,"1ed667cf",null));t["default"]=z.exports}}]);
//# sourceMappingURL=components.js.map