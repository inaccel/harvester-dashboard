(("undefined"!==typeof self?self:this)["webpackJsonpharvester_v1_2_1"]=("undefined"!==typeof self?self:this)["webpackJsonpharvester_v1_2_1"]||[]).push([[8],{"0267":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"vfs-num"},[t("n-link",{attrs:{to:e.to}},[e._v(" "+e._s(e.row.spec.numVFs)+" ")])],1)},r=[],n=a("4aac"),o=a("90cd"),i={name:"HarvesterVFsNum",props:{row:{type:Object,required:!0}},computed:{to(){return{name:n["PRODUCT_NAME"]+"-c-cluster-resource",params:{cluster:this.$store.getters["clusterId"],resource:o["b"].PCI_DEVICE},query:{parentSriov:this.row.id}}}}},l=i,u=a("d802"),c=Object(u["a"])(l,s,r,!1,null,null,null);t["default"]=c.exports},"026e":function(e,t,a){var s=a("6a9c");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("336a5a41",s,!0,{sourceMap:!1,shadowMode:!1})},"0b37":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"vfs"},[e._l(e.rows.visible,(function(a,s){return t("span",{key:a.name},[t("n-link",{attrs:{to:a.to}},[e._v(" "+e._s(a.name)+" ")]),s<e.rows.visible.length-1?t("span",[e._v(", ")]):e._e()],1)})),t("v-popover",{attrs:{trigger:"click",placement:"top"},scopedSlots:e._u([{key:"popover",fn:function(){return[t("div",{staticClass:"vfs-popup"},[t("div",e._l(e.rows.invisible,(function(a,s){return t("span",{key:a.name},[t("n-link",{attrs:{to:a.to}},[e._v(" "+e._s(a.name)+" ")]),s<e.rows.invisible.length-1?t("span",[e._v(", ")]):e._e()],1)})),0)])]},proxy:!0}])},[e.allVFs.length>e.limitedNumbers?t("span",[e._v(" , "),t("a",{staticClass:"show-more",attrs:{href:"javascript:void(0)"},on:{click:function(t){t.preventDefault(),e.showAll=!e.showAll}}},[e._v(" "+e._s(e.t("harvester.sriov.showMore"))+" ")])]):e._e()])],2)},r=[],n=a("4aac"),o=a("90cd"),i={name:"HarvesterVFAddress",props:{row:{type:Object,required:!0}},data(){return{showAll:!1,limitedNumbers:3}},computed:{allVFs(){var e;return(null===(e=this.row.status)||void 0===e?void 0:e.vfAddresses)||[]},rows(){const e=this.allVFs.map(e=>{var t;const[a,s,r]=e.split(":"),i=`${null===(t=this.row.spec)||void 0===t?void 0:t.nodeName}-${a}${s}${r.replace(".","")}`,l={name:n["PRODUCT_NAME"]+"-c-cluster-resource",params:{cluster:this.$store.getters["clusterId"],resource:o["b"].PCI_DEVICE},query:{q:i}};return{to:l,name:e}});return{visible:e.slice(0,this.limitedNumbers),invisible:e.slice(this.limitedNumbers)}}}},l=i,u=(a("8ea6"),a("d802")),c=Object(u["a"])(l,s,r,!1,null,"1bc342dd",null);t["default"]=c.exports},"0c11":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",["N/A"!==e.value?t("div",{staticClass:"text"},[t("BadgeStateFormatter",{staticClass:"ml-10",attrs:{arbitrary:e.arbitrary,row:e.row,value:e.value}})],1):t("div",{staticClass:"text"},[e._v(" "+e._s(e.value)+" ")])])},r=[],n=a("2c0b"),o={components:{BadgeStateFormatter:n["a"]},props:{value:{type:String,default:""},row:{type:Object,required:!0},col:{type:Object,default:()=>{}},arbitrary:{type:Boolean,default:!1}},data(){return{}}},i=o,l=(a("34cd"),a("d802")),u=Object(l["a"])(i,s,r,!1,null,"8c9a6ba6",null);t["default"]=u.exports},"0d4f":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".state[data-v-336b92cf]{display:flex}.state .icon-warning[data-v-336b92cf]{margin-top:2px}",""]),e.exports=t},"11e4":function(e,t,a){var s=a("569f");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("6efeb87a",s,!0,{sourceMap:!1,shadowMode:!1})},"220e":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("ConsumptionGauge",{attrs:{capacity:e.cpuTotal,used:e.reserved,units:e.cpuUnits,"resource-name":e.resourceName},scopedSlots:e._u([{key:"title",fn:function({amountTemplateValues:a,formattedPercentage:s}){return[t("span",[e._v(" "+e._s(e.t("clusterIndexPage.hardwareResourceGauge.reserved"))+" ")]),t("span",{staticClass:"precent-data"},[e._v(" "+e._s(e.t("node.detail.glance.consumptionGauge.amount",a))+" "),t("span",{staticClass:"ml-10 percentage"},[e._v("/ "+e._s(s)+" ")])])]}}])}),e.showUsed?t("div",{staticClass:"mt-10"},[t("ConsumptionGauge",{attrs:{capacity:e.cpuTotal,used:e.used,units:e.cpuUnits},scopedSlots:e._u([{key:"title",fn:function({amountTemplateValues:a,formattedPercentage:s}){return[t("span",[e._v(" "+e._s(e.t("clusterIndexPage.hardwareResourceGauge.used"))+" ")]),t("span",{staticClass:"precent-data"},[e._v(" "+e._s(e.t("node.detail.glance.consumptionGauge.amount",a))+" "),t("span",{staticClass:"ml-10 percentage"},[e._v("/ "+e._s(s)+" ")])])]}}],null,!1,3882697491)})],1):e._e()],1)},r=[],n=a("3c8a"),o=a("56a4"),i=a("67ab"),l={name:"HarvesterCpuUsed",components:{ConsumptionGauge:n["a"]},props:{value:{type:String,default:""},row:{type:Object,required:!0},resourceName:{type:String,default:""},showUsed:{type:Boolean,default:!1}},data(){return{}},computed:{metrics(){return this.$store.getters["harvester/byId"](o["u"].NODE,this.row.id)},cpuTotal(){let e=0;return this.metrics&&(e=this.metrics.cpuCapacity),e},cpuUnits(){return"C"},node(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[e+"/byId"](o["z"],this.row.id);return t},reserved(){return this.metrics?this.node.cpuReserved:0},used(){var e,t;return this.metrics?Object(i["f"])((null===(e=this.metrics)||void 0===e||null===(t=e.usage)||void 0===t?void 0:t.cpu)||"0m"):0}}},u=l,c=(a("9a16"),a("d802")),d=Object(c["a"])(u,s,r,!1,null,"07d0bbf4",null);t["default"]=d.exports},"34cd":function(e,t,a){"use strict";a("63f4")},"42c6":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[e.showReserved?t("div",[t("ConsumptionGauge",{attrs:{capacity:e.total,used:e.reserved,units:e.units,"number-formatter":e.formatter,"resource-name":e.resourceName},scopedSlots:e._u([{key:"title",fn:function({formattedPercentage:a}){return[t("span",[e._v(" "+e._s(e.t("clusterIndexPage.hardwareResourceGauge.reserved"))+" ")]),t("span",{staticClass:"precent-data"},[e._v(" "+e._s(e.t("node.detail.glance.consumptionGauge.amount",e.reservedAmountTemplateValues))+" "),t("span",{staticClass:"ml-10 percentage"},[e._v(" / "+e._s(a)+" ")])])]}}],null,!1,4128256252)})],1):e._e(),t("ConsumptionGauge",{class:{"mt-10":e.showReserved},attrs:{capacity:e.total,used:e.usage,units:e.units,"number-formatter":e.formatter,"resource-name":e.showReserved?"":e.resourceName},scopedSlots:e._u([{key:"title",fn:function({formattedPercentage:a}){return[t("span",[e._v(" "+e._s(e.t("node.detail.glance.consumptionGauge.used"))+" ")]),t("span",{staticClass:"precent-data"},[e._v(" "+e._s(e.t("node.detail.glance.consumptionGauge.amount",e.usedAmountTemplateValues))+" "),t("span",{staticClass:"ml-10 percentage"},[e._v(" / "+e._s(a)+" ")])])]}}])})],1)},r=[],n=a("3c8a"),o=a("56a4"),i=a("67ab"),l={name:"HarvesterStorageUsed",components:{ConsumptionGauge:n["a"]},props:{value:{type:String,default:""},row:{type:Object,required:!0},resourceName:{type:String,default:""},showReserved:{type:Boolean,default:!1}},data(){return{}},computed:{usage(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[e+"/byId"](o["s"].NODES,"longhorn-system/"+this.row.id)||{};return(null===t||void 0===t?void 0:t.used)||0},reserved(){var e;const t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters[t+"/byId"](o["s"].NODES,"longhorn-system/"+this.row.id);let s=0;const r=(null===a||void 0===a||null===(e=a.spec)||void 0===e?void 0:e.disks)||{};return Object.values(r).map(e=>{e.allowScheduling&&(s+=e.storageReserved)}),s},total(){var e;const t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters[t+"/byId"](o["s"].NODES,"longhorn-system/"+this.row.id);let s=0;const r=(null===a||void 0===a||null===(e=a.status)||void 0===e?void 0:e.diskStatus)||{};return Object.values(r).map(e=>{null!==e&&void 0!==e&&e.storageMaximum&&(s+=e.storageMaximum)}),s},units(){const e=Object(i["d"])(this.total,1024);return i["b"][e]+"iB"},used(){let e=this.formatter(this.usage||0);return!Number.parseFloat(e)>0&&(e=this.formatter(this.usage||0,{canRoundToZero:!1})),e},formatReserved(){let e=this.formatter(this.reserved||0);return!Number.parseFloat(e)>0&&(e=this.formatter(this.reserved||0,{canRoundToZero:!1})),e},usedAmountTemplateValues(){return{used:this.used,total:this.formatter(this.total||0),unit:this.units}},reservedAmountTemplateValues(){return{used:this.formatReserved,total:this.formatter(this.total||0),unit:this.units}}},methods:{formatter(e,t){const a=Object(i["d"])(this.total,1024),s={addSuffix:!1,increment:1024,minExponent:a};return Object(i["e"])(e,{...s,...t})}}},u=l,c=(a("beb6"),a("d802")),d=Object(c["a"])(u,s,r,!1,null,"720a134f",null);t["default"]=d.exports},"4ba4":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"state"},[t("BadgeState",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.errorMessage,expression:"errorMessage"}],attrs:{color:e.stateBackground,label:e.stateDisplay}}),e.warningMessage.length?t("v-popover",{attrs:{trigger:"hover",offset:"16"}},[t("span",{staticClass:"tooltip-target ml-5"},[t("i",{staticClass:"icon icon-warning icon-lg text-warning"})]),t("template",{slot:"popover"},e._l(e.warningMessage,(function(a,s){return t("p",{key:a},[e._v(" "+e._s(s+1)+". "+e._s(a)+" ")])})),0)],2):e._e()],1)},r=[],n=a("57ab"),o=a("35ef");const i="healthy",l="warning";var u={components:{BadgeState:n["a"]},props:{value:{type:String,default:""},row:{type:Object,required:!0}},computed:{state(){var e;const t=(null===(e=this.row)||void 0===e?void 0:e.longhornDisks)||[],a=t.reduce((e,t)=>{var a,s;return"True"===(null===t||void 0===t||null===(a=t.readyCondition)||void 0===a?void 0:a.status)&&"True"===(null===t||void 0===t||null===(s=t.schedulableCondition)||void 0===s?void 0:s.status)||(e=l),e},i);return a},stateDisplay(){return Object(o["e"])(this.state)},stateBackground(){return this.state===i?"bg-success":"bg-warning"},errorMessage(){return this.state!==i?this.t("harvester.host.disk.error"):""},warningMessage(){var e;const t=(null===(e=this.row)||void 0===e?void 0:e.unProvisionedDisks)||[],a=[];return t.map(e=>{e.metadata.state.error&&a.push(e.metadata.state.message)}),a}}},c=u,d=(a("9485"),a("d802")),p=Object(d["a"])(c,s,r,!1,null,"11eb8bcb",null);t["default"]=p.exports},"4e4d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return e.isMatch?t("div",[e._v(" "+e._s(e.value)+" ")]):t("div",[e._v(" "+e._s(e.value)+" "),e.value?t("p",{staticClass:"text-error"},[e._v(" "+e._s(e.t("harvester.backup.matchTarget"))+" ")]):e._e()])},r=[],n=a("90cd"),o={props:{value:{type:String,default:""}},async fetch(){const e=await this.$store.dispatch("harvester/findAll",{type:n["b"].SETTING});this.harvesterSettings=e},data(){return{harvesterSettings:[]}},computed:{isMatch(){const e=this.$store.getters["harvester/all"](n["b"].SETTING)||[],t=e.find(e=>"backup-target"===e.id);let a=!1;try{var s;a=this.value===(null===t||void 0===t||null===(s=t.parseValue)||void 0===s?void 0:s.endpoint)}catch(r){}return a}}},i=o,l=a("d802"),u=Object(l["a"])(i,s,r,!1,null,null,null);t["default"]=u.exports},"54f5":function(e,t,a){"use strict";a("556a")},"556a":function(e,t,a){var s=a("f1e8");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("a1a8c3a6",s,!0,{sourceMap:!1,shadowMode:!1})},"569f":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".precent-data[data-v-07d0bbf4]{white-space:nowrap}",""]),e.exports=t},"5b58":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return e.to?t("n-link",{attrs:{to:e.to}},[e._v(" "+e._s(e.value)+" ")]):t("span",[e._v(" "+e._s(e.value)+" ")])},r=[],n=a("56a4"),o={props:{value:{type:String,default:""},row:{type:Object,default:()=>({})}},async fetch(){this.volumeList=await this.$store.dispatch("harvester/findAll",{type:n["E"]})},data(){return{volumeList:[]}},computed:{volume(){var e,t;const a=null===(e=this.row)||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.namespace,s=this.volumeList.find(e=>e.id===`${a}/${this.value}`)||{};return s},to(){var e;return null===(e=this.volume)||void 0===e?void 0:e.detailLocation}}},i=o,l=a("d802"),u=Object(l["a"])(i,s,r,!1,null,null,null);t["default"]=u.exports},"62a5":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".copy-to-clipboard-text[data-v-0865c2ae]{white-space:nowrap}.copy-to-clipboard-text.plain[data-v-0865c2ae]{color:var(--body-text)}.copy-to-clipboard-text.plain[data-v-0865c2ae]:hover{text-decoration:none}.copy-to-clipboard-text.copied[data-v-0865c2ae]{pointer-events:none;color:var(--success)}",""]),e.exports=t},"63f4":function(e,t,a){var s=a("a915");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("48ad5416",s,!0,{sourceMap:!1,shadowMode:!1})},"6a9c":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".vfs[data-v-1bc342dd]{min-width:380px}.vfs .show-more[data-v-1bc342dd]{font-size:12px}.popover .popover-inner .vfs-popup a[data-v-1bc342dd]{color:var(--link)}.popover .popover-inner .vfs-popup a[data-v-1bc342dd]:hover{text-decoration:underline;color:var(--body-text)}",""]),e.exports=t},"70b5":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("span",[e._v(" "+e._s(e.displayLabel)+" ")])},r=[],n=a("873f"),o=a("9ce4"),i={props:{value:{type:Object,default:()=>({})}},computed:{...Object(o["a"])({t:"i18n/t"}),displayLabel(){var e;return"user"===(null===(e=this.value)||void 0===e?void 0:e[n["a"].CLOUD_INIT])?this.t("harvester.cloudTemplate.userData"):this.t("harvester.cloudTemplate.networkData")}}},l=i,u=a("d802"),c=Object(u["a"])(l,s,r,!1,null,null,null);t["default"]=c.exports},"722a":function(e,t,a){var s=a("d7d4");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("77766022",s,!0,{sourceMap:!1,shadowMode:!1})},7658:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".state[data-v-11eb8bcb]{display:flex;justify-content:left}.state .icon-warning[data-v-11eb8bcb]{margin-top:2px}",""]),e.exports=t},"7b56":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return e.value.length>0?t("n-link",{attrs:{to:e.to}},[e._v(" "+e._s(e.value.length)+" ")]):e._e()},r=[],n={props:{value:{type:Array,default:()=>[]},row:{type:Object,default:()=>({})}},computed:{to(){var e;const t=null===(e=this.row)||void 0===e?void 0:e.detailLocation;return t.hash="#instances",t}}},o=n,i=a("d802"),l=Object(i["a"])(o,s,r,!1,null,null,null);t["default"]=l.exports},"85d7":function(e,t,a){"use strict";a("d6fb")},"8ce8":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".precent-data[data-v-e47c6506]{white-space:nowrap}",""]),e.exports=t},"8ea6":function(e,t,a){"use strict";a("026e")},9485:function(e,t,a){"use strict";a("d2e6")},"95b7":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return e.to?t("n-link",{attrs:{to:e.to}},[e._v(" "+e._s(e.value)+" ")]):t("span",[e._v(" "+e._s(e.value)+" ")])},r=[],n=a("90cd"),o={props:{value:{type:String,default:""},row:{type:Object,default:()=>({})}},data(){const e=this.$store.getters["harvester/all"](n["b"].VM)||[];return{vmList:e}},computed:{vm(){const e=this.vmList.find(e=>e.id===`${this.row.metadata.namespace}/${this.value}`);return e},to(){var e;return null===(e=this.vm)||void 0===e?void 0:e.detailLocation}}},i=o,l=a("d802"),u=Object(l["a"])(i,s,r,!1,null,null,null);t["default"]=u.exports},9651:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return e.text?t("a",{staticClass:"copy-to-clipboard-text",class:{copied:e.copied,plain:e.plain},attrs:{href:"#"},on:{click:e.clicked}},[e._v(" "+e._s(e.text)+" "),t("i",{staticClass:"icon",class:{"icon-copy":!e.copied,"icon-checkmark":e.copied}})]):e._e()},r=[],n={props:{text:{type:String,required:!0},plain:{type:Boolean,default:!1}},data(){return{copied:!1}},methods:{clicked(e){if(!this.copied){e.preventDefault(),this.$copyText(this.text),this.copied=!0;let t=e.target;"I"===t.tagName&&(t=t.parentElement||t),setTimeout(()=>{this.copied=!1},500)}}}},o=n,i=(a("dd06"),a("d802")),l=Object(i["a"])(o,s,r,!1,null,"0865c2ae",null);t["a"]=l.exports},"9a16":function(e,t,a){"use strict";a("11e4")},"9a8e":function(e,t,a){var s=a("ebad");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("6b8bbdfe",s,!0,{sourceMap:!1,shadowMode:!1})},"9f87":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".state[data-v-78efe1e0]{display:flex}.state .icon-warning[data-v-78efe1e0]{margin-top:2px}.warning-message[data-v-78efe1e0]:first-letter{text-transform:uppercase}",""]),e.exports=t},a231:function(e,t,a){var s=a("0d4f");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("6c410c0a",s,!0,{sourceMap:!1,shadowMode:!1})},a858:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return e.showIP?t("div",e._l(e.ips,(function({ip:e,name:a}){return t("span",{key:e},[t("CopyToClipboardText",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:a,expression:"name"}],attrs:{text:e}})],1)})),0):e._e()},r=[],n=a("44f6"),o=a("1832"),i=a("06f6"),l=a("873f"),u=a("90cd"),c=a("6834"),d=a("9651"),p={components:{CopyToClipboardText:d["a"]},props:{value:{type:String,default:""},row:{type:Object,required:!0},col:{type:Object,default:()=>{}}},data(){return{inStore:"harvester"}},created(){const e=this.$store.getters["currentProduct"].inStore;this.inStore=e},computed:{ips(){return[...this.vmiIp,...this.networkAnnotationIP].filter(Boolean).sort((e,t)=>e.ip<t.ip?-1:1)},networkAnnotationIP(){if("Running"!==this.row.actualState)return[];const e=Object(o["g"])(this.row,`metadata.annotations."${l["a"].NETWORK_IPS}"`)||"[]";try{const t=JSON.parse(e);return t.map(e=>({ip:e.replace(/\/[\d\D]*/,""),name:""}))}catch(t){return[]}},vmiIp(){var e,t;const a=this.$store.getters[this.inStore+"/all"](u["b"].VMI),s=a.find(e=>e.id===this.value)||null,r=this.row.networksName||[],n=(null===s||void 0===s||null===(e=s.spec)||void 0===e?void 0:e.networks)||[];return((null===s||void 0===s||null===(t=s.status)||void 0===t?void 0:t.interfaces)||[]).filter(e=>Object(i["k"])(e.ipAddress)&&r.includes(e.name)).map(e=>{let t;const a=n.find(t=>t.name===e.name);return a&&a.multus?t=a.multus.networkName:a&&a.pod&&(t=c["a"]),{ip:e.ipAddress,name:t}})},showIP(){return this.row.stateDisplay!==n["OFF"]}}},v=p,f=a("d802"),m=Object(f["a"])(v,s,r,!1,null,null,null);t["default"]=m.exports},a915:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".text[data-v-8c9a6ba6]{text-align:center}",""]),e.exports=t},bbb6:function(e,t,a){"use strict";a("a231")},beb6:function(e,t,a){"use strict";a("722a")},c3df:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("span",[t("div",[e.isRebuilding?t("ProgressBarMulti",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.rebuildingMessage,expression:"rebuildingMessage"}],staticClass:"mb-10",attrs:{values:e.percentage,min:0,max:100}}):e._e()],1),t("div",{staticClass:"state"},[t("VolumeState",{attrs:{row:e.row}}),e.warningMessage?t("v-popover",{attrs:{trigger:"hover",offset:"16"}},[t("span",{staticClass:"tooltip-target"},[t("i",{staticClass:"icon icon-warning icon-lg text-warning"})]),t("template",{slot:"popover"},[t("p",{staticClass:"warning-message"},[e._v(" "+e._s(e.warningMessage)+" ")])])],2):e._e()],1)])},r=[],n=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"trim-whitespace",rawName:"v-trim-whitespace"}],class:{progress:!0,multi:e.pieces.length>1}},e._l(e.pieces,(function(e,a){return t("div",{directives:[{name:"trim-whitespace",rawName:"v-trim-whitespace"}],key:a,class:{piece:!0,[e.color]:!0},style:e.style})})),0)},o=[],i=a("7592"),l=a("1832"),u={props:{values:{type:Array,required:!0},colorKey:{type:String,default:"color"},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},min:{type:Number,default:0},max:{type:Number,default:null},minPercent:{type:Number,default:5},showZeros:{type:Boolean,default:!1}},computed:{pieces(){const e=[];for(const n of this.values){const t=Object(l["g"])(n,this.colorKey),a=Object(l["g"])(n,this.labelKey),s=Object(l["g"])(n,this.valueKey);(0!==s||this.showZeros)&&e.push({color:t,label:a,value:s})}const t=this.minPercent||0,a=this.min||0;let s=this.max,r=0;this.max||(s=100,e.length&&(s=e.map(e=>e.value).reduce((e,t)=>e+t)));for(const n of e){const e=Math.max(t,c(n.value,a,s));n.percent=e,r+=e}r>100&&(Object(i["b"])(e,"percent",!0)[0].percent-=r-100);for(const n of e)n.style=`width: ${n.percent}%`;return e.filter(e=>e.percent)}}};function c(e,t,a){e=Math.max(t,Math.min(a,e));let s=e/(a-t)*100;return s=Math.floor(100*s)/100,s}var d=u,p=(a("54f5"),a("d802")),v=Object(p["a"])(d,n,o,!1,null,"2a3a568d",null),f=v.exports,m=a("873f"),h=a("2c0b"),g={components:{VolumeState:h["a"],ProgressBarMulti:f},props:{row:{type:Object,required:!0}},computed:{warningMessage(){var e,t,a;return null===(e=this.row.relatedPV)||void 0===e||null===(t=e.metadata)||void 0===t||null===(a=t.annotations)||void 0===a?void 0:a[m["a"].VOLUME_ERROR]},rebuildStatus(){var e,t;return null===(e=this.row.longhornEngine)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.rebuildStatus},isRebuilding(){return this.rebuildStatus&&Object.keys(this.rebuildStatus).length>0},percentage(){var e;if(!this.isRebuilding)return;const t=null===(e=Object.values(this.rebuildStatus))||void 0===e?void 0:e[0],a=null===t||void 0===t?void 0:t.progress;return[{value:a,color:"bg-warning"}]},rebuildingMessage(){return this.$store.getters["i18n/t"]("harvester.volume.rebuildingMessage",{percentage:this.percentage[0].value})}}},b=g,_=(a("85d7"),Object(p["a"])(b,s,r,!1,null,"78efe1e0",null));t["default"]=_.exports},c47c:function(e,t,a){var s=a("8ce8");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("234084ac",s,!0,{sourceMap:!1,shadowMode:!1})},c875:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("CopyToClipboardText",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.ip,expression:"ip"}],attrs:{text:e.nameDisplay}})],1)},r=[],n=a("56a4"),o=a("9651"),i={components:{CopyToClipboardText:o["a"]},props:{value:{type:String,default:""}},computed:{node(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[e+"/byId"](n["z"],this.value)},ip(){var e;return null===(e=this.node)||void 0===e?void 0:e.internalIp},nameDisplay(){var e;return(null===(e=this.node)||void 0===e?void 0:e.nameDisplay)||""}}},l=i,u=a("d802"),c=Object(u["a"])(l,s,r,!1,null,null,null);t["default"]=c.exports},d209:function(e,t,a){"use strict";a("c47c")},d2e6:function(e,t,a){var s=a("7658");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("0b3fa6f0",s,!0,{sourceMap:!1,shadowMode:!1})},d6fb:function(e,t,a){var s=a("9f87");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("7687b23b",s,!0,{sourceMap:!1,shadowMode:!1})},d7d4:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".precent-data[data-v-720a134f]{white-space:nowrap}",""]),e.exports=t},dc84:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("ConsumptionGauge",{attrs:{capacity:e.memoryTotal,used:e.reserved,units:e.memoryUnits,"number-formatter":e.memoryFormatter,"resource-name":e.resourceName},scopedSlots:e._u([{key:"title",fn:function({amountTemplateValues:a,formattedPercentage:s}){return[t("span",[e._v(" "+e._s(e.t("clusterIndexPage.hardwareResourceGauge.reserved"))+" ")]),t("span",{staticClass:"precent-data"},[e._v(" "+e._s(e.t("node.detail.glance.consumptionGauge.amount",a))+" "),t("span",{staticClass:"ml-10 percentage"},[e._v("/ "+e._s(s)+" ")])])]}}])}),e.showUsed?t("div",{staticClass:"mt-10"},[t("ConsumptionGauge",{attrs:{capacity:e.memoryTotal,used:e.used,units:e.memoryUnits,"number-formatter":e.memoryFormatter},scopedSlots:e._u([{key:"title",fn:function({amountTemplateValues:a,formattedPercentage:s}){return[t("span",[e._v(" "+e._s(e.t("clusterIndexPage.hardwareResourceGauge.used"))+" ")]),t("span",{staticClass:"precent-data"},[e._v(" "+e._s(e.t("node.detail.glance.consumptionGauge.amount",a))+" "),t("span",{staticClass:"ml-10 percentage"},[e._v("/ "+e._s(s)+" ")])])]}}],null,!1,3882697491)})],1):e._e()],1)},r=[],n=a("3c8a"),o=a("56a4"),i=a("67ab"),l={name:"HarvesterMemoryUsed",components:{ConsumptionGauge:n["a"]},props:{value:{type:String,default:""},row:{type:Object,required:!0},resourceName:{type:String,default:""},showUsed:{type:Boolean,default:!1}},data(){return{}},computed:{metrics(){return this.$store.getters["harvester/byId"](o["u"].NODE,this.row.id)},memoryTotal(){let e=0;return this.metrics&&(e=this.metrics.memoryCapacity),e},memoryUnits(){const e=Object(i["d"])(this.memoryTotal,1024);return i["b"][e]+"iB"},node(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[e+"/byId"](o["z"],this.row.id);return t},reserved(){return this.metrics?this.node.memoryReserved:0},used(){var e,t;return this.metrics?Object(i["f"])((null===(e=this.metrics)||void 0===e||null===(t=e.usage)||void 0===t?void 0:t.memory)||"0m",{increment:1024}):0}},methods:{memoryFormatter(e){const t=Object(i["d"])(this.memoryTotal,1024),a={addSuffix:!1,increment:1024,minExponent:t};return Object(i["e"])(e,a)}}},u=l,c=(a("e5ca"),a("d802")),d=Object(c["a"])(u,s,r,!1,null,"11b8113c",null);t["default"]=d.exports},dcdf:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[e.showReserved?t("div",[t("ConsumptionGauge",{attrs:{capacity:e.fpgaCapacity,used:e.fpgaAllocatable,"resource-name":e.resourceName},scopedSlots:e._u([{key:"title",fn:function({amountTemplateValues:a,formattedPercentage:s}){return[t("span",[e._v(" "+e._s(e.t("clusterIndexPage.hardwareResourceGauge.reserved"))+" ")]),t("span",{staticClass:"precent-data"},[e._v(" "+e._s(e.t("node.detail.glance.consumptionGauge.amount",a))+" "),t("span",{staticClass:"ml-10 percentage"},[e._v("/ "+e._s(s)+" ")])])]}}],null,!1,164093072)})],1):e._e(),t("ConsumptionGauge",{class:{"mt-10":e.showReserved},attrs:{capacity:e.fpgaCapacity,used:e.fpgaUsage,"resource-name":e.showReserved?"":e.resourceName},scopedSlots:e._u([{key:"title",fn:function({amountTemplateValues:a,formattedPercentage:s}){return[t("span",[e._v(" "+e._s(e.t("clusterIndexPage.hardwareResourceGauge.used"))+" ")]),t("span",{staticClass:"precent-data"},[e._v(" "+e._s(e.t("node.detail.glance.consumptionGauge.amount",a))+" "),t("span",{staticClass:"ml-10 percentage"},[e._v("/ "+e._s(s)+" ")])])]}}])})],1)},r=[],n=a("3c8a"),o=a("56a4"),i={name:"HarvesterFpgaUsed",components:{ConsumptionGauge:n["a"]},props:{value:{type:String,default:""},row:{type:Object,required:!0},resourceName:{type:String,default:""},intelPacA10Only:{type:Boolean,default:!1},intelPacS10Only:{type:Boolean,default:!1},showReserved:{type:Boolean,default:!1}},data(){return{}},computed:{node(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[e+"/byId"](o["z"],this.row.id);return t},pods(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[e+"/all"](o["B"]);return t.filter(e=>e.spec.nodeName===this.node.name)},intelPacA10Usage(){return this.pods.filter(e=>"Succeeded"!==e.status.phase&&"Failed"!==e.status.phase).map(e=>{var t,a;let s=0;return null===(t=e.spec.containers)||void 0===t||t.forEach(e=>{var t,a;const r=Number.parseInt((null===(t=e.resources)||void 0===t||null===(a=t.limits)||void 0===a?void 0:a["intel/pac_a10"])||"0");s+=r}),null===(a=e.spec.initContainers)||void 0===a||a.forEach(e=>{var t,a;const r=Number.parseInt((null===(t=e.resources)||void 0===t||null===(a=t.limits)||void 0===a?void 0:a["intel/pac_a10"])||"0");r>s&&(s=r)}),s}).reduce((e,t)=>e+t,0)},intelPacA10Allocatable(){return Number.parseInt(this.node.status.allocatable["intel/pac_a10"]||"0")},intelPacA10Capacity(){return Number.parseInt(this.node.status.capacity["intel/pac_a10"]||"0")},intelPacS10Usage(){return this.pods.filter(e=>"Succeeded"!==e.status.phase&&"Failed"!==e.status.phase).map(e=>{var t,a;let s=0;return null===(t=e.spec.containers)||void 0===t||t.forEach(e=>{var t,a;const r=Number.parseInt((null===(t=e.resources)||void 0===t||null===(a=t.limits)||void 0===a?void 0:a["intel/pac_s10"])||"0");s+=r}),null===(a=e.spec.initContainers)||void 0===a||a.forEach(e=>{var t,a;const r=Number.parseInt((null===(t=e.resources)||void 0===t||null===(a=t.limits)||void 0===a?void 0:a["intel/pac_s10"])||"0");r>s&&(s=r)}),s}).reduce((e,t)=>e+t,0)},intelPacS10Allocatable(){return Number.parseInt(this.node.status.capacity["intel/pac_s10"]||"0")},intelPacS10Capacity(){return Number.parseInt(this.node.status.capacity["intel/pac_s10"]||"0")},fpgaUsage(){return this.intelPacA10Only?this.intelPacA10Usage:this.intelPacS10Only?this.intelPacS10Usage:this.intelPacA10Usage+this.intelPacS10Usage},fpgaAllocatable(){return this.intelPacA10Only?this.intelPacA10Allocatable:this.intelPacS10Only?this.intelPacS10Allocatable:this.intelPacA10Allocatable+this.intelPacS10Allocatable},fpgaCapacity(){return this.intelPacA10Only?this.intelPacA10Capacity:this.intelPacS10Only?this.intelPacS10Capacity:this.intelPacA10Capacity+this.intelPacS10Capacity}}},l=i,u=(a("d209"),a("d802")),c=Object(u["a"])(l,s,r,!1,null,"e47c6506",null);t["default"]=c.exports},dd06:function(e,t,a){"use strict";a("fa78")},e5ca:function(e,t,a){"use strict";a("9a8e")},ebad:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".precent-data[data-v-11b8113c]{white-space:nowrap}",""]),e.exports=t},ef7b:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",e._l(e.parsed,(function(e,a){return t("div",{key:a},[t("CopyToClipboardText",{attrs:{text:e.label}})],1)})),0)},r=[],n=a("9651"),o=a("b2d6"),i={components:{CopyToClipboardText:n["a"]},props:{row:{type:Object,required:!0},col:{type:Object,required:!0}},computed:{parsed(){var e,t;const a=this.row||{},s=(null===a||void 0===a||null===(e=a.spec)||void 0===e?void 0:e.listeners)||[],r=[],n=null===(t=a.status)||void 0===t?void 0:t.address;if(n)return s.length>0?s.forEach(e=>{let t;const a=[80,443].includes(e.port);t="TCP"===(null===e||void 0===e?void 0:e.protocol)&&a&&Object(o["c"])(e.port,null===e||void 0===e?void 0:e.protocol)?`https://${n}:${e.port}`:`http://${n}:${e.port}`;let s=n;a||(s=`${n}:${e.port}`);const i=`<a href="${t}" target="_blank" rel="noopener noreferrer nofollow">${s}</a>`;r.push({html:i,label:s})}):r.push({html:n,label:n}),r}}},l=i,u=a("d802"),c=Object(u["a"])(l,s,r,!1,null,null,null);t["default"]=c.exports},f1e8:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".progress[data-v-2a3a568d]{display:block;border-radius:90px;background-color:var(--progress-bg);height:10px;width:100px}.progress .piece[data-v-2a3a568d]{display:inline-block;height:10px;border-radius:0;border-right:1px solid var(--progress-divider);vertical-align:top}.progress .piece[data-v-2a3a568d]:first-child{border-top-left-radius:90px;border-bottom-left-radius:90px}.progress .piece[data-v-2a3a568d]:last-child{border-top-right-radius:90px;border-bottom-right-radius:90px;border-right:0}.piece.bg-success[data-v-2a3a568d]:only-child{opacity:.5}",""]),e.exports=t},f35f:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("span",[t("div",{staticClass:"state"},[t("State",{attrs:{row:e.row}}),e.warningMessages.length>0?t("v-popover",{attrs:{trigger:"hover",offset:"16"},scopedSlots:e._u([{key:"popover",fn:function(){return e._l(e.warningMessages,(function(a,s){return t("p",{key:a.text},[e._v(" "+e._s(s+1)+". "+e._s(a.text)+" ")])}))},proxy:!0}],null,!1,4081473515)},[t("span",{staticClass:"tooltip-target"},[t("i",{staticClass:"icon icon-warning icon-lg text-warning"})])]):e._e()],1)])},r=[],n=a("2c0b"),o={components:{State:n["a"]},props:{row:{type:Object,required:!0}},computed:{warningMessages(){return this.row.warningMessages}}},i=o,l=(a("bbb6"),a("d802")),u=Object(l["a"])(i,s,r,!1,null,"336b92cf",null);t["default"]=u.exports},fa78:function(e,t,a){var s=a("62a5");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("190dc8ae",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=harvester-v1.2.1.umd.min.formatters.js.map