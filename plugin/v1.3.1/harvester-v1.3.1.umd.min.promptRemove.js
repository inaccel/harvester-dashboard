(("undefined"!==typeof self?self:this)["webpackJsonpharvester_v1_3_1"]=("undefined"!==typeof self?self:this)["webpackJsonpharvester_v1_3_1"]||[]).push([[12],{"0c27":function(e,t,c){"use strict";c.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mt-10"},[e._v(" "+e._s(e.t("promptRemove.attemptingToRemove",{type:e.type}))+" "),t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.resourceNames(e.names,e.plusMore,e.t),expression:"resourceNames(names, plusMore, t)"}]}),t("div",{staticClass:"mt-10"},[e._v(" "+e._s(e.t("harvester.virtualMachine.promptRemove.title"))+" ")]),1===e.value.length?t("div",e._l(e.removeNameArr[e.value[0].id],(function(c){return t("span",{key:c},[t("label",{staticClass:"checkbox-container mr-15"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedList,expression:"checkedList"}],attrs:{type:"checkbox",label:c},domProps:{value:c,checked:Array.isArray(e.checkedList)?e._i(e.checkedList,c)>-1:e.checkedList},on:{change:function(t){var r=e.checkedList,s=t.target,a=!!s.checked;if(Array.isArray(r)){var l=c,i=e._i(r,l);s.checked?i<0&&(e.checkedList=r.concat([l])):i>-1&&(e.checkedList=r.slice(0,i).concat(r.slice(i+1)))}else e.checkedList=a}}}),t("span",{staticClass:"checkbox-custom mr-5",attrs:{role:"checkbox"}}),e._v(" "+e._s(c)+" ")])])})),0):t("div",[t("label",{staticClass:"checkbox-container mr-15"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.checkAll,expression:"checkAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checkAll)?e._i(e.checkAll,null)>-1:e.checkAll},on:{change:function(t){var c=e.checkAll,r=t.target,s=!!r.checked;if(Array.isArray(c)){var a=null,l=e._i(c,a);r.checked?l<0&&(e.checkAll=c.concat([a])):l>-1&&(e.checkAll=c.slice(0,l).concat(c.slice(l+1)))}else e.checkAll=s}}}),t("span",{staticClass:"checkbox-custom mr-5",attrs:{role:"checkbox"}}),e._v(" "+e._s(e.t("harvester.virtualMachine.promptRemove.deleteAll"))+" ")])])])},s=[],a=c("9ce4"),l=c("90cd"),i=c("1832"),o=c("d356"),n=c.n(o),h=c("06f6"),m={name:"HarvesterPromptRemove",props:{value:{type:Array,default:()=>[]},names:{type:Array,default:()=>[]},type:{type:String,required:!0}},data(){return{checkedList:[],checkAll:!0}},computed:{...Object(a["b"])("action-menu",["toRemove"]),...Object(a["a"])({t:"i18n/t"}),removeNameArr(){const e={};return this.value.forEach(t=>{var c;if(t.type!==l["b"].VM)return;const r=(null===(c=t.spec.template.spec)||void 0===c?void 0:c.volumes)||[],s=r.filter(e=>e.persistentVolumeClaim).map(e=>{if(e.persistentVolumeClaim)return e.name});e[t.id]=s}),e},plusMore(){const e=this.toRemove.length-this.names.length;return this.t("promptRemove.andOthers",{count:e})}},watch:{removeNameArr:{handler(e){if(1===this.value.length){const t=Object.values(e[this.value[0].id]);this.checkedList.unshift(t[0])}},deep:!0,immediate:!0}},methods:{resourceNames:h["q"],remove(){const e=this.$parent.$parent.$parent;let t;e.doneLocation&&(t={...e.doneLocation}),Promise.all(this.value.map(e=>{if(e.type!==l["b"].VM)return void e.remove();let t="";this.value.length>1?this.checkAll&&this.removeNameArr[e.id].forEach(e=>{t+=`removedDisks=${e}&`}):(this.checkedList.forEach(e=>{t+=`removedDisks=${e}&`}),t.replace(/&$/,""));const c=n()(e.links.self);e.remove({url:`${c.pathname}?${t}propagationPolicy=Foreground`})})).then(c=>{t&&!Object(i["i"])(t)&&e.currentRouter.push(t),e.close()}).catch(t=>{e.error=t})}}},u=m,v=c("d802"),d=Object(v["a"])(u,r,s,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=harvester-v1.3.1.umd.min.promptRemove.js.map