(("undefined"!==typeof self?self:this)["webpackJsonpharvester_v1_3_2"]=("undefined"!==typeof self?self:this)["webpackJsonpharvester_v1_3_2"]||[]).push([[6],{"0112":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[e("h4",{directives:[{name:"clean-html",rawName:"v-clean-html",value:t.t("promptRemove.title"),expression:"t('promptRemove.title')"}],staticClass:"text-default-text"})]},proxy:!0},{key:"body",fn:function(){return[e("LabeledInput",{attrs:{type:"number",min:"1",required:"",label:t.t("harvester.sriov.numVFs")},model:{value:t.numVFs,callback:function(e){t.numVFs=t._n(e)},expression:"numVFs"}})]},proxy:!0},{key:"actions",fn:function(){return[e("div",{staticClass:"buttons actions"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"enable"},on:{click:t.save}})],1)]},proxy:!0}])})},o=[],r=a("d076"),n=a("9ce4"),c=a("09c6"),i=a("a967"),l=a("06f6"),d={name:"HarvesterEnableSriovDevice",components:{LabeledInput:r["a"],AsyncButton:i["b"],Card:c["a"]},props:{resources:{type:Array,required:!0}},data(){var t;const e=(null===(t=this.resources[0].spec)||void 0===t?void 0:t.numVFs)||1;return{numVFs:e,numVFsHistory:e}},computed:{...Object(n["a"])({t:"i18n/t"})},watch:{numVFs(t){(!parseFloat(t)||parseFloat(t)<1)&&(this.numVFs=1)}},methods:{close(){this.$emit("close")},async save(t){const e=this.resources[0];try{this.resources[0].spec.numVFs=this.numVFs,await e.save(),t(!0),this.close()}catch(a){this.resources[0].spec.numVFs=this.numVFsHistory,this.$store.dispatch("growl/fromError",{title:this.t("generic.notification.title.error",{name:Object(l["g"])(e.metadata.name)}),err:a},{root:!0}),t(!1)}}}},u=d,h=(a("4dcb"),a("d802")),m=Object(h["a"])(u,s,o,!1,null,"71c6261a",null);e["default"]=m.exports},"08f4":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-bc771d04],.buttons[data-v-bc771d04]{width:100%}.buttons[data-v-bc771d04]{display:flex;justify-content:flex-end}",""]),t.exports=e},"0968":function(t,e,a){var s=a("7019");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("67324c78",s,!0,{sourceMap:!1,shadowMode:!1})},"0c69":function(t,e,a){var s=a("87aa");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("aa960842",s,!0,{sourceMap:!1,shadowMode:!1})},"0c80":function(t,e,a){"use strict";a("2b15")},"0c8a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.t("harvester.modal.createTemplate.title"))+" ")]},proxy:!0},{key:"body",fn:function(){return[e("Checkbox",{staticClass:"mb-10",attrs:{label:"With Data"},model:{value:t.withData,callback:function(e){t.withData=e},expression:"withData"}}),e("LabeledInput",{staticClass:"mb-20",attrs:{label:t.t("harvester.modal.createTemplate.name"),required:""},model:{value:t.templateName,callback:function(e){t.templateName=e},expression:"templateName"}}),e("LabeledInput",{attrs:{label:t.t("harvester.modal.createTemplate.description")},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})]},proxy:!0}])},[e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"create",disabled:!t.templateName},on:{click:t.save}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("3792"),n=a("9ce4"),c=a("09c6"),i=a("dffb"),l=a("efb2"),d=a("a967"),u=a("d444"),h={name:"HarvesterCloneTemplateModal",components:{AsyncButton:d["b"],Banner:i["a"],Card:c["a"],Checkbox:l["a"],LabeledInput:u["a"]},props:{resources:{type:Array,required:!0}},data(){return{templateName:"",description:"",withData:!1,errors:[]}},computed:{...Object(n["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]}},methods:{close(){this.templateName="",this.description="",this.$emit("close")},async save(t){try{const e=await this.actionResource.doAction("createTemplate",{name:this.templateName,description:this.description,withData:this.withData},{},!1);if(200===e._status||204===e._status)this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.modal.createTemplate.message.success",{templateName:this.templateName})},{root:!0}),this.close(),t(!0);else{const a=[null===e||void 0===e?void 0:e.data]||!1;this.$set(this,"errors",a),t(!1)}}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(r["c"])(a);this.$set(this,"errors",s),t(!1)}}}},m=h,p=(a("a783"),a("d802")),v=Object(p["a"])(m,s,o,!1,null,"70d1299e",null);e["default"]=v.exports},"0d04":function(t,e,a){"use strict";a("87c9")},"0d67":function(t,e,a){var s=a("e8f0");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("28dfc1fa",s,!0,{sourceMap:!1,shadowMode:!1})},"0eaa":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{ref:"modal",attrs:{name:"modal","show-highlight-border":!1},scopedSlots:t._u([{key:"body",fn:function(){return[e("LabeledInput",{attrs:{label:t.t("generic.name"),required:""},model:{value:t.diskName,callback:function(e){t.diskName=e},expression:"diskName"}}),e("LabeledSelect",{staticClass:"mt-20",attrs:{label:t.t("harvester.fields.volume"),options:t.volumeOption,required:""},model:{value:t.volumeName,callback:function(e){t.volumeName=e},expression:"volumeName"}})]},proxy:!0}])},[e("h4",{directives:[{name:"clean-html",rawName:"v-clean-html",value:t.t("harvester.modal.hotplug.title"),expression:"t('harvester.modal.hotplug.title')"}],staticClass:"text-default-text",attrs:{slot:"title"},slot:"title"}),e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",attrs:{type:"button"},on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"apply",disabled:!t.diskName||!t.volumeName},on:{click:t.save}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("3792"),n=a("7592"),c=a("9ce4"),i=a("56a4"),l=a("873f"),d=a("09c6"),u=a("dffb"),h=a("a967"),m=a("d444"),p=a("53fe"),v={name:"HotplugModal",components:{AsyncButton:h["b"],Card:d["a"],LabeledInput:m["a"],LabeledSelect:p["a"],Banner:u["a"]},props:{resources:{type:Array,required:!0}},async fetch(){this.allPVCs=await this.$store.dispatch("harvester/findAll",{type:i["E"]})},data(){return{diskName:"",volumeName:"",errors:[],allPVCs:[]}},computed:{...Object(c["a"])({t:"i18n/t"}),PVCs(){return this.allPVCs.filter(t=>this.actionResource.metadata.namespace===t.metadata.namespace)||[]},actionResource(){return this.resources[0]},volumeOption(){return Object(n["b"])(this.PVCs.filter(t=>{var e,a;return(null===(e=t.metadata)||void 0===e||null===(a=e.annotations)||void 0===a||!a[l["a"].IMAGE_ID])&&!t.attachVM}).map(t=>({label:t.metadata.name,value:t.metadata.name})),"label")}},methods:{close(){this.diskName="",this.volumeName="",this.$emit("close")},async save(t){if(this.actionResource)try{const e=await this.actionResource.doAction("addVolume",{volumeSourceName:this.volumeName,diskName:this.diskName},{},!1);if(200===e._status||204===e._status)this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.modal.hotplug.success",{diskName:this.diskName,vm:this.actionResource.nameDisplay})},{root:!0}),this.close(),t(!0);else{const a=[null===e||void 0===e?void 0:e.data]||!1;this.$set(this,"errors",a),t(!1)}}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(r["c"])(a);this.$set(this,"errors",s),t(!1)}}}},f=v,b=(a("115b"),a("d802")),y=Object(b["a"])(f,s,o,!1,null,"0707bac6",null);e["default"]=y.exports},"115b":function(t,e,a){"use strict";a("8504")},"1c32":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-71c6261a],.buttons[data-v-71c6261a]{width:100%}.buttons[data-v-71c6261a]{display:flex;justify-content:flex-end}",""]),t.exports=e},"1d92":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-f44a2b7a],.buttons[data-v-f44a2b7a]{width:100%}.buttons[data-v-f44a2b7a]{display:flex;justify-content:flex-end}",""]),t.exports=e},"1de9":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"body",fn:function(){return[e("LabeledInput",{attrs:{disabled:!0,label:t.t("generic.namespace")},model:{value:t.actionResource.metadata.namespace,callback:function(e){t.$set(t.actionResource.metadata,"namespace",e)},expression:"actionResource.metadata.namespace"}}),e("LabeledInput",{staticClass:"mt-20",attrs:{label:t.t("generic.name"),required:""},model:{value:t.snapshotName,callback:function(e){t.snapshotName=e},expression:"snapshotName"}})]},proxy:!0}])},[e("h4",{directives:[{name:"clean-html",rawName:"v-clean-html",value:t.t("harvester.modal.vmSnapshot.title"),expression:"t('harvester.modal.vmSnapshot.title')"}],staticClass:"text-default-text",attrs:{slot:"title"},slot:"title"}),e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"create",disabled:!t.snapshotName},on:{click:t.save}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("3792"),n=a("9ce4"),c=a("09c6"),i=a("dffb"),l=a("a967"),d=a("d444"),u=a("90cd"),h=a("e603"),m={name:"HarvesterVMSnapshotDialog",components:{AsyncButton:l["b"],Card:c["a"],LabeledInput:d["a"],Banner:i["a"]},props:{resources:{type:Array,required:!0}},data(){return{snapshotName:"",snapshotNamespace:"",errors:[]}},computed:{...Object(n["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]}},methods:{close(){this.snapshotNamespace="",this.snapshotName="",this.$emit("close")},async save(t){if(this.actionResource)try{const e=await this.$store.dispatch("harvester/create",{metadata:{name:this.snapshotName,namespace:this.actionResource.metadata.namespace,ownerReferences:this.getOwnerReferencesFromVM(this.actionResource)},spec:{source:{apiGroup:"kubevirt.io",kind:"VirtualMachine",name:this.actionResource.metadata.name},type:h["a"].SNAPSHOT},type:u["b"].BACKUP});await e.save(),this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.modal.vmSnapshot.success",{name:this.snapshotName})},{root:!0}),this.close(),t(!0)}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(r["c"])(a);this.$set(this,"errors",s),t(!1)}},getOwnerReferencesFromVM(t){var e;const a=t.metadata.name,s=t.kind,o="kubevirt.io/v1",r=null===t||void 0===t||null===(e=t.metadata)||void 0===e?void 0:e.uid;return[{name:a,kind:s,uid:r,apiVersion:o}]}}},p=m,v=(a("643c"),a("d802")),f=Object(v["a"])(p,s,o,!1,null,"6d05f3b6",null);e["default"]=f.exports},"1e58":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-8fb5842c],.buttons[data-v-8fb5842c]{width:100%}.buttons[data-v-8fb5842c]{display:flex;justify-content:flex-end}",""]),t.exports=e},"1f84":function(t,e,a){"use strict";a("76ff")},"22cc":function(t,e,a){var s=a("5bd8");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("2d490a4c",s,!0,{sourceMap:!1,shadowMode:!1})},"2b15":function(t,e,a){var s=a("1d92");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("722f7990",s,!0,{sourceMap:!1,shadowMode:!1})},"31ac":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.t("harvester.modal.snapshot.title"))+" ")]},proxy:!0},{key:"body",fn:function(){return[e("LabeledInput",{attrs:{label:t.t("harvester.modal.snapshot.name"),required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})]},proxy:!0}])},[e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"create",disabled:t.disableSave},on:{click:t.save}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("9ce4"),n=a("3792"),c=a("09c6"),i=a("dffb"),l=a("a967"),d=a("d444"),u={name:"HarvesterSnapshotDialog",components:{AsyncButton:l["b"],Banner:i["a"],Card:c["a"],LabeledInput:d["a"]},props:{resources:{type:Array,required:!0}},data(){return{name:"",errors:[]}},computed:{...Object(r["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]},disableSave(){return!this.name}},methods:{close(){this.name="",this.$emit("close")},async save(t){try{const e=await this.actionResource.doAction("snapshot",{name:this.name});if(200===e._status||204===e._status)this.$store.dispatch("growl/success",{title:this.t("harvester.notification.title.succeed"),message:this.t("harvester.modal.snapshot.message.success",{name:this.name})},{root:!0}),this.close(),t(!0);else{const a=[null===e||void 0===e?void 0:e.data]||!1;this.$set(this,"errors",a),t(!1)}}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(n["c"])(a);this.$set(this,"errors",s),t(!1)}}}},h=u,m=(a("601f"),a("d802")),p=Object(m["a"])(h,s,o,!1,null,"f86985ac",null);e["default"]=p.exports},"37e5":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".body[data-v-acbad9aa]{display:flex;flex-direction:column}.body-field[data-v-acbad9aa]{margin-top:10px}.actions[data-v-acbad9aa],.buttons[data-v-acbad9aa]{width:100%}.buttons[data-v-acbad9aa]{display:flex;justify-content:flex-end}",""]),t.exports=e},4550:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{ref:"modal",attrs:{name:"modal","show-highlight-border":!1},scopedSlots:t._u([{key:"body",fn:function(){return[e("p",{directives:[{name:"clean-html",rawName:"v-clean-html",value:t.t(t.modalData.contentKey),expression:"t(modalData.contentKey)"}]})]},proxy:!0}])},[e("h4",{staticClass:"text-default-text",attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(t.t("generic.tip"))+" ")]),e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",attrs:{type:"button"},on:{click:t.ok}},[t._v(" "+t._s(t.t("generic.ok"))+" ")])])])])},o=[],r=a("9ce4"),n=a("09c6"),c={name:"HarvesterHotUnplugModal",components:{Card:n["a"]},props:{resources:{type:Array,required:!0}},computed:{...Object(r["b"])("action-menu",["modalData"]),...Object(r["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]}},methods:{ok(){var t;null===(t=this.modalData)||void 0===t||t.callback("ok"),this.$emit("close")}}},i=c,l=(a("0c80"),a("d802")),d=Object(l["a"])(i,s,o,!1,null,"f44a2b7a",null);e["default"]=d.exports},"469d":function(t,e,a){"use strict";a("8294")},"4a21":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-4e06b863],.buttons[data-v-4e06b863]{width:100%}.buttons[data-v-4e06b863]{display:flex;justify-content:flex-end}",""]),t.exports=e},"4d15":function(t,e,a){"use strict";a("d139")},"4dcb":function(t,e,a){"use strict";a("5967")},"558d":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-3766de94],.buttons[data-v-3766de94]{width:100%}.buttons[data-v-3766de94]{display:flex;justify-content:flex-end}",""]),t.exports=e},"56b5":function(t,e,a){"use strict";a("a29c")},5723:function(t,e,a){var s=a("77f3");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("001ab308",s,!0,{sourceMap:!1,shadowMode:!1})},"588e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[e("h4",{directives:[{name:"clean-html",rawName:"v-clean-html",value:t.t("harvester.vgpu.enable.title"),expression:"t('harvester.vgpu.enable.title')"}],staticClass:"text-default-text"})]},proxy:!0},{key:"body",fn:function(){return[e("div",{staticClass:"body"},[e("div",{staticClass:"type-field"},[e("LabeledSelect",{attrs:{required:"",options:t.availableTypes,searchable:!0,label:t.t("harvester.vgpu.enable.type")},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1)])]},proxy:!0},{key:"actions",fn:function(){return[e("div",{staticClass:"buttons actions"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"edit",disabled:!t.type},on:{click:t.save}})],1)]},proxy:!0}])})},o=[],r=a("9ce4"),n=a("09c6"),c=a("53fe"),i=a("a967"),l=a("06f6"),d={name:"HarvesterEnableVGpuDevice",components:{AsyncButton:i["b"],Card:n["a"],LabeledSelect:c["a"]},props:{resources:{type:Array,required:!0}},data(){var t,e;return{type:null===(t=this.resources[0].spec)||void 0===t?void 0:t.vGPUTypeName,availableTypes:Object.keys((null===(e=this.resources[0].status)||void 0===e?void 0:e.availableTypes)||{})}},computed:{...Object(r["a"])({t:"i18n/t"})},methods:{close(){this.$emit("close")},async save(t){const e=this.resources[0];try{this.resources[0].spec.vGPUTypeName=this.type,this.resources[0].spec.enabled=!0,await e.save(),t(!0),this.close()}catch(a){this.$store.dispatch("growl/fromError",{title:this.t("generic.notification.title.error",{name:Object(l["g"])(e.metadata.name)}),err:a},{root:!0}),t(!1)}}}},u=d,h=(a("4d15"),a("d802")),m=Object(h["a"])(u,s,o,!1,null,"acbad9aa",null);e["default"]=m.exports},5967:function(t,e,a){var s=a("1c32");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("cc2a1a3c",s,!0,{sourceMap:!1,shadowMode:!1})},"5bd8":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-30a14a76],.buttons[data-v-30a14a76]{width:100%}.buttons[data-v-30a14a76]{display:flex;justify-content:flex-end}",""]),t.exports=e},"5d2b":function(t,e,a){"use strict";a("f6a0")},"5ea8":function(t,e,a){var s=a("9407");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("5e4e804a",s,!0,{sourceMap:!1,shadowMode:!1})},"5f39":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{ref:"modal",attrs:{name:"modal","show-highlight-border":!1}},[e("h4",{directives:[{name:"clean-html",rawName:"v-clean-html",value:t.t("harvester.virtualMachine.unplug.title",{name:t.diskName}),expression:"t('harvester.virtualMachine.unplug.title', { name: diskName })"}],staticClass:"text-default-text",attrs:{slot:"title"},slot:"title"}),e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",attrs:{type:"button"},on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"apply","action-label":t.t("harvester.virtualMachine.unplug.actionLabel"),"waiting-label":t.t("harvester.virtualMachine.unplug.actionLabel"),"success-label":t.t("harvester.virtualMachine.unplug.actionLabel")},on:{click:t.save}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("9ce4"),n=a("3792"),c=a("09c6"),i=a("dffb"),l=a("a967"),d={name:"HarvesterHotUnplugModal",components:{AsyncButton:l["b"],Card:c["a"],Banner:i["a"]},props:{resources:{type:Array,required:!0}},data(){return{errors:[]}},computed:{...Object(r["b"])("action-menu",["modalData"]),...Object(r["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]},diskName(){return this.modalData.diskName}},methods:{close(){this.$emit("close")},async save(t){try{const e=await this.actionResource.doAction("removeVolume",{diskName:this.diskName});if(200===e._status||204===e._status)this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.modal.hotunplug.success",{name:this.diskName})},{root:!0}),this.close(),t(!0);else{const a=[null===e||void 0===e?void 0:e.data]||!1;this.$set(this,"errors",a),t(!1)}}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(n["c"])(a);this.$set(this,"errors",s),t(!1)}}}},u=d,h=(a("ab6a"),a("d802")),m=Object(h["a"])(u,s,o,!1,null,"bc771d04",null);e["default"]=m.exports},"601f":function(t,e,a){"use strict";a("f964")},"61a1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("modal",{staticClass:"restart-modal",attrs:{name:"restartDialog",width:600,height:"auto","click-to-close":!1},on:{closed:t.close}},[e("Card",{staticClass:"prompt-restart",attrs:{"show-highlight-border":!1}},[e("h4",{directives:[{name:"clean-html",rawName:"v-clean-html",value:t.t("harvester.modal.restart.title"),expression:"t('harvester.modal.restart.title')"}],staticClass:"text-default-text",attrs:{slot:"title"},slot:"title"}),e("template",{slot:"body"},[t._t("body",(function(){return[e("div",{directives:[{name:"clean-html",rawName:"v-clean-html",value:t.t("harvester.modal.restart.tip"),expression:"t('harvester.modal.restart.tip')"}],staticClass:"pl-10 pr-10"})]}))],2),e("div",{staticClass:"bottom",attrs:{slot:"actions"},slot:"actions"},[t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})})),e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("harvester.modal.restart.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"restart"},on:{click:t.apply}})],1)],2)],2)],1)},o=[],r=a("9ce4"),n=a("a967"),c=a("09c6"),i=a("dffb"),l=a("3792"),d={components:{Card:c["a"],AsyncButton:n["b"],Banner:i["a"]},props:{vm:{type:Object,required:!0}},data(){return{errors:[],resolve:null}},computed:{...Object(r["a"])({t:"i18n/t"})},methods:{close(){this.resolve(),this.$emit("close")},apply(t){try{this.vm.doActionGrowl("restart",{}),t(!0),this.resolve(),this.close()}catch(e){console.error(e),this.errors=Object(l["c"])(e),t(!1)}}}},u=d,h=(a("cdd3"),a("d802")),m=Object(h["a"])(u,s,o,!1,null,"7e15e5b7",null);e["default"]=m.exports},"62a5":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".copy-to-clipboard-text[data-v-0865c2ae]{white-space:nowrap}.copy-to-clipboard-text.plain[data-v-0865c2ae]{color:var(--body-text)}.copy-to-clipboard-text.plain[data-v-0865c2ae]:hover{text-decoration:none}.copy-to-clipboard-text.copied[data-v-0865c2ae]{pointer-events:none;color:var(--success)}",""]),t.exports=e},"643c":function(t,e,a){"use strict";a("7557")},"65db":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.t("harvester.modal.restoreSnapshot.title"))+" ")]},proxy:!0},{key:"body",fn:function(){return[e("LabeledInput",{attrs:{label:t.t("harvester.modal.restoreSnapshot.name"),required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t.showStorageClass?e("LabeledSelect",{staticClass:"mt-20",attrs:{options:t.storageClassOptions,label:t.t("harvester.storage.storageClass.label"),required:""},model:{value:t.storageClassName,callback:function(e){t.storageClassName=e},expression:"storageClassName"}}):t._e()]},proxy:!0}])},[e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"create",disabled:t.disableSave},on:{click:t.save}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("9ce4"),n=a("3792"),c=a("09c6"),i=a("dffb"),l=a("a967"),d=a("d444"),u=a("53fe"),h=a("873f"),m=a("b837"),p=a("56a4"),v={name:"HarvesterRestoreSnapshotDialog",components:{AsyncButton:l["b"],Banner:i["a"],Card:c["a"],LabeledInput:d["a"],LabeledSelect:u["a"]},props:{resources:{type:Array,required:!0}},data(){return{name:"",errors:[],storageClassName:""}},async fetch(){const t=this.$store.getters["currentProduct"].inStore,e={storages:this.$store.dispatch(t+"/findAll",{type:p["O"]})};if(await Object(m["a"])(e),this.showStorageClass){var a,s;const e=this.$store.getters[t+"/all"](p["O"]).find(t=>t.isDefault),o=null===(a=this.resources[0].metadata)||void 0===a?void 0:a.annotations[h["a"].STORAGE_CLASS];this.$set(this,"storageClassName",o||(null===e||void 0===e||null===(s=e.metadata)||void 0===s?void 0:s.name)||"longhorn")}},computed:{...Object(r["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]||{}},disableSave(){return!(this.name&&(!this.showStorageClass||this.storageClassName))},storageClassOptions(){const t=this.$store.getters["currentProduct"].inStore,e=this.$store.getters[t+"/all"](p["O"]),a=e.filter(t=>{var e;return!(null!==(e=t.parameters)&&void 0!==e&&e.backingImage)}).filter(t=>{var e;return t.provisioner===(null===(e=this.actionResource.metadata)||void 0===e?void 0:e.annotations[h["a"].STORAGE_PROVISIONER])}).map(t=>{const e=t.isDefault?`${t.name} (${this.t("generic.default")})`:t.name;return{label:e,value:t.name}})||[];return a},showStorageClass(){var t,e;return"data"===(null===(t=this.actionResource)||void 0===t||null===(e=t.volume)||void 0===e?void 0:e.source)}},methods:{close(){this.name="",this.storageClassName="",this.$emit("close")},async save(t){try{const e={name:this.name};this.showStorageClass&&(e.storageClassName=this.storageClassName);const a=await this.actionResource.doAction("restore",e);if(200===a._status||204===a._status)this.$store.dispatch("growl/success",{title:this.t("harvester.notification.title.succeed"),message:this.t("harvester.modal.restoreSnapshot.success",{name:this.name})},{root:!0}),this.close(),t(!0);else{const e=[null===a||void 0===a?void 0:a.data]||!1;this.$set(this,"errors",e),t(!1)}}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(n["c"])(a);this.$set(this,"errors",s),t(!1)}}}},f=v,b=(a("1f84"),a("d802")),y=Object(b["a"])(f,s,o,!1,null,"52a08f95",null);e["default"]=y.exports},6761:function(t,e,a){"use strict";a("88b0")},7019:function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-62ceca0c],.buttons[data-v-62ceca0c]{width:100%}.buttons[data-v-62ceca0c]{display:flex;justify-content:flex-end}",""]),t.exports=e},7113:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"body",fn:function(){return[e("LabeledInput",{attrs:{label:t.t("generic.name"),required:""},model:{value:t.backUpName,callback:function(e){t.backUpName=e},expression:"backUpName"}})]},proxy:!0}])},[e("h4",{directives:[{name:"clean-html",rawName:"v-clean-html",value:t.t("harvester.modal.backup.addBackup"),expression:"t('harvester.modal.backup.addBackup')"}],staticClass:"text-default-text",attrs:{slot:"title"},slot:"title"}),e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"create",disabled:!t.backUpName},on:{click:t.save}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("3792"),n=a("9ce4"),c=a("09c6"),i=a("dffb"),l=a("a967"),d=a("d444"),u={name:"HarvesterBackupModal",components:{AsyncButton:l["b"],Card:c["a"],LabeledInput:d["a"],Banner:i["a"]},props:{resources:{type:Array,required:!0}},data(){return{backUpName:"",errors:[]}},computed:{...Object(n["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]}},methods:{close(){this.backUpName="",this.$emit("close")},async save(t){if(this.actionResource)try{const e=await this.actionResource.doAction("backup",{name:this.backUpName},{},!1);if(200===e._status||204===e._status)this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.modal.backup.success",{backUpName:this.backUpName})},{root:!0}),this.close(),t(!0);else{const a=[null===e||void 0===e?void 0:e.data]||!1;this.$set(this,"errors",a),t(!1)}}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(r["c"])(a);this.$set(this,"errors",s),t(!1)}}}},h=u,m=(a("56b5"),a("d802")),p=Object(m["a"])(h,s,o,!1,null,"4e06b863",null);e["default"]=p.exports},"743d":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-0707bac6],.buttons[data-v-0707bac6]{width:100%}.buttons[data-v-0707bac6]{display:flex;justify-content:flex-end}",""]),t.exports=e},7557:function(t,e,a){var s=a("bb49");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("12e6cb8e",s,!0,{sourceMap:!1,shadowMode:!1})},"76ff":function(t,e,a){var s=a("cddd");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("1a690f39",s,!0,{sourceMap:!1,shadowMode:!1})},"77f3":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-295655f7],.buttons[data-v-295655f7]{width:100%}.buttons[data-v-295655f7]{display:flex;justify-content:flex-end}",""]),t.exports=e},7972:function(t,e,a){var s=a("eaef");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("49e3d620",s,!0,{sourceMap:!1,shadowMode:!1})},"7afa":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-f86985ac],.buttons[data-v-f86985ac]{width:100%}.buttons[data-v-f86985ac]{display:flex;justify-content:flex-end}",""]),t.exports=e},"7fc1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.t("harvester.host.enableMaintenance.title"))+" ")]},proxy:!0},{key:"body",fn:function(){return[e("div",[e("Checkbox",{attrs:{"label-key":"harvester.host.enableMaintenance.force"},model:{value:t.force,callback:function(e){t.force=e},expression:"force"}})],1),e("Banner",{attrs:{color:"warning",label:t.t("harvester.host.enableMaintenance.protip")}}),t._l(t.errors,(function(a,s){return e("Banner",{key:s,attrs:{color:"error",label:t.ucFirst(a)}})})),t.force?t._e():e("Banner",{staticClass:"mt-0",attrs:{color:"warning",labelKey:"harvester.host.enableMaintenance.shutDownVMs"}}),t._l(t.unhealthyVMs,(function(a,s){return e("div",{key:s},[e("Banner",{attrs:{color:"error mt-0 mb-5"}},[e("p",[t._v(" "+t._s(t.ucFirst(a.message))+" ")])]),e("div",{staticClass:"vm-list mb-5"},t._l(a.vms,(function(t){return e("BadgeState",{key:t,attrs:{color:"bg-error mb-5 mr-5",label:t}})})),1)],1)}))]},proxy:!0}])},[e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"apply"},on:{click:t.apply}})],1)])])},o=[],r=a("9ce4"),n=a("a967"),c=a("09c6"),i=a("dffb"),l=a("efb2"),d=(a("3792"),a("57ab")),u=a("06f6"),h={components:{Card:c["a"],Checkbox:l["a"],AsyncButton:n["b"],Banner:i["a"],BadgeState:d["a"]},props:{resources:{type:Array,required:!0}},data(){return{errors:[],unhealthyVMs:[],force:!1}},computed:{...Object(r["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]}},methods:{ucFirst:u["u"],close(){this.$emit("close")},async apply(t){this.errors=[],this.unhealthyVMs=[];try{const e=await this.actionResource.doAction("maintenancePossible");if(this.force)200===e._status||204===e._status?(await this.actionResource.doAction("enableMaintenanceMode",{force:"true"}),t(!0),this.close()):t(!1);else if(200===e._status||204===e._status){const e=await this.actionResource.doAction("listUnhealthyVM");null!==e&&void 0!==e&&e.length?(this.unhealthyVMs=e,t(!1)):(await this.actionResource.doAction("enableMaintenanceMode",{force:"false"}),t(!0),this.close())}else t(!1)}catch(e){const a=[null===e||void 0===e?void 0:e.data]||!1;this.errors=a,t(!1)}}}},m=h,p=(a("5d2b"),a("d802")),v=Object(p["a"])(m,s,o,!1,null,"2087b28a",null);e["default"]=v.exports},8294:function(t,e,a){var s=a("bee8");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("0ff945b0",s,!0,{sourceMap:!1,shadowMode:!1})},8504:function(t,e,a){var s=a("743d");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("cd928aba",s,!0,{sourceMap:!1,shadowMode:!1})},"87aa":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-fa20f5d8]{text-align:right}",""]),t.exports=e},"87c9":function(t,e,a){var s=a("1e58");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("1b7c7af1",s,!0,{sourceMap:!1,shadowMode:!1})},8871:function(t,e,a){var s=a("08f4");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("46af5ede",s,!0,{sourceMap:!1,shadowMode:!1})},"88b0":function(t,e,a){var s=a("b425");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("79c42c82",s,!0,{sourceMap:!1,shadowMode:!1})},8929:function(t,e,a){"use strict";a("5ea8")},"8d65":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.t("harvester.modal.restore.title"))+" ")]},proxy:!0},{key:"body",fn:function(){return[e("LabeledSelect",{attrs:{label:t.t("harvester.modal.restore.selectBackup"),"localized-label":!0,options:t.backupOption,required:""},model:{value:t.backupName,callback:function(e){t.backupName=e},expression:"backupName"}})]},proxy:!0}])},[e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"create",disabled:!t.backupName},on:{click:t.saveRestore}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("9ce4"),n=a("06f6"),c=a("90cd"),i=a("b837"),l=a("3792"),d=a("09c6"),u=a("dffb"),h=a("a967"),m=a("53fe"),p={name:"HarvesterRestoreModal",components:{AsyncButton:h["b"],Banner:u["a"],Card:d["a"],LabeledSelect:m["a"]},async fetch(){const t=await Object(i["a"])({backups:this.$store.dispatch("harvester/findAll",{type:c["b"].BACKUP})});this.backups=t.backups},props:{resources:{type:Array,required:!0}},data(){return{backups:[],backupName:"",errors:[]}},computed:{...Object(r["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]},backupOption(){const t=this.backups.filter(t=>{var e,a;return t.attachVM===(null===(e=this.actionResource)||void 0===e||null===(a=e.metadata)||void 0===a?void 0:a.name)});return t.map(t=>({value:t.metadata.name,label:t.metadata.name}))}},methods:{close(){this.backupName="",this.errors=[],this.$emit("close")},async saveRestore(t){const e=`restore-${this.backupName}-${Object(n["p"])(5).toLowerCase()}`;if(!this.backupName)return this.$set(this,"errors",[this.t("harvester.modal.restore.message.backup")]),void t(!1);try{const a=await this.actionResource.doAction("restore",{backupName:this.backupName,name:e},{},!1);if(200===a._status||204===a._status)this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.modal.restore.success",{name:this.backupName})},{root:!0}),this.close(),t(!0);else{const e=[null===a||void 0===a?void 0:a.data]||!1;this.$set(this,"errors",e),t(!1)}}catch(a){const e=(null===a||void 0===a?void 0:a.data)||a,s=Object(l["c"])(e);this.$set(this,"errors",s),t(!1)}}}},v=p,f=(a("6761"),a("d802")),b=Object(f["a"])(v,s,o,!1,null,"67f20cdc",null);e["default"]=b.exports},"904d":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-2087b28a]{width:100%}.vm-list[data-v-2087b28a]{display:flex;flex-wrap:wrap}.buttons[data-v-2087b28a]{display:flex;justify-content:flex-end;width:100%}",""]),t.exports=e},"92e2":function(t,e,a){var s=a("afb8");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("766133dc",s,!0,{sourceMap:!1,shadowMode:!1})},9407:function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-256557e7],.buttons[data-v-256557e7]{width:100%}.buttons[data-v-256557e7]{display:flex;justify-content:flex-end}",""]),t.exports=e},9651:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return t.text?e("a",{staticClass:"copy-to-clipboard-text",class:{copied:t.copied,plain:t.plain},attrs:{href:"#"},on:{click:t.clicked}},[t._v(" "+t._s(t.text)+" "),e("i",{staticClass:"icon",class:{"icon-copy":!t.copied,"icon-checkmark":t.copied}})]):t._e()},o=[],r={props:{text:{type:String,required:!0},plain:{type:Boolean,default:!1}},data(){return{copied:!1}},methods:{clicked(t){if(!this.copied){t.preventDefault(),this.$copyText(this.text),this.copied=!0;let e=t.target;"I"===e.tagName&&(e=e.parentElement||e),setTimeout(()=>{this.copied=!1},500)}}}},n=r,c=(a("dd06"),a("d802")),i=Object(c["a"])(n,s,o,!1,null,"0865c2ae",null);e["a"]=i.exports},"999e":function(t,e,a){"use strict";a("5723")},"9da6":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.t("harvester.modal.cloneVM.title"))+" ")]},proxy:!0},{key:"body",fn:function(){return[e("Checkbox",{staticClass:"mb-10",attrs:{"label-key":"harvester.modal.cloneVM.type"},model:{value:t.cloneData,callback:function(e){t.cloneData=e},expression:"cloneData"}}),e("LabeledInput",{directives:[{name:"show",rawName:"v-show",value:t.cloneData,expression:"cloneData"}],staticClass:"mb-20",attrs:{label:t.t("harvester.modal.cloneVM.name"),required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})]},proxy:!0}])},[e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"create","action-label":t.cloneData?t.t("harvester.modal.cloneVM.action.create"):t.t("harvester.modal.cloneVM.action.clone"),disabled:t.cloneData&&!t.name},on:{click:t.create}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("3792"),n=a("9ce4"),c=a("09c6"),i=a("dffb"),l=a("efb2"),d=a("a967"),u=a("d444"),h={name:"CloneVMModal",components:{AsyncButton:d["b"],Banner:i["a"],Checkbox:l["a"],Card:c["a"],LabeledInput:u["a"]},props:{resources:{type:Array,required:!0}},data(){return{name:"",cloneData:!0,errors:[]}},computed:{...Object(n["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]}},methods:{close(){this.name="",this.$emit("close")},async create(t){if(!this.cloneData)return this.resources[0].goToClone(),t(!1),void this.close();try{const e=await this.actionResource.doAction("clone",{targetVm:this.name},{},!1);if(200===e._status||204===e._status)this.$store.dispatch("growl/success",{title:this.t("harvester.notification.title.succeed"),message:this.t("harvester.modal.cloneVM.message.success",{name:this.name})},{root:!0}),this.close(),t(!0);else{const a=[null===e||void 0===e?void 0:e.data]||!1;this.$set(this,"errors",a),t(!1)}}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(r["c"])(a);this.$set(this,"errors",s),t(!1)}}}},m=h,p=(a("469d"),a("d802")),v=Object(p["a"])(m,s,o,!1,null,"0da2e751",null);e["default"]=v.exports},a29c:function(t,e,a){var s=a("4a21");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("00d6586d",s,!0,{sourceMap:!1,shadowMode:!1})},a3be:function(t,e,a){"use strict";a("ef6f")},a783:function(t,e,a){"use strict";a("92e2")},ab6a:function(t,e,a){"use strict";a("8871")},afb8:function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-70d1299e],.buttons[data-v-70d1299e]{width:100%}.buttons[data-v-70d1299e]{display:flex;justify-content:flex-end}",""]),t.exports=e},b281:function(t,e,a){"use strict";a("22cc")},b425:function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-67f20cdc],.buttons[data-v-67f20cdc]{width:100%}.buttons[data-v-67f20cdc]{display:flex;justify-content:flex-end}",""]),t.exports=e},bb49:function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-6d05f3b6],.buttons[data-v-6d05f3b6]{width:100%}.buttons[data-v-6d05f3b6]{display:flex;justify-content:flex-end}",""]),t.exports=e},bee8:function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-0da2e751],.buttons[data-v-0da2e751]{width:100%}.buttons[data-v-0da2e751]{display:flex;justify-content:flex-end}",""]),t.exports=e},c491:function(t,e,a){"use strict";a("0968")},c7ac:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.t("harvester.modal.migration.title"))+" ")]},proxy:!0},{key:"body",fn:function(){return[e("LabeledSelect",{attrs:{label:t.t("harvester.modal.migration.fields.nodeName.label"),placeholder:t.t("harvester.modal.migration.fields.nodeName.placeholder"),options:t.nodeNameList},model:{value:t.nodeName,callback:function(e){t.nodeName=e},expression:"nodeName"}})]},proxy:!0}])},[e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"apply",disabled:!t.nodeName},on:{click:t.apply}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("9ce4"),n=a("56a4"),c=a("90cd"),i=a("3792"),l=a("873f"),d=a("09c6"),u=a("dffb"),h=a("a967"),m=a("53fe"),p={components:{AsyncButton:h["b"],Banner:u["a"],Card:d["a"],LabeledSelect:m["a"]},props:{resources:{type:Array,required:!0}},async fetch(){try{if(!this.actionResource.hasAction("findMigratableNodes"))return;const t=await this.actionResource.$dispatch("resourceAction",{resource:this.actionResource,actionName:"findMigratableNodes",body:{},opt:{}});this.availableNodes=t.nodes}catch(t){this.actionResource.$dispatch("growl/fromError",{title:this.t("generic.notification.title.error"),err:t.data||t},{root:!0})}},data(){return{nodeName:"",errors:[],availableNodes:[]}},computed:{...Object(r["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]},vmi(){const t=this.$store.getters["currentProduct"].inStore,e=this.$store.getters[t+"/all"](c["b"].VMI),a=e.find(t=>{var e;return t.id===(null===(e=this.actionResource)||void 0===e?void 0:e.id)})||null;return a},nodeNameList(){const t=this.$store.getters["harvester/all"](n["z"]);return t.filter(t=>!!this.availableNodes.includes(t.id)).map(t=>{var e,a,s,o;let r=null===t||void 0===t||null===(e=t.metadata)||void 0===e?void 0:e.name;const n=null===t||void 0===t||null===(a=t.metadata)||void 0===a?void 0:a.name,c=null===t||void 0===t||null===(s=t.metadata)||void 0===s||null===(o=s.annotations)||void 0===o?void 0:o[l["a"].HOST_CUSTOM_NAME];return c&&(r=c),{label:r,value:n}})}},methods:{close(){this.nodeName="",this.errors=[],this.$emit("close")},async apply(t){if(this.actionResource){if(!this.nodeName){const e=this.$store.getters["i18n/t"]("harvester.modal.migration.fields.nodeName.label"),a=this.$store.getters["i18n/t"]("validation.required",{key:e});return this.$set(this,"errors",[a]),void t(!1)}try{await this.actionResource.doAction("migrate",{nodeName:this.nodeName},{},!1),t(!0),this.close()}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(i["c"])(a);this.$set(this,"errors",s),t(!1)}}else t(!1)}}},v=p,f=(a("ea7e"),a("d802")),b=Object(f["a"])(v,s,o,!1,null,"502e4f22",null);e["default"]=b.exports},cd4d:function(t,e,a){"use strict";a("0c69")},cdd3:function(t,e,a){"use strict";a("7972")},cddd:function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-52a08f95],.buttons[data-v-52a08f95]{width:100%}.buttons[data-v-52a08f95]{display:flex;justify-content:flex-end}",""]),t.exports=e},d0d1:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.t("harvester.modal.ejectCDROM.title"))+" ")]},proxy:!0},{key:"body",fn:function(){return[e("span",{staticClass:"text-info mb-10"},[t._v(" "+t._s(t.t("harvester.modal.ejectCDROM.operationTip"))+" ")]),e("div",t._l(t.allDisk,(function(a){return e("Checkbox",{key:a.name,attrs:{label:a.name},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"disk.value"}})})),1),e("Banner",{attrs:{color:"warning"}},[e("span",[t._v(t._s(t.t("harvester.modal.ejectCDROM.warnTip")))])])]},proxy:!0}])},[e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{staticClass:"btn bg-error ml-10",attrs:{mode:"delete",disabled:!t.diskNames.length},on:{click:t.remove}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("9ce4"),n=a("09c6"),c=a("dffb"),i=a("a967"),l=a("efb2"),d=a("3792"),u={name:"HarvesterEjectCDROMModal",components:{AsyncButton:i["b"],Card:n["a"],Checkbox:l["a"],Banner:c["a"]},props:{resources:{type:Array,required:!0}},data(){const t=[],e=this.resources[0].spec.template.spec.domain.devices.disks;return Array.isArray(e)&&e.forEach(e=>{e.cdrom&&t.push({name:e.name,value:!1})}),{allDisk:t,errors:[],diskNames:[]}},computed:{...Object(r["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]},isDeleteDisabled(){return 0===this.diskNames.length}},methods:{updateNames(t){this.diskNames=t},async remove(t){try{await this.actionResource.doAction("ejectCdRom",{diskNames:this.diskNames}),this.close(),t(!0)}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(d["c"])(a);this.$set(this,"errors",s),t(!1)}},close(){this.backupName="",this.errors=[],this.$emit("close")}},watch:{allDisk:{handler(t){const e=[];t.forEach(t=>{t.value&&e.push(t.name)}),this.$set(this,"diskNames",e)},deep:!0}}},h=u,m=(a("c491"),a("d802")),p=Object(m["a"])(h,s,o,!1,null,"62ceca0c",null);e["default"]=p.exports},d139:function(t,e,a){var s=a("37e5");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("fb0a5a0e",s,!0,{sourceMap:!1,shadowMode:!1})},da7f:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"body",fn:function(){return[t._v(" "+t._s(t.t("harvester.pci.enablePassthroughWarning"))+" ")]},proxy:!0}])},[e("h4",{directives:[{name:"clean-html",rawName:"v-clean-html",value:t.t("promptRemove.title"),expression:"t('promptRemove.title')"}],staticClass:"text-default-text",attrs:{slot:"title"},slot:"title"}),e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"enable"},on:{click:t.save}})],1)])])},o=[],r=a("90cd"),n=a("9ce4"),c=a("09c6"),i=a("a967"),l=a("06f6"),d={name:"HarvesterEnablePassthrough",components:{AsyncButton:i["b"],Card:c["a"]},props:{resources:{type:Array,required:!0}},data(){return{}},computed:{...Object(n["a"])({t:"i18n/t"})},methods:{close(){this.$emit("close")},async save(t){const e=this.$store.getters["isSingleProduct"];let a="admin";if(!e){const t=this.$store.getters["auth/v3User"];a=(null===t||void 0===t?void 0:t.username)||(null===t||void 0===t?void 0:t.id)}for(let o=0;o<this.resources.length;o++){const e=this.resources[o],n=this.$store.getters["currentProduct"].inStore,c=await this.$store.dispatch(n+"/create",{type:r["b"].PCI_CLAIM,metadata:{name:e.metadata.name,ownerReferences:[{apiVersion:"devices.harvesterhci.io/v1beta1",kind:"PCIDevice",name:e.metadata.name,uid:e.metadata.uid}]},spec:{address:e.status.address,nodeName:e.status.nodeName,userName:a}});try{await c.save(),t(!0),this.close()}catch(s){this.$store.dispatch("growl/fromError",{title:this.t("harvester.pci.claimError",{name:Object(l["g"])(e.metadata.name)}),err:s},{root:!0}),t(!1)}}}}},u=d,h=(a("a3be"),a("d802")),m=Object(h["a"])(u,s,o,!1,null,"3766de94",null);e["default"]=m.exports},dd06:function(t,e,a){"use strict";a("fa78")},de9c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.t("harvester.modal.volumeClone.title"))+" ")]},proxy:!0},{key:"body",fn:function(){return[e("Checkbox",{staticClass:"mb-10",attrs:{"label-key":"harvester.modal.cloneVM.type"},model:{value:t.cloneData,callback:function(e){t.cloneData=e},expression:"cloneData"}}),e("LabeledInput",{directives:[{name:"show",rawName:"v-show",value:t.cloneData,expression:"cloneData"}],staticClass:"mb-20",attrs:{label:t.t("harvester.modal.volumeClone.name"),required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})]},proxy:!0}])},[e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"create",disabled:t.disableSave},on:{click:t.save}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("9ce4"),n=a("3792"),c=a("09c6"),i=a("dffb"),l=a("a967"),d=a("d444"),u=a("efb2"),h={name:"HarvesterPvcCloneDialog",components:{AsyncButton:l["b"],Banner:i["a"],Card:c["a"],LabeledInput:d["a"],Checkbox:u["a"]},props:{resources:{type:Array,required:!0}},data(){return{name:"",cloneData:!0,errors:[]}},computed:{...Object(r["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]},disableSave(){return this.cloneData&&!this.name}},methods:{close(){this.name="",this.$emit("close")},async save(t){if(!this.cloneData)return this.resources[0].goToClone(),t(!1),void this.close();try{const e=await this.actionResource.doAction("clone",{name:this.name});if(200===e._status||204===e._status)this.$store.dispatch("growl/success",{title:this.t("harvester.notification.title.succeed"),message:this.t("harvester.modal.volumeClone.message.success",{name:this.name})},{root:!0}),this.close(),t(!0);else{const a=[null===e||void 0===e?void 0:e.data]||!1;this.$set(this,"errors",a),t(!1)}}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(n["c"])(a);this.$set(this,"errors",s),t(!1)}}}},m=h,p=(a("8929"),a("d802")),v=Object(p["a"])(m,s,o,!1,null,"256557e7",null);e["default"]=v.exports},e42f:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.t("harvester.modal.migration.title"))+" ")]},proxy:!0},{key:"body",fn:function(){return[e("LabeledSelect",{attrs:{label:t.t("harvester.harvesterVlanConfigMigrateDialog.targetClusterNetwork.label"),placeholder:t.t("harvester.harvesterVlanConfigMigrateDialog.targetClusterNetwork.placeholder"),options:t.clusterNetworks},model:{value:t.clusterNetwork,callback:function(e){t.clusterNetwork=e},expression:"clusterNetwork"}})]},proxy:!0}])},[e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"apply",disabled:!t.clusterNetwork},on:{click:t.apply}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("9ce4"),n=a("90cd"),c=a("3792"),i=a("1832"),l=a("09c6"),d=a("dffb"),u=a("a967"),h=a("53fe"),m={components:{AsyncButton:u["b"],Banner:d["a"],Card:l["a"],LabeledSelect:h["a"]},props:{resources:{type:Array,required:!0}},data(){return{clusterNetwork:"",errors:[]}},computed:{...Object(r["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]},clusterNetworks(){const t=this.$store.getters["currentProduct"].inStore,e=this.$store.getters[t+"/all"](n["b"].CLUSTER_NETWORK);return e.filter(t=>{var e;return t.id!==(null===(e=this.actionResource.spec)||void 0===e?void 0:e.clusterNetwork)&&"mgmt"!==t.id}).map(t=>{const e=t.id,a=t.id;return{label:e,value:a}})}},methods:{close(){this.nodeName="",this.errors=[],this.$emit("close")},async apply(t){try{const e=Object(i["e"])(this.actionResource);e.spec.clusterNetwork=this.clusterNetwork,await this.$store.dispatch("harvester/request",{url:`/v1/harvester/${n["b"].VLAN_CONFIG}s/${e.id}`,method:"PUT",data:e}),t(!0),this.close()}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(c["c"])(a);this.$set(this,"errors",s),t(!1)}}}},p=m,v=(a("0d04"),a("d802")),f=Object(v["a"])(p,s,o,!1,null,"8fb5842c",null);e["default"]=f.exports},e8f0:function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-502e4f22],.buttons[data-v-502e4f22]{width:100%}.buttons[data-v-502e4f22]{display:flex;justify-content:flex-end}",""]),t.exports=e},ea7e:function(t,e,a){"use strict";a("0d67")},eaef:function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".restart-modal[data-v-7e15e5b7]{z-index:45}.prompt-restart[data-v-7e15e5b7]{margin:0}.bottom[data-v-7e15e5b7]{display:flex;flex-direction:column;flex:1}.bottom .banner[data-v-7e15e5b7]{margin-top:0}.bottom .buttons[data-v-7e15e5b7]{display:flex;justify-content:flex-end;width:100%}",""]),t.exports=e},ebf4:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.t("harvester.modal.exportImage.title"))+" ")]},proxy:!0},{key:"body",fn:function(){return[e("LabeledSelect",{staticClass:"mb-20",attrs:{label:t.t("harvester.modal.exportImage.namespace"),options:t.namespaces,required:""},model:{value:t.namespace,callback:function(e){t.namespace=e},expression:"namespace"}}),e("LabeledInput",{attrs:{label:t.t("harvester.modal.exportImage.name"),required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),e("LabeledSelect",{staticClass:"mt-20",attrs:{options:t.storageClassOptions,label:t.t("harvester.storage.storageClass.label"),required:""},model:{value:t.storageClassName,callback:function(e){t.storageClassName=e},expression:"storageClassName"}})]},proxy:!0}])},[e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"create",disabled:t.disableSave},on:{click:t.save}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("9ce4"),n=a("3792"),c=a("7592"),i=a("09c6"),l=a("dffb"),d=a("a967"),u=a("d444"),h=a("53fe"),m=a("56a4"),p=a("b837"),v={name:"HarvesterExportImageDialog",components:{AsyncButton:d["b"],Banner:l["a"],Card:i["a"],LabeledInput:u["a"],LabeledSelect:h["a"]},props:{resources:{type:Array,required:!0}},async fetch(){var t;const e=this.$store.getters["currentProduct"].inStore,a={storages:this.$store.dispatch(e+"/findAll",{type:m["O"]})};await Object(p["a"])(a);const s=this.$store.getters[e+"/all"](m["O"]).find(t=>t.isDefault);this.$set(this,"storageClassName",(null===s||void 0===s||null===(t=s.metadata)||void 0===t?void 0:t.name)||"longhorn")},data(){const t=this.$store.getters["defaultNamespace"]||"";return{name:"",namespace:t,storageClassName:"",errors:[]}},computed:{...Object(r["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]},namespaces(){const t=this.$store.getters["harvester/all"](m["w"]).filter(t=>!t.isSystem),e=Object(c["b"])(t.map(t=>({label:t.nameDisplay,value:t.id})),"label");return e},disableSave(){return!(this.name&&this.namespace&&this.storageClassName)},storageClassOptions(){const t=this.$store.getters["currentProduct"].inStore,e=this.$store.getters[t+"/all"](m["O"]),a=e.filter(t=>{var e;return!(null!==(e=t.parameters)&&void 0!==e&&e.backingImage)}).map(t=>{const e=t.isDefault?`${t.name} (${this.t("generic.default")})`:t.name;return{label:e,value:t.name}})||[];return a}},methods:{close(){this.name="",this.namespace="",this.storageClassName="",this.$emit("close")},async save(t){try{const e=await this.actionResource.doAction("export",{displayName:this.name,namespace:this.namespace,storageClassName:this.storageClassName});if(200===e._status||204===e._status)this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.modal.exportImage.message.success",{name:this.name})},{root:!0}),this.close(),t(!0);else{const a=[null===e||void 0===e?void 0:e.data]||!1;this.$set(this,"errors",a),t(!1)}}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(n["c"])(a);this.$set(this,"errors",s),t(!1)}}}},f=v,b=(a("999e"),a("d802")),y=Object(b["a"])(f,s,o,!1,null,"295655f7",null);e["default"]=y.exports},ef6f:function(t,e,a){var s=a("558d");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("5e9d6f7d",s,!0,{sourceMap:!1,shadowMode:!1})},f6a0:function(t,e,a){var s=a("904d");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("2555c059",s,!0,{sourceMap:!1,shadowMode:!1})},f890:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.t("harvester.modal.cloneVM.title"))+" ")]},proxy:!0},{key:"body",fn:function(){return[e("Checkbox",{staticClass:"mb-10",attrs:{"label-key":"harvester.modal.cloneVM.type"},model:{value:t.cloneData,callback:function(e){t.cloneData=e},expression:"cloneData"}}),e("LabeledInput",{directives:[{name:"show",rawName:"v-show",value:t.cloneData,expression:"cloneData"}],staticClass:"mb-20",attrs:{label:t.t("harvester.modal.cloneVM.name"),required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})]},proxy:!0}])},[e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"create","action-label":t.cloneData?t.t("harvester.modal.cloneVM.action.create"):t.t("harvester.modal.cloneVM.action.clone"),disabled:t.cloneData&&!t.name},on:{click:t.create}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("3792"),n=a("9ce4"),c=a("09c6"),i=a("dffb"),l=a("efb2"),d=a("a967"),u=a("d444"),h={name:"CloneVMModal",components:{AsyncButton:d["b"],Banner:i["a"],Checkbox:l["a"],Card:c["a"],LabeledInput:u["a"]},props:{resources:{type:Array,required:!0}},data(){return{name:"",cloneData:!0,errors:[]}},computed:{...Object(n["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]}},methods:{close(){this.name="",this.$emit("close")},async create(t){if(!this.cloneData)return this.resources[0].goToClone(),t(!1),void this.close();try{const e=await this.actionResource.doAction("clone",{targetVm:this.name},{},!1);if(200===e._status||204===e._status)this.$store.dispatch("growl/success",{title:this.t("harvester.notification.title.succeed"),message:this.t("harvester.modal.cloneVM.message.success",{name:this.name})},{root:!0}),this.close(),t(!0);else{const a=[null===e||void 0===e?void 0:e.data]||!1;this.$set(this,"errors",a),t(!1)}}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(r["c"])(a);this.$set(this,"errors",s),t(!1)}}}},m=h,p=(a("b281"),a("d802")),v=Object(p["a"])(m,s,o,!1,null,"30a14a76",null);e["default"]=v.exports},f964:function(t,e,a){var s=a("7afa");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("28fb4877",s,!0,{sourceMap:!1,shadowMode:!1})},fa78:function(t,e,a){var s=a("62a5");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("190dc8ae",s,!0,{sourceMap:!1,shadowMode:!1})},fc59:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{staticClass:"prompt-related",attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"actions",fn:function(){return[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{staticClass:"btn bg-error ml-10",attrs:{mode:"delete",disabled:t.deleteDisabled},on:{click:t.remove}})]},proxy:!0}])},[e("h4",{staticClass:"text-default-text",attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(t.t("promptRemove.title"))+" ")]),e("div",{staticClass:"pl-10 pr-10",attrs:{slot:"body"},slot:"body"},[e("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:t.t(t.warningMessageKey,{type:t.type,names:t.resourceNames},!0),expression:"t(warningMessageKey, { type, names: resourceNames }, true)"}]}),e("div",{staticClass:"mt-10 mb-10"},[e("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:t.t("promptRemove.confirmName",{nameToMatch:t.escapeHtml(t.nameToMatch)},!0),expression:"t('promptRemove.confirmName', { nameToMatch: escapeHtml(nameToMatch) }, true)"}]})]),e("div",{staticClass:"mb-10"},[e("CopyToClipboardText",{attrs:{text:t.nameToMatch}})],1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmName,expression:"confirmName"}],attrs:{id:"confirm",type:"text"},domProps:{value:t.confirmName},on:{input:function(e){e.target.composing||(t.confirmName=e.target.value)}}}),e("div",{staticClass:"text-info mt-20"},[t._v(" "+t._s(t.protip)+" ")]),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("9ce4"),n=a("3792"),c=a("1112"),i=a("a967"),l=a("dffb"),d=a("09c6"),u=a("06f6"),h=a("9651"),m={name:"ConfirmRelatedToRemoveDialog",components:{AsyncButton:i["b"],Banner:l["a"],Card:d["a"],CopyToClipboardText:h["a"]},props:{resources:{type:Array,required:!0}},data(){return{errors:[],confirmName:""}},computed:{...Object(r["b"])("action-menu",["modalData"]),warningMessageKey(){return this.modalData.warningMessageKey},names(){return this.resources.map(t=>t.nameDisplay).slice(0,5)},resourceNames(){return this.names.reduce((t,e,a)=>(a>=5||(t+=`<b>${Object(u["g"])(e)}</b>`,a===this.names.length-1?t+=this.plusMore:t+=a===this.resources.length-2?" and ":", "),t),"")},nameToMatch(){return this.resources[0].nameDisplay},plusMore(){const t=this.resources.length-this.names.length;return this.t("promptRemove.andOthers",{count:t})},type(){var t;const e=new Set(this.resources.reduce((t,e)=>(t.push(e.type),t),[]));if(e.size>1)return this.t("generic.resource",{count:this.resources.length});const a=null===(t=this.resources[0])||void 0===t?void 0:t.schema;return a?this.$store.getters["type-map/labelFor"](a,this.resources.length):"resource"+(1===this.resources.length?"":"s")},deleteDisabled(){return this.confirmName!==this.nameToMatch},protip(){return this.t("promptRemove.protip",{alternateLabel:c["a"]})}},methods:{escapeHtml:u["g"],close(){this.confirmName="",this.errors=[],this.$emit("close")},async remove(t){try{for(const t of this.resources)await t.remove();t(!0),this.close()}catch(e){this.errors=Object(n["c"])(e),t(!1)}}}},p=m,v=(a("cd4d"),a("d802")),f=Object(v["a"])(p,s,o,!1,null,"fa20f5d8",null);e["default"]=f.exports}}]);
//# sourceMappingURL=harvester-v1.3.2.umd.min.dialog.js.map